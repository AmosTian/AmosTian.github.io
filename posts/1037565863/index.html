<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.1.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="mask-icon" href="/images/favicon.png" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comfortaa:300,300italic,400,400italic,700,700italic|Ma Shan Zheng:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css"><script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"amostian.github.io",root:"/",scheme:"Pisces",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!1,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="C语言是一种用于和计算机交流的高级语言，既具有高级语言的特点，又具有汇编语言的特点   非常接近自然语言，程序执行效率高"><meta property="og:type" content="article"><meta property="og:title" content="C"><meta property="og:url" content="https://amostian.github.io/posts/1037565863/index.html"><meta property="og:site_name" content="AmosTian"><meta property="og:description" content="C语言是一种用于和计算机交流的高级语言，既具有高级语言的特点，又具有汇编语言的特点   非常接近自然语言，程序执行效率高"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20230323220918232.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20230323220410346.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20230323221304853.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20230323221241723.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20230323221419333.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20230323221451929.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20230323221611243.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20230323221646176.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20230323221709119.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20230323221731475.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/fe72fbde4eb9441eb7b84574b9a713fa-16795811007871.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/dd065bb91e33462ea893f39f8c2b52c2-16795811089853.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/2efedf2095a746e291528b9e9195951b-16795811391765.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/8806d5f7d2a94b80aa4fe511ce498a67.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/7dc2ab55e7dd4c06be094a08a1501ba3.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/189980520d2b4c4ca8664b75fcb966db.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/d1b7b92324024a809ae7748bc0e76397.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/f5288d8837e04564be685cc16486a57d.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20220803171617374.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20220803173907597.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20220803175209631.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20220803175539377.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20220803175623595.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20220803180328887.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/a989b57283bdbcd82ae8bfb0c6fb4b8d.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20220806105212869.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20220806185704984.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20220807174549832.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20220807183824686.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20220807184848573.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20220807185133962.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20220808181011659.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20220808180937199.png"><meta property="og:image" content="https://amostian.github.io/posts/1037565863/image-20220808140440801.png"><meta property="article:published_time" content="2022-03-13T23:56:41.000Z"><meta property="article:modified_time" content="2022-08-08T13:31:56.000Z"><meta property="article:author" content="AmosTian"><meta property="article:tag" content="编程语言"><meta property="article:tag" content="编译型语言"><meta property="article:tag" content="C"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://amostian.github.io/posts/1037565863/image-20230323220918232.png"><link rel="canonical" href="https://amostian.github.io/posts/1037565863/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>C | AmosTian</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">AmosTian</h1><span class="logo-line-after"><i></i></span></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">58</span></a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">74</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">360</span></a></li><li class="menu-item menu-item-essay"><a href="/categories/%E9%9A%8F%E7%AC%94/" rel="section"><i class="fa fa-fw fa-pied-piper"></i>随笔</a></li><li class="menu-item menu-item-dynamic-resume"><a href="/dynamic-resume/" rel="section"><i class="fa fa-fw fa-cog"></i>动态简历</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a href="https://github.com/AmosTian" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://amostian.github.io/posts/1037565863/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.png"><meta itemprop="name" content="AmosTian"><meta itemprop="description" content="知道的越多，不知道的越多"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="AmosTian"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">C</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间 2022-03-14 07:56:41" itemprop="dateCreated datePublished" datetime="2022-03-14T07:56:41+08:00">2022-03-14</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间 2022-08-08 21:31:56" itemprop="dateModified" datetime="2022-08-08T21:31:56+08:00">2022-08-08</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">编程语言</span></a> </span>> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E7%BC%96%E8%AF%91%E5%9E%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">编译型语言</span></a> </span>> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E7%BC%96%E8%AF%91%E5%9E%8B%E8%AF%AD%E8%A8%80/C/" itemprop="url" rel="index"><span itemprop="name">C</span></a></span></span><div class="post-symbolscount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">本文字数 </span><span title="本文字数">25.3k字 </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>51 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><blockquote><p>C语言是一种用于和计算机交流的高级语言，既具有高级语言的特点，又具有汇编语言的特点</p><p>非常接近自然语言，程序执行效率高</p></blockquote><span id="more"></span><h1 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h1><p>很多高级语言都是从C语言衍生的</p><ul><li>C++、C#、Object-C、Java、Go等</li></ul><p>很多系统软件都是由C语言编写的</p><ul><li>几乎所有的操作系统都是C编写的</li><li>几乎所有的计算机底层应用软件都是C编写的</li><li>几乎所有的编辑器都是C编写的</li></ul><h2 id="1-1-C语言发展史"><a href="#1-1-C语言发展史" class="headerlink" title="1.1 C语言发展史"></a>1.1 C语言发展史</h2><p>$FORTRAN\rightarrow ALGOL\rightarrow CPL \rightarrow BCPL\rightarrow B\rightarrow C\rightarrow C++$</p><p>BCPL与B语言：精炼、接近硬件，但过于简单，无数据类型</p><ul><li>1970 年美国贝尔实验室 Ken Tompson 以BCPL为基础，设计出了很简单而且很接近硬件的B语言，并用B语言写出了第一个UNIX操作系统。但B语言过于简单，功能有限</li><li>1972 年至1973 年期间，贝尔实验室 Dennis Ritchie 在B语言的基础上设计出了C语言。C语言保持B语言的精炼与接近硬件的特性，又克服了他们的缺点</li></ul><h2 id="1-2-C语言标准"><a href="#1-2-C语言标准" class="headerlink" title="1.2 C语言标准"></a>1.2 C语言标准</h2><ul><li>1989年C语言标准被批准，这个版本的C语言标准通常被称为ANSI C(C89)</li><li>1999年，国际标准化组织ISO又对C语言标准进行修订，在基本保留原C语言特征的基础上，针对应该的需要，增加了一些功能，命名为C99</li><li>2011年12月，ANSI采纳了ISO/IEC 9899:2011标准。这个标准通常即C11，它是C程序语言的现行标准</li></ul><h2 id="1-3-优点"><a href="#1-3-优点" class="headerlink" title="1.3 优点"></a>1.3 优点</h2><ul><li><p>简洁性：核心内容少，只有 32 个关键字，9 种控制语句、44 种运算符</p><p>条件语句：if…else，switch<br>循环语句：while，for，do…while<br>break，continue，return，goto</p></li><li><p>丰富的数据类型</p></li><li><p>具有低级语言的特点：与汇编语相近的功能和描述方法，如地址运算和二进制数位</p><p>可以对硬件端口进行直接操作</p></li><li><p>结构化语言，适用于大型程序模块化设计</p></li><li><p>代码效率高</p></li><li><p>语法限制不严，程序设计自由度大</p></li><li><p>可移植性好</p></li></ul><h2 id="1-4-算法"><a href="#1-4-算法" class="headerlink" title="1.4 算法"></a>1.4 算法</h2><blockquote><p>通过有限步骤，明确的操作产生问题答案</p></blockquote><p><strong>算法表示</strong><br>自然语言，传统流程图，N-S流程图，伪代码</p><p><strong>常用算法</strong>：枚举，递推，递归</p><h2 id="1-5-数据在计算机中的表示"><a href="#1-5-数据在计算机中的表示" class="headerlink" title="1.5 数据在计算机中的表示"></a>1.5 数据在计算机中的表示</h2><h3 id="1-5-1-进制转换"><a href="#1-5-1-进制转换" class="headerlink" title="1.5.1 进制转换"></a>1.5.1 进制转换</h3><h4 id="进制"><a href="#进制" class="headerlink" title="进制"></a>进制</h4><blockquote><p>计数的方式，数值的表示方式</p></blockquote><p>十进制 0、1、2、3、4、5、6、7、8、9 逢十进一</p><p>二进制 0、1 逢二进一</p><ul><li>书写格式：<code>0b</code>101</li></ul><p>八进制 0、1、2、3、4、5、6、7 逢八进一</p><ul><li>书写格式：<code>0</code>61</li></ul><p>十六进制 0、1、2、3、4、5、6、7、8、9、A、B、C、D、E、F 逢十六进一</p><ul><li>书写格式：<code>0x</code>45</li></ul><h4 id="转二进制"><a href="#转二进制" class="headerlink" title="转二进制"></a>转二进制</h4><p>整数部分：<strong>除基取余，从下至上</strong></p><p>小数部分：<strong>乘积取整，从上至下</strong></p><h3 id="1-5-2-数据编码"><a href="#1-5-2-数据编码" class="headerlink" title="1.5.2 数据编码"></a>1.5.2 数据编码</h3><p>计算机只能识别0和1的形式存储的</p><p>数据在计算机内部是以 <strong>补码</strong> 的形式存储，所有的运算都是以补码存储</p><ul><li><p>正数的原码、反码和补码都是它的二进制</p></li><li><p>负数的原码, 是将该负数的二进制最高位变为1</p><p>负数的反码, 是将该数的原码 <strong>除了符号位</strong> 以外的 <strong>其它位取反</strong></p><p>负数的补码, 就是它的反码 + 1</p></li></ul><h4 id="码制的由来"><a href="#码制的由来" class="headerlink" title="码制的由来"></a>码制的由来</h4><p>原码的减法不正确，所以引入反码。但反码相同的数相减，得到 -0。但前面的符号没有任何意义，所以引入补码。</p><h2 id="1-6-C语言程序组成"><a href="#1-6-C语言程序组成" class="headerlink" title="1.6 C语言程序组成"></a>1.6 C语言程序组成</h2><p>一个C语言程序由多个函数组成，每个函数有自己的功能</p><p><strong>一个程序有且仅有一个主函数</strong></p><ul><li><p>如果一个程序没有主函数，则这个函数不具备运行能力</p></li><li><p>程序运行时系统会自动调用主函数，而其他函数需要开发手动调用</p></li></ul><h3 id="1-6-1-主函数"><a href="#1-6-1-主函数" class="headerlink" title="1.6.1 主函数"></a>1.6.1 主函数</h3><h4 id="a-写法"><a href="#a-写法" class="headerlink" title="a. 写法"></a>a. 写法</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//other code...</span></span><br><span class="line">     <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>主函数前的int可以不写或者换成 <code>void</code></p></li><li><p>main函数中的 return 0 可以不写</p></li></ul><p>多种写法产生原因</p><ul><li><p>C语言最早的时候只是一种规范和标准（如C89，C11）</p></li><li><p>标准的推行需要各大厂商的支持和实施，由于各大厂商的各自实施，导致实施的标准不同</p></li></ul><h4 id="b-执行结果"><a href="#b-执行结果" class="headerlink" title="b. 执行结果"></a>b. 执行结果</h4><blockquote><p>如果main函数的执行正常, 那么就返回0</p><ul><li><code>main()</code> 默认返回0，可以不写</li></ul><p>如果main函数执行不正常, 那么就返回一个非0的数</p></blockquote><h4 id="c-主函数参数"><a href="#c-主函数参数" class="headerlink" title="c. 主函数参数"></a>c. 主函数参数</h4><p><code>main(int argc,const char * argv[])</code> 参数列表含义</p><ul><li><code>int argc</code> 系统在启动程序时传递给 <code>argv</code> 的值的个数</li><li><code>const char* argv[]</code> 系统在启动程序时传入的值，默认情况下只会传入一个值——<code>main()</code> 函数执行文件的路径</li></ul><p>可以通过 命令行 或者 项目设置 给 <code>main()</code> 传入其他参数</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">main(<span class="type">int</span> argc,<span class="type">char</span>* argv[])&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;argc = %d\n&quot;</span>,argc);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;argv[0]=%s\n&quot;</span>,argv[<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;argv[1]=%s\n&quot;</span>,argv[<span class="number">1</span>]);</span><br><span class="line">    getchar();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/posts/1037565863/image-20230323220918232.png" alt></p><h3 id="1-6-2-注释"><a href="#1-6-2-注释" class="headerlink" title="1.6.2 注释"></a>1.6.2 注释</h3><blockquote><p>注释可以用来解释某一段程序或者某一行代码是什么意思，方便程序员之间的交流沟通</p></blockquote><h4 id="a-注释分类"><a href="#a-注释分类" class="headerlink" title="a. 注释分类"></a>a. 注释分类</h4><h5 id="单行注释"><a href="#单行注释" class="headerlink" title="单行注释"></a>单行注释</h5><p><code>// 被注释内容</code></p><ul><li><p>使用范围：任何地方</p></li><li><p>作用范围: 从第二个斜线到这一行末尾</p></li><li><p>快捷键:Ctrl+/</p></li></ul><h5 id="多行注释"><a href="#多行注释" class="headerlink" title="多行注释"></a>多行注释</h5><p><code>/* 被注释内容 \*/</code></p><ul><li><p>使用范围：任何地方</p></li><li><p>作用范围: 从第一个 <code>/*</code> 到最近的一个 <code>*/</code></p></li></ul><h4 id="c-注意"><a href="#c-注意" class="headerlink" title="c. 注意"></a>c. 注意</h4><p>单行注释可以嵌套单行注释、多行注释</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// aa // vvvvvv</span></span><br><span class="line"><span class="comment">// /* asdasd */</span></span><br></pre></td></tr></table></figure><p>多行注释可以嵌套单行注释</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	// asdasd</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><p>多行注释 <strong>不能</strong> 嵌套多行注释</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">哈哈哈</span></span><br><span class="line"><span class="comment">     /*嘻嘻嘻*/</span></span><br><span class="line"> 呵呵呵 </span><br><span class="line">*/</span><br></pre></td></tr></table></figure><h3 id="1-6-3-关键字"><a href="#1-6-3-关键字" class="headerlink" title="1.6.3 关键字"></a>1.6.3 关键字</h3><blockquote><p>C语言中具有特殊含义的单词</p></blockquote><h4 id="a-特点"><a href="#a-特点" class="headerlink" title="a. 特点"></a>a. 特点</h4><ol><li><p>全部小写</p></li><li><p>不可用作变量名、函数名等</p></li><li><p>C语言一共有32个关键字</p></li></ol><div class="table-container"><table><thead><tr><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th></tr></thead><tbody><tr><td>char</td><td>short</td><td>int</td><td>long</td><td>float</td><td>double</td><td>if</td><td>else</td></tr><tr><td>return</td><td>do</td><td>while</td><td>for</td><td>switch</td><td>case</td><td>break</td><td>continue</td></tr><tr><td>default</td><td>goto</td><td>sizeof</td><td>auto</td><td>register</td><td>static</td><td>extern</td><td>unsigned</td></tr><tr><td>signed</td><td>typedef</td><td>struct</td><td>enum</td><td>union</td><td>void</td><td>const</td><td>volatile</td></tr></tbody></table></div><h4 id="b-分类"><a href="#b-分类" class="headerlink" title="b. 分类"></a>b. 分类</h4><h5 id="基本数据类型关键字"><a href="#基本数据类型关键字" class="headerlink" title="基本数据类型关键字"></a>基本数据类型关键字</h5><p><code>char</code>：字符类型变量</p><p><code>int</code>：整型变量</p><p><code>float</code>：浮点类型变量(单精度)</p><p><code>double</code>：浮点类型变量（双精度）</p><p><code>enum</code>：枚举声明</p><h5 id="类型修饰符"><a href="#类型修饰符" class="headerlink" title="类型修饰符"></a>类型修饰符</h5><p><code>short</code>：修饰 <code>int</code> ，表示短整型</p><p><code>long</code>：修饰 <code>int</code> ，表示长整型</p><p><code>signed</code>：修饰 <code>int</code> ，声明为有符号数据类型</p><p><code>unsigned</code>：修饰 <code>int</code> ，声明为无符号整数类型</p><h5 id="结构类型关键字"><a href="#结构类型关键字" class="headerlink" title="结构类型关键字"></a>结构类型关键字</h5><p><code>struct</code>：结构体声明</p><p><code>union</code>：共用体声明</p><h5 id="流程控制关键字"><a href="#流程控制关键字" class="headerlink" title="流程控制关键字"></a>流程控制关键字</h5><p>分支结构</p><p><code>if</code> ：条件语句</p><p><code>else</code> ：条件语句的否定分支</p><p><code>switch</code>：开关语句</p><p><code>case</code>：开关语句的分支标记</p><p><code>default</code>：开关语句中的其他分支</p><hr><p>循环语句</p><p><code>for</code>：循环语句</p><p><code>while</code>：循环语句</p><p><code>do...while</code>：循环语句</p><hr><p>跳转语句</p><p><code>continue</code>：跳过语句</p><p><code>break</code>：跳出语句</p><p><code>goto</code>：无条件跳转</p><p><code>return</code>：返回语句，用于返回特定值</p><hr><p>存储类型关键字</p><p><code>auto</code>：指定为自动变量</p><p><code>register</code>：指定为寄存器变量</p><p><code>static</code>：指定为静态存储类型</p><p><code>extern</code>：指定对应变量为外部存储类型</p><p><code>const</code>：指定变量为只读变量</p><p><code>volatile</code>：指定变量为易变变量</p><hr><p>特殊用途关键字</p><p><code>sizeof</code>：计算数据长度</p><p><code>typeof</code>：声明类型别名</p><p><code>void</code>：空类型</p><h1 id="2-数据类型"><a href="#2-数据类型" class="headerlink" title="2. 数据类型"></a>2. 数据类型</h1><h2 id="2-1-空类型-NULL"><a href="#2-1-空类型-NULL" class="headerlink" title="2.1 空类型 NULL"></a>2.1 空类型 <code>NULL</code></h2><h2 id="2-2-基本数据类型"><a href="#2-2-基本数据类型" class="headerlink" title="2.2 基本数据类型"></a>2.2 基本数据类型</h2><p>一个变量所占用的存储空间，和 <strong>定义变量时声明的类型</strong> 以及 <strong>编译环境</strong> 有关</p><div class="table-container"><table><thead><tr><th>类型</th><th>32位编译器</th><th>64位编译器</th></tr></thead><tbody><tr><td>char</td><td>1</td><td>1</td></tr><tr><td>int</td><td>4</td><td>4</td></tr><tr><td>float</td><td>4</td><td>4</td></tr><tr><td>double</td><td>8</td><td>8</td></tr><tr><td>short</td><td>2</td><td>2</td></tr><tr><td>long</td><td>4</td><td>8</td></tr><tr><td>long long</td><td>8</td><td>8</td></tr><tr><td>void*</td><td>4</td><td>8</td></tr></tbody></table></div><h3 id="2-2-1-char"><a href="#2-2-1-char" class="headerlink" title="2.2.1 char"></a>2.2.1 char</h3><p>char类型变量占1个字节存储空间，共8位</p><p>除单个字符以外, C语言的的转义字符也可以利用char类型存储</p><div class="table-container"><table><thead><tr><th>字符</th><th>意义</th></tr></thead><tbody><tr><td><code>\b</code></td><td>退格(BS)当前位置向后回退一个字符</td></tr><tr><td><code>\r</code></td><td>回车(CR),将当前位置移至本行开头</td></tr><tr><td><code>\n</code></td><td>换行(LF),将当前位置移至下一行开头</td></tr><tr><td><code>\t</code></td><td>水平制表(HT),跳到下一个 TAB 位置</td></tr><tr><td><code>\0</code></td><td>用于表示字符串的结束标记</td></tr><tr><td><code>\</code></td><td>代表一个反斜线字符 \\</td></tr><tr><td><code>\&quot;</code></td><td>代表一个双引号字符”</td></tr><tr><td><code>\&#39;</code></td><td>代表一个单引号字符’</td></tr></tbody></table></div><p>ASCII码：定义了字符与01串的映射关系</p><p><img src="/posts/1037565863/image-20230323220410346.png" alt></p><p>采用ASCII编码的字符占一个字节，一个中文字符（采用unicode）占三个字节</p><p>可见，<code>char</code> 类型变量不能存储中文内容<br>除转义字符外，不支持多个字符</p><h3 id="2-2-2-int与其说明符"><a href="#2-2-2-int与其说明符" class="headerlink" title="2.2.2 int与其说明符"></a>2.2.2 int与其说明符</h3><p>int 占用4字节的内存空间，取值范围为 $-2^{31}-2^{31}-1$</p><p>C语言中提供了 <strong>长度说明符</strong> 和 <strong>符号位说明</strong> 两种类型</p><p>这些类型说明符都是用于修饰 <code>int</code> 的，所以可以省略 <code>int</code></p><h4 id="a-short-和-long"><a href="#a-short-和-long" class="headerlink" title="a. short 和 long"></a>a. short 和 long</h4><p><code>short</code> 和 <code>long</code> 可提供不同长度的整型，相应的改变整型数值的取值范围</p><ul><li><p><code>short</code> 占用2字节，取值范围 $-2^{15}-2^{15}-1$</p></li><li><p><code>long</code> 占用8字节，取值范围 $-2^{63}-2^{63}-1$</p></li></ul><p><code>short</code> 的长度不能大于 <code>int</code> ，<code>int</code> 长度不能大于 <code>long</code></p><p>在32bit编译器环境下，<code>long</code> 占用4字节， <code>long long</code> 占用8字节</p><p>64bit编译器环境下，<code>long</code> 与 <code>long long</code> 占用8字节</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">// char占1个字节, char的取值范围 -2^7~2^7</span></span><br><span class="line">    <span class="type">char</span> num = <span class="number">129</span>;</span><br><span class="line">    <span class="comment">// num中存储的内容：1000 0001</span></span><br><span class="line">    <span class="comment">// 转化为十进制 1111 1111 -127</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// short int 占2个字节, short int的取值范围 -2^15~2^15-1 -32768~32767</span></span><br><span class="line">    <span class="type">short</span> <span class="type">int</span> num1 = <span class="number">32769</span>;<span class="comment">// -32767</span></span><br><span class="line">    <span class="comment">//num1中存储的内容：1000 0000 0000 0001</span></span><br><span class="line">    <span class="comment">//转化为十进制 1111 1111 1111 1111 = -32767</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 由于short/long/long long一般都是用于修饰int, 所以int可以省略</span></span><br><span class="line">    <span class="type">short</span> num2 = <span class="number">123</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;num5 = %d\n&quot;</span>, num5);</span><br><span class="line">    <span class="type">long</span> num3 = <span class="number">123</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;num6 = %ld\n&quot;</span>, num6);</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> num4 = <span class="number">123</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;num7 = %lld\n&quot;</span>, num7);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="b-signed-和-unsigned"><a href="#b-signed-和-unsigned" class="headerlink" title="b. signed 和 unsigned"></a>b. signed 和 unsigned</h4><p><code>unsigned</code> 和 <code>signed</code> 的区别在于最高位是否要当做符号位，他并不会改变 <code>int</code> 的存储空间</p><ul><li><p><code>signed</code> 等价于 <code>int</code> 等价于 <code>signed int</code> ，数值范围为 $-2^{31}-2^{31}-1$</p></li><li><p><code>unsigned</code> 表示无符号，最高位不当做符号位，数值范围 $0-2^{32}-1$</p></li></ul><p>符号位说明符和长度说明符可以混合使用</p><h3 id="2-2-3-枚举类型"><a href="#2-2-3-枚举类型" class="headerlink" title="2.2.3 枚举类型"></a>2.2.3 枚举类型</h3><p>在枚举类型的定义中，列举出所有可能的取值</p><p>枚举类型变量的取值不能超过定义的范围</p><h4 id="a-枚举类型定义"><a href="#a-枚举类型定义" class="headerlink" title="a. 枚举类型定义"></a>a. 枚举类型定义</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> 枚举名 &#123;</span></span><br><span class="line">	枚举元素<span class="number">1</span>;</span><br><span class="line">    枚举元素<span class="number">2</span>;</span><br><span class="line">    ......</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Season</span> &#123;</span></span><br><span class="line">    Spring;</span><br><span class="line">    Summer;</span><br><span class="line">    Autum;</span><br><span class="line">    Winter;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="b-枚举类型变量定义"><a href="#b-枚举类型变量定义" class="headerlink" title="b. 枚举类型变量定义"></a>b. 枚举类型变量定义</h4><p>先定义枚举类型，再定义枚举变量</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Season</span> &#123;</span></span><br><span class="line">    Spring,</span><br><span class="line">    Summer,</span><br><span class="line">    Autumn,</span><br><span class="line">    Winter</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Season</span> <span class="title">s</span>;</span></span><br></pre></td></tr></table></figure><hr><p>定义枚举类型的同时定义枚举变量</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Season</span> &#123;</span></span><br><span class="line">    Spring,</span><br><span class="line">    Summer,</span><br><span class="line">    Autumn,</span><br><span class="line">    Winter</span><br><span class="line">&#125; s;</span><br></pre></td></tr></table></figure><hr><p>省略枚举名称，直接定义枚举变量</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> &#123;</span></span><br><span class="line">    Spring,</span><br><span class="line">    Summer,</span><br><span class="line">    Autumn,</span><br><span class="line">    Winter</span><br><span class="line">&#125; s;</span><br></pre></td></tr></table></figure><h4 id="c-枚举变量的赋值与使用"><a href="#c-枚举变量的赋值与使用" class="headerlink" title="c. 枚举变量的赋值与使用"></a>c. 枚举变量的赋值与使用</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Season</span> &#123;</span></span><br><span class="line">    Spring,</span><br><span class="line">    Summer,</span><br><span class="line">    Autumn,</span><br><span class="line">    Winter</span><br><span class="line">&#125; s;</span><br><span class="line"></span><br><span class="line">s = Spring; <span class="comment">// 等价于 s = 0;</span></span><br><span class="line">s = <span class="number">3</span>; <span class="comment">// 等价于 s = winter;</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, s);</span><br></pre></td></tr></table></figure><ul><li><p>C编译器将枚举类型变量的元素作为整型常量处理，称为枚举常量</p></li><li><p>枚举元素的值取决于定义时各枚举元素排列的先后顺序</p><p>默认情况下，第一个枚举元素的值为0，第二个为1，递增</p></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Season</span> &#123;</span></span><br><span class="line">    Spring,</span><br><span class="line">    Summer,</span><br><span class="line">    Autumn,</span><br><span class="line">    Winter</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 默认情况下，spring的值为0，summer的值为1，autumn的值为2，winter的值为3</span></span><br></pre></td></tr></table></figure><hr><p>在定义枚举类型时可修改枚举元素的值</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Season</span> &#123;</span></span><br><span class="line">    Spring = <span class="number">9</span>,</span><br><span class="line">    Summer,</span><br><span class="line">    Autumn,</span><br><span class="line">    Winter</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// spring的值为9，summer的值为10，autumn的值为11，winter的值为12</span></span><br></pre></td></tr></table></figure><h2 id="2-3-构造类型"><a href="#2-3-构造类型" class="headerlink" title="2.3 构造类型"></a>2.3 构造类型</h2><h3 id="2-3-1-结构体"><a href="#2-3-1-结构体" class="headerlink" title="2.3.1 结构体"></a>2.3.1 结构体</h3><blockquote><p>用于保存一组不同类型的数据</p></blockquote><ul><li>当结构体成员是其本身时，只能用指针</li><li>当初始化参数列表中参数数量少于成员个数时，其余成员自动赋0</li><li>对结构体成员操作，实质上是对其所在地址进行操作</li></ul><h4 id="a-结构体定义"><a href="#a-结构体定义" class="headerlink" title="a. 结构体定义"></a>a. 结构体定义</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> 结构体类型名&#123;</span></span><br><span class="line">    类型名<span class="number">1</span> 成员名<span class="number">1</span>;</span><br><span class="line">    类型名<span class="number">2</span> 成员名<span class="number">2</span>;</span><br><span class="line">    ...</span><br><span class="line">    类型名<span class="number">3</span> 成员名<span class="number">3</span>;</span><br><span class="line">&#125;;</span><br><span class="line">---</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span>&#123;</span></span><br><span class="line">  <span class="type">char</span> *name;</span><br><span class="line">  <span class="type">int</span> age;</span><br><span class="line">  <span class="type">float</span> height;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="b-结构体变量"><a href="#b-结构体变量" class="headerlink" title="b. 结构体变量"></a>b. 结构体变量</h4><p>先定义结构体类型，再定义结构体变量名</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> &#123;</span></span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">stu</span>;</span></span><br></pre></td></tr></table></figure><hr><p>定义结构体类型的同时定义变量</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> &#123;</span></span><br><span class="line">  <span class="type">char</span> *name;</span><br><span class="line">  <span class="type">int</span> age;</span><br><span class="line">&#125; stu;</span><br></pre></td></tr></table></figure><hr><p>匿名结构体定义结构体变量</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;stu;</span><br></pre></td></tr></table></figure><h4 id="c-结构体成员访问"><a href="#c-结构体成员访问" class="headerlink" title="c. 结构体成员访问"></a>c. 结构体成员访问</h4><p><code>结构体变量名.成员名</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> &#123;</span></span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">stu</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 访问stu的age成员</span></span><br><span class="line">stu.age = <span class="number">27</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;age = %d&quot;</span>, stu.age);</span><br></pre></td></tr></table></figure><h4 id="d-结构体成员初始化"><a href="#d-结构体成员初始化" class="headerlink" title="d. 结构体成员初始化"></a>d. 结构体成员初始化</h4><p>定义的同时按顺序初始化</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Struct</span> &#123;</span></span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">stu</span> =</span> &#123;<span class="string">&quot;Amos&quot;</span>,<span class="number">23</span>&#125;;</span><br></pre></td></tr></table></figure><hr><p>定义的同时不按顺序初始化</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Struct</span> &#123;</span></span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">stu</span> =</span> &#123;.age = <span class="number">23</span>, .name = <span class="string">&quot;Amos&quot;</span>&#125;;</span><br></pre></td></tr></table></figure><hr><p>先定义后逐个初始化</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> &#123;</span></span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">stu</span>;</span></span><br><span class="line">stu.name = <span class="string">&quot;Amos&quot;</span>;</span><br><span class="line">stu.age = <span class="number">23</span>;</span><br></pre></td></tr></table></figure><hr><p>先定义后一次性初始化</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> &#123;</span></span><br><span class="line">     <span class="type">char</span> *name;</span><br><span class="line">     <span class="type">int</span> age;</span><br><span class="line"> &#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">stu</span>;</span></span><br><span class="line">stu = (<span class="keyword">struct</span> Student)&#123;<span class="string">&quot;Amos&quot;</span>, <span class="number">23</span>&#125;;</span><br></pre></td></tr></table></figure><h4 id="e-结构体作用域"><a href="#e-结构体作用域" class="headerlink" title="e. 结构体作用域"></a>e. 结构体作用域</h4><p>结构体类型定义在函数内部的作用域与局部变量的作用域相同</p><ul><li>从定义的那一行开始，直到遇到 <code>return</code> 或者 <code>&#123;&#125;</code> 为止</li><li>函数内部的结构体会屏蔽同名的全局结构体</li></ul><p>结构体类型定义在函数外部的作用域与全局变量的作用域相同</p><ul><li>从定义的哪一行开始，知道本文件结束为止</li></ul><h4 id="f-结构体数组"><a href="#f-结构体数组" class="headerlink" title="f. 结构体数组"></a>f. 结构体数组</h4><p><code>struct 结构体类型名称 数组名称[元素个数];</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> &#123;</span></span><br><span class="line">	<span class="type">char</span> *name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">stu</span>[2];</span></span><br></pre></td></tr></table></figure><h5 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h5><p>定义同时初始化</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> &#123;</span></span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">stu</span>[2] =</span> &#123;&#123;<span class="string">&quot;Amos&quot;</span>, <span class="number">23</span>&#125;,&#123;<span class="string">&quot;zz&quot;</span>, <span class="number">18</span>&#125;&#125;; </span><br></pre></td></tr></table></figure><hr><p>先定义后初始化</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> &#123;</span></span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">stu</span>[2];</span></span><br><span class="line">stu[<span class="number">0</span>] = &#123;<span class="string">&quot;Amos&quot;</span>, <span class="number">23</span>&#125;;</span><br><span class="line">stu[<span class="number">1</span>] = &#123;<span class="string">&quot;zz&quot;</span>, <span class="number">18</span>&#125;; </span><br></pre></td></tr></table></figure><h4 id="g-结构体指针"><a href="#g-结构体指针" class="headerlink" title="g. 结构体指针"></a>g. 结构体指针</h4><blockquote><p>一个指针变量当用指向一个结构体变量时，称之为结构体指针变量</p></blockquote><p><code>struct 结构名 *结构指针变量名;</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> &#123;</span></span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个结构体变量</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">stu</span> =</span> &#123;<span class="string">&quot;Amos&quot;</span>, <span class="number">23</span>&#125;;</span><br><span class="line"><span class="comment">//定义一个指向结构体的指针变量</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> *<span class="title">p</span>;</span></span><br><span class="line">p =  &amp;stu;</span><br><span class="line"></span><br><span class="line"># 访问成员变量的三种方法</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;name=%s, age = %d \n&quot;</span>, stu.name, stu.age);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;name=%s, age = %d \n&quot;</span>, (*p).name, (*p).age);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;name=%s, age = %d \n&quot;</span>, p-&gt;name, p-&gt;age);</span><br></pre></td></tr></table></figure><h4 id="h-结构体内存分析"><a href="#h-结构体内存分析" class="headerlink" title="h. 结构体内存分析"></a>h. 结构体内存分析</h4><p>给结构体变量开辟内存空间和给普通变量开辟内存空间一样，从内存的大地之开始，向小地址扩展</p><p>给结构体成员开辟内存空间和给数组元素开辟存储空间一样，会从给该变量分配的内存地址小的位置开始</p><p>结构体变量占用的内存空间是所有成员类型中最大内存占用的倍数</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span>&#123;</span></span><br><span class="line">    <span class="type">int</span> age; <span class="comment">// 4</span></span><br><span class="line">    <span class="type">char</span> ch; <span class="comment">// 1</span></span><br><span class="line">    <span class="type">double</span> score; <span class="comment">// 8</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> <span class="title">p</span>;</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;sizeof = %i\n&quot;</span>, <span class="keyword">sizeof</span>(p)); <span class="comment">// 16</span></span><br></pre></td></tr></table></figure><ul><li>占用内存最大的成员是 <code>score</code> ，占8个字节。所以以8字节为单位进行内存申请。</li><li>第一个8字节分配给 <code>ch</code> 和 <code>age</code> ，所以一共开辟了两个8字节的存储空间</li><li>第二个8字节分配给 <code>score</code></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span>&#123;</span></span><br><span class="line">    <span class="type">int</span> age; <span class="comment">// 4</span></span><br><span class="line">    <span class="type">double</span> score; <span class="comment">// 8</span></span><br><span class="line">    <span class="type">char</span> ch; <span class="comment">// 1</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> <span class="title">p</span>;</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;sizeof = %i\n&quot;</span>, <span class="keyword">sizeof</span>(p)); <span class="comment">// 24</span></span><br></pre></td></tr></table></figure><ul><li>占用内存最大的成员是 <code>score</code> ，占8个字节。所以以8字节为单位进行内存申请</li><li>第一个8字节分配给 <code>age</code></li><li>第二个8字节分配给 <code>score</code> ：第一个8字节只剩4字节，不够给 <code>age</code> 分配，需要重新申请</li><li>第三个8字节分配给 <code>ch</code> ：第二个8字节全部分配给了 <code>score</code> ，所以需要新开辟8个字节</li></ul><h4 id="i-结构体嵌套定义"><a href="#i-结构体嵌套定义" class="headerlink" title="i. 结构体嵌套定义"></a>i. 结构体嵌套定义</h4><p>结构体成员可以是一个结构体</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Date</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> year;</span><br><span class="line">    <span class="type">int</span> mouth;</span><br><span class="line">    <span class="type">int</span> day;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> num;</span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">    <span class="type">char</span> sex;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Date</span> <span class="title">birthday</span>;</span></span><br><span class="line">    Float score;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>结构体不可以嵌套同类型结构体变量</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 错误写法</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line"> 	<span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">stu</span>;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>对嵌套结构体成员的访问，连续使用成员运算符 <code>.</code> 访问最低一级成员</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Date</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> year;</span><br><span class="line">    <span class="type">int</span> month;</span><br><span class="line">    <span class="type">int</span> day;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> &#123;</span></span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Date</span> <span class="title">birthday</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">stu</span>;</span></span><br><span class="line">stu.name = <span class="string">&quot;Amos&quot;</span>;</span><br><span class="line">stu.birthday.year = <span class="number">2000</span>;</span><br><span class="line">stu.birthday.month = <span class="number">1</span>;</span><br><span class="line">stu.birthday.day = <span class="number">1</span>;</span><br></pre></td></tr></table></figure><h4 id="j-结构体和函数"><a href="#j-结构体和函数" class="headerlink" title="j. 结构体和函数"></a>j. 结构体和函数</h4><blockquote><p>结构体之间赋值是值拷贝 ，不是地址传递</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span>&#123;</span></span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> <span class="title">p1</span> =</span> &#123;<span class="string">&quot;Amos&quot;</span>, <span class="number">23</span>&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> <span class="title">p2</span>;</span></span><br><span class="line">p2 = p1;</span><br><span class="line">p2.name = <span class="string">&quot;Auspice&quot;</span>; <span class="comment">// 修改p2不会影响p1</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p1.name = %s\n&quot;</span>, p1.name); <span class="comment">// Amos</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p2.name = %s\n&quot;</span>, p2.name); <span class="comment">//  Auspice</span></span><br></pre></td></tr></table></figure><blockquote><p>在函数内修改形参，不会影响外界实参</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span>&#123;</span></span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">(<span class="keyword">struct</span> Person p)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Person</span> <span class="title">p1</span> =</span> &#123;<span class="string">&quot;Amos&quot;</span>, <span class="number">23</span>&#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p1.name = %s\n&quot;</span>, p1.name); <span class="comment">// Amos</span></span><br><span class="line">    alter(p1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p1.name = %s\n&quot;</span>, p1.name); <span class="comment">// Amos</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">alter</span><span class="params">(<span class="keyword">struct</span> Person per)</span>&#123;</span><br><span class="line">    per.name = <span class="string">&quot;Auspice&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="k-位域"><a href="#k-位域" class="headerlink" title="k. 位域"></a>k. 位域</h4><blockquote><p>特殊的结构体，以二进制位为单位，指定所占的二进制位数</p></blockquote><ul><li><p>只能用 <code>unsigned,int,signed int</code></p></li><li><p>当存储单元剩下的空间不够存放一个位域时，从跳到下个存储单元，从低位开始存储</p></li></ul><h3 id="2-3-2-共用体"><a href="#2-3-2-共用体" class="headerlink" title="2.3.2 共用体"></a>2.3.2 共用体</h3><h4 id="a-结构体和共用体区别"><a href="#a-结构体和共用体区别" class="headerlink" title="a. 结构体和共用体区别"></a>a. 结构体和共用体区别</h4><p>结构体：用于将多种数据组合成一个整体。</p><p>共用体：采用覆盖技术，几个不同变量共享一段内存空间。成员的起始地址一样，都是共用体的起始地址，在同一时刻只能使用其中的一个成员变量</p><p>区别：</p><ul><li>结构体每一位成员表示一种具体事物的属性，共用体是多种属性的集合</li><li>结构体的存储空间为各成员占用存储空间的和，共用体存储空间为最大成员的存储空间</li><li>共用体不能初始化，但结构体可以</li></ul><h4 id="b-共用体定义"><a href="#b-共用体定义" class="headerlink" title="b. 共用体定义"></a>b. 共用体定义</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">union</span> 共用体名 &#123;</span></span><br><span class="line">    数据类型 成员名称;</span><br><span class="line">    数据类型 成员名称;</span><br><span class="line">    ...	   ....</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">union</span> 共用体名 共用体变量名;</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">Test</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">char</span> ch;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">Test</span> <span class="title">t</span>;</span></span><br><span class="line"></span><br><span class="line">t.age = <span class="number">23</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;t.age = %d\n&quot;</span> ,t.age);<span class="comment">//23</span></span><br><span class="line">t.ch = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;t.ch = %c\n&quot;</span>,t.ch);<span class="comment">//a</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;t.age = %d\n&quot;</span>,t.age);<span class="comment">//23</span></span><br></pre></td></tr></table></figure><h4 id="c-应用场景"><a href="#c-应用场景" class="headerlink" title="c. 应用场景"></a>c. 应用场景</h4><ol><li>通信中的数据包会用到共用体，因为不知道对方会发送什么样的数据包过来</li><li>节约内存。两个很长的数据结构，但不会同时使用，用结构体就比较浪费内存</li><li>某些应用需要大量临时变量，这些变量类型不同，且随时更换。可以使用共用体让这些变量共享一个内存空间，这些临时变量不需要长期保存</li></ol><h3 id="2-3-3-数组"><a href="#2-3-3-数组" class="headerlink" title="2.3.3 数组"></a>2.3.3 数组</h3><p>数组：一组 <strong>相同数据类型</strong> 数据的有序集合</p><p>数组名：该数组在内存中的起始地址</p><p>数组元素：构成数组的每一个数据</p><p>数组下标：数组元素下标范围：$(0,元素个数-1)$</p><h4 id="a-数组定义"><a href="#a-数组定义" class="headerlink" title="a. 数组定义"></a>a. 数组定义</h4><p><code>元素名 数组名[元素个数];</code></p><ul><li>元素个数只能写整型常量或者常量表达式</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> ages4[<span class="string">&#x27;A&#x27;</span>] = &#123;<span class="number">19</span>, <span class="number">22</span>, <span class="number">33</span>&#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;ages4[0] = %d\n&quot;</span>, ages4[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> ages5[<span class="number">5</span> + <span class="number">5</span>] = &#123;<span class="number">19</span>, <span class="number">22</span>, <span class="number">33</span>&#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;ages5[0] = %d\n&quot;</span>, ages5[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> ages5[<span class="string">&#x27;A&#x27;</span> + <span class="number">5</span>] = &#123;<span class="number">19</span>, <span class="number">22</span>, <span class="number">33</span>&#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;ages5[0] = %d\n&quot;</span>, ages5[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line"># 错误：未指定元素个数</span><br><span class="line"><span class="type">int</span> a[];</span><br><span class="line"></span><br><span class="line"># 错误：只能在定义数组的时候进行一次性（全部赋值）的初始化</span><br><span class="line"><span class="type">int</span> ages3[<span class="number">5</span>];</span><br><span class="line">ages10 = &#123;<span class="number">19</span>, <span class="number">22</span>, <span class="number">33</span>&#125;;</span><br></pre></td></tr></table></figure><h4 id="b-初始化数组"><a href="#b-初始化数组" class="headerlink" title="b. 初始化数组"></a>b. 初始化数组</h4><p>没有初始化的数组，存储的是随机的垃圾值</p><p>在 <code>&#123;&#125;</code> 中的各数据值即为各元素的初值,各值之间用逗号间隔</p><h5 id="定义的同时初始化"><a href="#定义的同时初始化" class="headerlink" title="定义的同时初始化"></a>定义的同时初始化</h5><p>指定元素个数，完全初始化</p><h2><a href="#" class="headerlink"></a><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> nums[<span class="number">3</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br></pre></td></tr></table></figure></h2><p>指定元素个数，部分初始化</p><ul><li><p>没有显式初始化的元素，系统会自动将其初始化为0</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> nums[<span class="number">10</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>&#125;;</span><br></pre></td></tr></table></figure></li><li><p>可以指定部分索引的值</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> nums[<span class="number">5</span>] = &#123;[<span class="number">4</span>] = <span class="number">3</span>,[<span class="number">1</span>] = <span class="number">2</span>&#125;;</span><br></pre></td></tr></table></figure></li></ul><hr><p>不指定元素个数，完全初始化</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> nums[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br></pre></td></tr></table></figure><ul><li><p>不指定元素个数，部分初始化</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> nums[] = &#123;[<span class="number">4</span>] = <span class="number">3</span>&#125;;</span><br></pre></td></tr></table></figure></li></ul><h5 id="先定义后单独初始化"><a href="#先定义后单独初始化" class="headerlink" title="先定义后单独初始化"></a>先定义后单独初始化</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> nums[<span class="number">3</span>];</span><br><span class="line">nums[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">nums[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">nums[<span class="number">2</span>] = <span class="number">3</span>;</span><br></pre></td></tr></table></figure><ul><li><p>对于数组，只能 <strong>定义时初始化</strong> 或 <strong>定义后逐个赋值</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> nums[<span class="number">3</span>];</span><br><span class="line">nums = &#123;<span class="number">1</span>,<span class="number">11</span>,<span class="number">2</span>&#125;; <span class="comment">// 报错</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="c-数组的使用"><a href="#c-数组的使用" class="headerlink" title="c. 数组的使用"></a>c. 数组的使用</h4><p>通过 <code>数组名[下标]</code> 访问</p><p>通过首地址偏移量访问 <code>*(数组名+n)</code></p><h5 id="数组的遍历"><a href="#数组的遍历" class="headerlink" title="数组的遍历"></a>数组的遍历</h5><blockquote><p>有序地查看数组的每一个元素</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> ages[<span class="number">4</span>] = &#123;<span class="number">19</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">13</span>&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;ages[%d] = %d\n&quot;</span>, i, ages[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="d-数组长度的计算"><a href="#d-数组长度的计算" class="headerlink" title="d. 数组长度的计算"></a>d. 数组长度的计算</h4><h5 id="数组存储空间的计算"><a href="#数组存储空间的计算" class="headerlink" title="数组存储空间的计算"></a>数组存储空间的计算</h5><p>$数组存储空间 = 一个元素占用的存储空间 * 元素个数(数组长度)$</p><h5 id="sizeof-关键字计算数组长度"><a href="#sizeof-关键字计算数组长度" class="headerlink" title="sizeof 关键字计算数组长度"></a><code>sizeof</code> 关键字计算数组长度</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> ages[<span class="number">4</span>] = &#123;<span class="number">19</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">13</span>&#125;;</span><br><span class="line"><span class="type">int</span> length =  <span class="keyword">sizeof</span>(ages)/<span class="keyword">sizeof</span>(<span class="type">int</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;length = %d&quot;</span>, length);</span><br><span class="line">输出结果: <span class="number">4</span></span><br></pre></td></tr></table></figure><h4 id="e-数组内存分析"><a href="#e-数组内存分析" class="headerlink" title="e. 数组内存分析"></a>e. 数组内存分析</h4><p>数组定义：从高地址开辟一块连续的没有被使用的内存给数组</p><p>数组名：指向分配给数组的最小地址</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> <span class="type">const</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* code */</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> num = <span class="number">9</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;num 地址%p\n&quot;</span>,&amp;num);</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> cs[] = &#123;<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>&#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;cs 地址%p\n&quot;</span>,cs);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;cs[0] 地址%p\n&quot;</span>,cs[<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;cs[1] 地址%p\n&quot;</span>,cs[<span class="number">1</span>]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;cs[2] 地址%p\n&quot;</span>,cs[<span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> nums[] = &#123;<span class="number">2</span>, <span class="number">6</span>&#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;nums = %p\n&quot;</span>, &amp;nums);      </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;nums[0] = %p\n&quot;</span>, &amp;nums[<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;nums[1] = %p\n&quot;</span>, &amp;nums[<span class="number">1</span>]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/posts/1037565863/image-20230323221304853.png" alt></p><p><img src="/posts/1037565863/image-20230323221241723.png" alt></p><ul><li>从该数组分配的连续存储空间中，低地址开始给元素分配一块内存</li><li>每个元素采用大端模式存储数据（高字节高地址）</li></ul><h4 id="f-数组越界问题"><a href="#f-数组越界问题" class="headerlink" title="f. 数组越界问题"></a>f. 数组越界问题</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> cs1[<span class="number">2</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>&#125;;</span><br><span class="line"><span class="type">char</span> cs2[<span class="number">3</span>] = &#123;<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line"></span><br><span class="line"># cs1[<span class="number">1</span>] cs1[<span class="number">0</span>] cs2[<span class="number">2</span>] cs2[<span class="number">1</span>] cs2[<span class="number">0</span>]</span><br><span class="line">cs2[<span class="number">3</span>] = <span class="number">88</span>; <span class="comment">// cs2[3] = cs1[0]</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;cs1[0] = %d\n&quot;</span>, cs1[<span class="number">0</span>]);</span><br><span class="line">输出结果: <span class="number">88</span></span><br></pre></td></tr></table></figure><h4 id="g-数组与函数"><a href="#g-数组与函数" class="headerlink" title="g. 数组与函数"></a>g. 数组与函数</h4><blockquote><p>数组可以作为函数参数使用</p><p>把数组元素作为实参——<strong>值传递</strong></p><p>把数组名作为函数形参和实参——<strong>地址传递</strong></p></blockquote><ul><li><p>实参数组名将该数组的起始地址传递给形参数组，两个数组共享一段内存单元，系统不会为形参数组分配存储单元</p></li><li><p>在被调函数中修改形参数组内容，实参数组内容也会被修改</p></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">change</span><span class="params">(<span class="type">int</span> <span class="built_in">array</span>[<span class="number">3</span>])</span>&#123;</span><br><span class="line">    <span class="comment">//等价于 void change(int array[])</span></span><br><span class="line">    <span class="comment">// void change(int *array)</span></span><br><span class="line">    <span class="built_in">array</span>[<span class="number">0</span>] = <span class="number">88</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">const</span> <span class="type">char</span> * argv[])</span>&#123;</span><br><span class="line">    <span class="type">int</span> ages[<span class="number">3</span>] = &#123;<span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>&#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;ages[0] = %d&quot;</span>, ages[<span class="number">0</span>]);<span class="comment">// 1</span></span><br><span class="line">    change(ages);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;ages[0] = %d&quot;</span>, ages[<span class="number">0</span>]);<span class="comment">// 88</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>在函数形参表中,允许不给出形参数组的长度</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">change</span><span class="params">(<span class="type">int</span> <span class="built_in">array</span>[])</span>&#123;</span><br><span class="line">    <span class="built_in">array</span>[<span class="number">0</span>] = <span class="number">88</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>形参数组和实参数组类型必须一致</p></li><li><p>当数组名作为函数参数时，因为自动转换为指针类型，所以在函数中无法动态计算数组的元素个数</p></li></ul><p><img src="/posts/1037565863/image-20230323221419333.png" alt></p><h3 id="2-3-4-二维数组"><a href="#2-3-4-二维数组" class="headerlink" title="2.3.4 二维数组"></a>2.3.4 二维数组</h3><p>二维数组的元素是一维数组</p><p><code>数据类型 数组名[一维数组个数][一维数组元素个数]</code></p><ul><li>一维数组的个数：包含多少一维数组</li><li>一维数组的元素个数：当前二维数组的每个一维数组元素的个数</li></ul><h4 id="a-初始化"><a href="#a-初始化" class="headerlink" title="a. 初始化"></a>a. 初始化</h4><p>定义同时初始化</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">2</span>][<span class="number">3</span>]=&#123; &#123;<span class="number">80</span>,<span class="number">75</span>,<span class="number">92</span>&#125;, &#123;<span class="number">61</span>,<span class="number">65</span>,<span class="number">71</span>&#125;&#125;;</span><br></pre></td></tr></table></figure><hr><p>定义后逐个赋值</p><h2 id="-1"><a href="#-1" class="headerlink"></a><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">2</span>][<span class="number">3</span>];</span><br><span class="line">a[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">80</span>;</span><br><span class="line">a[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">75</span>;</span><br><span class="line">a[<span class="number">0</span>][<span class="number">2</span>] = <span class="number">92</span>;</span><br><span class="line">a[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">61</span>;</span><br><span class="line">a[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">65</span>;</span><br><span class="line">a[<span class="number">1</span>][<span class="number">2</span>] = <span class="number">71</span>;</span><br></pre></td></tr></table></figure></h2><p>按行分段赋值</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">2</span>][<span class="number">3</span>]=&#123; &#123;<span class="number">80</span>,<span class="number">75</span>,<span class="number">92</span>&#125;, &#123;<span class="number">61</span>,<span class="number">65</span>,<span class="number">71</span>&#125;&#125;;</span><br></pre></td></tr></table></figure><hr><p>指定元素初始化</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">2</span>][<span class="number">3</span>]=&#123;[<span class="number">1</span>][<span class="number">2</span>]=<span class="number">10</span>&#125;;</span><br><span class="line"><span class="type">int</span> a[<span class="number">2</span>][<span class="number">3</span>]=&#123;[<span class="number">1</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;&#125;</span><br></pre></td></tr></table></figure><p><strong>注意</strong>：行长度可以省略，但列长度不能省略</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[][<span class="number">3</span>]=&#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;&#125;;</span><br><span class="line"><span class="type">int</span> a[][<span class="number">3</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//部分初始化</span></span><br><span class="line"><span class="type">int</span> a[][<span class="number">3</span>]=&#123;&#123;<span class="number">1</span>&#125;,&#123;<span class="number">4</span>,<span class="number">5</span>&#125;&#125;;</span><br><span class="line"><span class="type">int</span> a[][<span class="number">3</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br></pre></td></tr></table></figure><h4 id="b-二维数组的遍历"><a href="#b-二维数组的遍历" class="headerlink" title="b. 二维数组的遍历"></a>b. 二维数组的遍历</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> cs[<span class="number">2</span>][<span class="number">3</span>] = &#123;</span><br><span class="line">    &#123;<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span>&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) &#123; <span class="comment">// 外循环取出一维数组</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; <span class="number">3</span>;j++) &#123;<span class="comment">//内循环取出一维数组的元素</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, cs[i][j]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="c-二维数组的存储"><a href="#c-二维数组的存储" class="headerlink" title="c. 二维数组的存储"></a>c. 二维数组的存储</h4><p>从高地址开始给每个数组分配空间</p><p>从低地址开始给每个数组元素分配空间</p><p>从高地址给每个元素分配空间</p><p>每个元素大端模式存储数据</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">char</span> cs[<span class="number">2</span>][<span class="number">3</span>] = &#123;</span><br><span class="line">        &#123;<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// cs == &amp;cs == &amp;cs[0] == &amp;cs[0][0]</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;cs = %p\n&quot;</span>, cs);                <span class="comment">// 0060FEAA</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&amp;cs = %p\n&quot;</span>, &amp;cs);              <span class="comment">// 0060FEAA</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&amp;cs[0] = %p\n&quot;</span>, &amp;cs[<span class="number">0</span>]);        <span class="comment">// 0060FEAA</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&amp;cs[0][0] = %p\n&quot;</span>, &amp;cs[<span class="number">0</span>][<span class="number">0</span>]);  <span class="comment">// 0060FEAA</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/posts/1037565863/image-20230323221451929.png" alt></p><h4 id="d-二维数组与函数"><a href="#d-二维数组与函数" class="headerlink" title="d. 二维数组与函数"></a>d. 二维数组与函数</h4><h5 id="值传递"><a href="#值传递" class="headerlink" title="值传递"></a>值传递</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 基本类型在函数中修改形参不会影响实参</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">change</span><span class="params">(<span class="type">char</span> ch)</span>&#123;</span><br><span class="line">    ch = <span class="string">&#x27;n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">char</span> cs[<span class="number">2</span>][<span class="number">3</span>] = &#123;</span><br><span class="line">        &#123;<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;cs[0][0] = %c\n&quot;</span>, cs[<span class="number">0</span>][<span class="number">0</span>]); <span class="comment">// a</span></span><br><span class="line">    change(cs[<span class="number">0</span>][<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;cs[0][0] = %c\n&quot;</span>, cs[<span class="number">0</span>][<span class="number">0</span>]); <span class="comment">// a</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="地址传递"><a href="#地址传递" class="headerlink" title="地址传递"></a>地址传递</h5><p><code>a[i]</code> 表示的是一维数组首地址</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 数组类型在函数中修改形参会影响实参</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">change</span><span class="params">(<span class="type">char</span> ch[])</span>&#123;</span><br><span class="line">    ch[<span class="number">0</span>] = <span class="string">&#x27;n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">char</span> cs[<span class="number">2</span>][<span class="number">3</span>] = &#123;</span><br><span class="line">        &#123;<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;cs[0][0] = %c\n&quot;</span>, cs[<span class="number">0</span>][<span class="number">0</span>]); <span class="comment">// a</span></span><br><span class="line">    change(cs[<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;cs[0][0] = %c\n&quot;</span>, cs[<span class="number">0</span>][<span class="number">0</span>]); <span class="comment">// n</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>二维数组列不能省略</strong><br></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">change</span><span class="params">(<span class="type">char</span> ch[][<span class="number">3</span>])</span>&#123;</span><br><span class="line">    ch[<span class="number">0</span>][<span class="number">0</span>] = <span class="string">&#x27;n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">char</span> cs[<span class="number">2</span>][<span class="number">3</span>] = &#123;</span><br><span class="line">        &#123;<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;cs[0][0] = %c\n&quot;</span>, cs[<span class="number">0</span>][<span class="number">0</span>]); <span class="comment">// a</span></span><br><span class="line">    change(cs);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;cs[0][0] = %c\n&quot;</span>, cs[<span class="number">0</span>][<span class="number">0</span>]); <span class="comment">// n</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><strong>被调函数只知道数组的首地址，不知道行数，需要通过参数传入</strong></p><p>可以通过 <code>sizeof 数组名[i]</code> 获取列数</p><ul><li><code>sizeof(cs[0])</code> 获得列数</li><li><code>sizeof(cs)/sizeof(cs[0])</code> 获得行数</li></ul><h3 id="2-3-5-字符串"><a href="#2-3-5-字符串" class="headerlink" title="2.3.5 字符串"></a>2.3.5 字符串</h3><blockquote><p>用 <code>&quot;&quot;</code> 中的字符序列表示字符串常量</p></blockquote><p>以字符数组形式存储在计算机中，在每个字符串结尾需要添加一个 <code>&#39;\0&#39;</code> 表示字符串结束，<code>\0</code> 在ASCII中用0表示</p><ul><li>在C语言中没有专门的字符串变量，通常用一个字符数组来存放字符串</li></ul><h4 id="a-初始化-1"><a href="#a-初始化-1" class="headerlink" title="a. 初始化"></a>a. 初始化</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> name[<span class="number">9</span>] = <span class="string">&quot;Amos&quot;</span>; </span><br><span class="line"><span class="type">char</span> name1[<span class="number">9</span>] = &#123;<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;o&#x27;</span>,<span class="string">&#x27;s&#x27;</span>,<span class="string">&#x27;\0&#x27;</span>&#125;;</span><br><span class="line"><span class="type">char</span> name2[<span class="number">9</span>] = &#123;<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;o&#x27;</span>,<span class="string">&#x27;s&#x27;</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="comment">// 当数组空间大于字符个数时, 未被初始化的部分是0</span></span><br><span class="line"><span class="type">char</span> name3[<span class="number">9</span>] = &#123;<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;o&#x27;</span>,<span class="string">&#x27;s&#x27;</span>&#125;;</span><br><span class="line"><span class="comment">//上述四种写法是等价的</span></span><br></pre></td></tr></table></figure><p><strong>一个字符串数组，若不做初始化赋值，必须指定数组长度</strong></p><p>比正常数组可用的存储空间少1个，因为字符串结束标志 <code>&#39;\0&#39;</code> 需要占一个空间</p><h4 id="b-输入输出"><a href="#b-输入输出" class="headerlink" title="b. 输入输出"></a>b. 输入输出</h4><p>使用 <code>printf(&quot;%s&quot;,str);</code> 进行输出</p><ul><li><code>%s</code> 本质是根据传入的 str 地址逐个去取数组中的元素输出（$低地址\rightarrow 高地址$），直至遇到 <code>&#39;\0&#39;</code></li></ul><p><code>&#39;\0&#39;</code> 引发的脏读问题：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> name[] = &#123;<span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;l&#x27;</span> , <span class="string">&#x27;\0&#x27;</span>&#125;;</span><br><span class="line"><span class="type">char</span> name2[] = &#123;<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;m&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;s&#x27;</span>&#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;name2 = %s\n&quot;</span>, name2); <span class="comment">// 输出结果: Amoscool</span></span><br></pre></td></tr></table></figure><p>name低字节与name2高字节邻接，所以从低位输出name2到高位，会将name与name2全部输出</p><hr><p>使用 <code>scanf(&quot;%s&quot;,str);</code> 进行输入</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> ch[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,ch);</span><br></pre></td></tr></table></figure><ul><li><p>对一个字符串数组，如果不做初始化赋值， 必须指定数组长度</p></li><li><p><code>ch</code> 最多存放由9个字符构成的字符串，其中最后一个字符的位置要留给字符串结束标示 <code>‘\0’</code></p></li><li><p>当用 <code>scanf</code> 输入字符串时，字符串中不能有空格，否则将以空格作为串的结束符</p></li></ul><h4 id="c-常用方法"><a href="#c-常用方法" class="headerlink" title="c. 常用方法"></a>c. 常用方法</h4><p>C语言提供的字符串处理函数，大致可以分为字符串输入、输出、合并、修改、比较、替换、复制、搜索几类</p><ul><li>输入输出在 <code>stdio.h</code> 中</li><li>其他方法在 <code>string.h</code> 中</li></ul><h5 id="输入输出"><a href="#输入输出" class="headerlink" title="输入输出"></a>输入输出</h5><p><code>puts(字符数组名)</code> ：把字符数组中的字符串输出到显示器上</p><p>优点：</p><ul><li>自动换行</li><li>可以是数组的任意元素地址</li></ul><p>缺点</p><ul><li>不能自定义输出格式，只能输出字符串内容</li></ul><p><img src="/posts/1037565863/image-20230323221611243.png" alt></p><hr><p><code>gets(字符数组名)</code> ：从标准输入(键盘) 上输入一个字符串</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> ch[<span class="number">30</span>];</span><br><span class="line">gets(ch); <span class="comment">// 输入:Amos</span></span><br><span class="line"><span class="built_in">puts</span>(ch); <span class="comment">// 输出:Amos</span></span><br></pre></td></tr></table></figure><p><code>gets</code> 以 <strong>回车</strong> 作为输入结束，所以字符串中可以有空格</p><p><code>gets</code> 的接收变量是预先定义的，所以会有数组越界的风险</p><h5 id="字符串长度"><a href="#字符串长度" class="headerlink" title="字符串长度"></a>字符串长度</h5><p><code>sizeof</code> 动态计算</p><p>字符串在内存中是字符数组的形式存储，一个字符占用一个字节</p><p>字符串的结束符也占用一个存储单元</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> name[] = <span class="string">&quot;666&quot;</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;size = %d\n&quot;</span>, <span class="keyword">sizeof</span>(name)); <span class="comment">//输出结果:4</span></span><br><span class="line"><span class="comment">// 包括 \0</span></span><br></pre></td></tr></table></figure><hr><p><code>strlen(字符数组名)</code> ：获取字符串的实际长度（不包含字符结束标志 <code>&#39;\0&#39;</code>）</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> name[] = <span class="string">&quot;666&quot;</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;len = %d\n&quot;</span>, <span class="built_in">strlen</span>(name2)); <span class="comment">//输出结果:3</span></span><br></pre></td></tr></table></figure><hr><p>自定义</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">myStrlen</span><span class="params">(<span class="type">char</span> str[])</span>&#123;</span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(str[length] != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">        cnt++;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="字符串连接"><a href="#字符串连接" class="headerlink" title="字符串连接"></a>字符串连接</h5><p><code>strcat(destStr,newstr);</code></p><p>删去 <code>destStr</code> 后的 <code>\0</code> ，将 <code>newStr</code> 连接到 <code>destStr</code> 后，并，然后返回 <code>destStr</code> 的首地址</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> oldStr[<span class="number">100</span>] = <span class="string">&quot;welcome to&quot;</span>;</span><br><span class="line"><span class="type">char</span> newStr[<span class="number">20</span>] = <span class="string">&quot; Amos&quot;</span>;</span><br><span class="line"><span class="built_in">strcat</span>(oldStr, newStr);</span><br><span class="line"><span class="built_in">puts</span>(oldStr); <span class="comment">//输出: welcome to Amos&quot;</span></span><br></pre></td></tr></table></figure><p><code>destStr</code> 必须定义足够的长度，否则不能全部装入被连接的字符串</p><h5 id="字符串复制"><a href="#字符串复制" class="headerlink" title="字符串复制"></a>字符串复制</h5><p><code>strcpy(destSrc,srcStr);</code> ：将 <code>srcStr</code> 拷贝到 <code>destSrc</code> 中（ <code>&#39;\0&#39;</code> 也会一起拷贝）</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> destStr[<span class="number">100</span>] = <span class="string">&quot;welcome to&quot;</span>;</span><br><span class="line"><span class="type">char</span> newStr[<span class="number">50</span>] = <span class="string">&quot; Amos&quot;</span>;</span><br><span class="line"><span class="built_in">strcpy</span>(destStr, newStr);</span><br><span class="line"><span class="built_in">puts</span>(destStr); <span class="comment">// 输出结果:  Amos // 原有数据会被覆盖</span></span><br></pre></td></tr></table></figure><h5 id="字符串比较"><a href="#字符串比较" class="headerlink" title="字符串比较"></a>字符串比较</h5><p><code>strcmp(字符数组名1,字符数组名2);</code> ：逐字符比较两个字符数组的ASCII码，并返回比较结果</p><ul><li>字符串1 == 字符串2 ，返回值 = 0</li><li>字符串1 &gt; 字符串2，返回值 &gt; 0</li><li>字符串1 &lt; 字符串2，返回值 &lt; 0</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> bgStr[<span class="number">2</span>] = <span class="string">&quot;0&quot;</span>;</span><br><span class="line"><span class="type">char</span> smStr[<span class="number">2</span>] = <span class="string">&quot;1&quot;</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, <span class="built_in">strcmp</span>(bgStr, smStr)); <span class="comment">//输出结果:-1</span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> bgStr[<span class="number">2</span>] = <span class="string">&quot;1&quot;</span>;</span><br><span class="line"><span class="type">char</span> smStr[<span class="number">2</span>] = <span class="string">&quot;1&quot;</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, <span class="built_in">strcmp</span>(bgStr, smStr));  <span class="comment">//输出结果:0</span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> bgStr[<span class="number">2</span>] = <span class="string">&quot;1&quot;</span>;</span><br><span class="line"><span class="type">char</span> smStr[<span class="number">2</span>] = <span class="string">&quot;0&quot;</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, <span class="built_in">strcmp</span>(bgStr, smStr)); <span class="comment">//输出结果:1</span></span><br></pre></td></tr></table></figure><h2 id="2-4-指针类型"><a href="#2-4-指针类型" class="headerlink" title="2.4 指针类型"></a>2.4 指针类型</h2><h3 id="2-4-1-基本概念"><a href="#2-4-1-基本概念" class="headerlink" title="2.4.1 基本概念"></a>2.4.1 基本概念</h3><p>在计算机中，所有数据都存储在内存单元，每个内存单元都有唯一对应的地址，只要通过这个地址就能找到内存单元中的数据</p><h4 id="a-内存地址与存储空间"><a href="#a-内存地址与存储空间" class="headerlink" title="a. 内存地址与存储空间"></a>a. 内存地址与存储空间</h4><p>内存地址：门牌号——指明当前存储空间在内存中的位置</p><p>存储空间：房间——实际放数据的地方</p><p><img src="/posts/1037565863/image-20230323221646176.png" alt></p><blockquote><p>一个指针就是<strong>一个内存单元的地址</strong></p><p>变量地址：系统分配给变量的 “内存单元” 的<strong>起始地址</strong></p></blockquote><p><img src="/posts/1037565863/image-20230323221709119.png" alt></p><h4 id="b-指针变量"><a href="#b-指针变量" class="headerlink" title="b. 指针变量"></a>b. 指针变量</h4><p>在C语言中，允许用一个变量来存放其它变量的地址，即指针变量</p><p><img src="/posts/1037565863/image-20230323221731475.png" alt></p><h3 id="2-4-2-指针运算符"><a href="#2-4-2-指针运算符" class="headerlink" title="2.4.2 指针运算符"></a>2.4.2 指针运算符</h3><h4 id="a-amp"><a href="#a-amp" class="headerlink" title="a. &amp;"></a>a. &amp;</h4><p><code>&amp; 变量名</code>：获取变量的首地址（指针）</p><h4 id="b"><a href="#b" class="headerlink" title="b. *"></a>b. *</h4><p>在定义变量时，<code>*</code> 是一个类型说明符，说明定义的变量是一个指针变量</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> *p = <span class="literal">NULL</span>;</span><br></pre></td></tr></table></figure><p>在变量名前，且不是定义时，表示访问指针指向的存储空间</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> *p = &amp;a;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,*p);</span><br></pre></td></tr></table></figure><p>在表达式中，<code>*</code> 表示乘法</p><h3 id="2-4-3-指针类型"><a href="#2-4-3-指针类型" class="headerlink" title="2.4.3 指针类型"></a>2.4.3 指针类型</h3><p>在同一编译器环境下，所有指针变量占用的内存空间是固定的</p><p>但不同类型的变量所占存储空间是不同的</p><p>指针变量：</p><ul><li>16位编译器：2字节</li><li>32位编译器：4字节</li><li>64位编译器：8字节</li></ul><p>指针变量需要它所指向的数据类型告诉它要访问后续的多少个存储单元</p><p><img src="/posts/1037565863/fe72fbde4eb9441eb7b84574b9a713fa-16795811007871.png" alt="image-20220803111940768"></p><h3 id="2-4-4-指针变量定义"><a href="#2-4-4-指针变量定义" class="headerlink" title="2.4.4 指针变量定义"></a>2.4.4 指针变量定义</h3><p>指针变量：用一个变量存放其他变量的地址</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> age;<span class="comment">// 定义一个普通变量</span></span><br><span class="line"><span class="type">int</span> *pnAge; <span class="comment">// 定义一个指针变量</span></span><br><span class="line">pnAge = &amp;age;</span><br></pre></td></tr></table></figure><p><code>指针指向的数据类型 *指针变量名</code></p><h3 id="2-4-5-指针变量的初始化"><a href="#2-4-5-指针变量的初始化" class="headerlink" title="2.4.5 指针变量的初始化"></a>2.4.5 指针变量的初始化</h3><ul><li>指针变量只能存储地址, 不能存储其它类型</li><li>指针没有初始化里面是一个垃圾值，称为 <strong>野指针</strong></li><li>指针必须初始化才可以访问其所指向存储区域</li></ul><h4 id="a-定义同时初始化"><a href="#a-定义同时初始化" class="headerlink" title="a. 定义同时初始化"></a>a. 定义同时初始化</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> *p = &amp;a;</span><br></pre></td></tr></table></figure><h4 id="b-先定义后初始化"><a href="#b-先定义后初始化" class="headerlink" title="b. 先定义后初始化"></a>b. 先定义后初始化</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> *p;</span><br><span class="line">p=&amp;a;</span><br></pre></td></tr></table></figure><h4 id="c-注意-1"><a href="#c-注意-1" class="headerlink" title="c. 注意"></a>c. 注意</h4><ul><li><p>指针没有初始化，里面是一个垃圾值，称为野指针</p></li><li><p>指针的指向可以改变</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> *p = &amp;a;</span><br><span class="line"><span class="type">int</span> b = <span class="number">10</span>;</span><br><span class="line">p = &amp;b; <span class="comment">// 修改指针指向</span></span><br></pre></td></tr></table></figure></li><li><p>多个指针变量可以指向同一个地址</p></li></ul><h3 id="2-4-6-二级指针"><a href="#2-4-6-二级指针" class="headerlink" title="2.4.6 二级指针"></a>2.4.6 二级指针</h3><p>指针的指针，间接寻址</p><p><img src="/posts/1037565863/dd065bb91e33462ea893f39f8c2b52c2-16795811089853.png" alt></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> c = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="type">char</span> *cp;</span><br><span class="line">cp = &amp;c;</span><br><span class="line"><span class="type">char</span> **cp2;</span><br><span class="line">cp2 = &amp;cp;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;c = %c&quot;</span>, **cp2);</span><br></pre></td></tr></table></figure><h3 id="2-4-7-数组的指针"><a href="#2-4-7-数组的指针" class="headerlink" title="2.4.7 数组的指针"></a>2.4.7 数组的指针</h3><p>获取元素地址，使用取内容符 <code>&amp;val</code>【视为一维数组】</p><h4 id="a-数组元素的指针"><a href="#a-数组元素的指针" class="headerlink" title="a. 数组元素的指针"></a>a. 数组元素的指针</h4><p>一个数组由若干个数组元素组成，每个数组元素占用一段存储空间，<strong>数组元素的指针</strong>指向这段存储空间的首地址</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">10</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//将数组的首元素地址赋值给指针变量 p</span></span><br><span class="line"><span class="comment">// 以下两种写法等价</span></span><br><span class="line"><span class="type">int</span> *p = a;</span><br><span class="line"><span class="type">int</span> *p = &amp;a[<span class="number">0</span>];</span><br></pre></td></tr></table></figure><h4 id="b-指针访问数组元素"><a href="#b-指针访问数组元素" class="headerlink" title="b. 指针访问数组元素"></a>b. 指针访问数组元素</h4><p>访问数组元素的两种方法：</p><ul><li>下标，<code>a[i]</code></li><li>指针，<code>*p = a; *(p+i)</code></li></ul><p><img src="/posts/1037565863/2efedf2095a746e291528b9e9195951b-16795811391765.png" alt></p><ul><li><p>指针都可通过 <code>p+=1;</code> 或 <code>p++;</code> 后移指向下一个存储单元，这里的 <code>+1</code> 指的是后移一个存储单元</p></li><li><p><strong>数组名</strong> 是一个指针，但<strong>不能被修改</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> x[<span class="number">10</span>];</span><br><span class="line">x++;  <span class="comment">//错误</span></span><br><span class="line"><span class="type">int</span>* p = x;</span><br><span class="line">p++; <span class="comment">//正确</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="2-4-8-字符串指针"><a href="#2-4-8-字符串指针" class="headerlink" title="2.4.8 字符串指针"></a>2.4.8 字符串指针</h3><h4 id="a-字符串定义"><a href="#a-字符串定义" class="headerlink" title="a. 字符串定义"></a>a. 字符串定义</h4><h5 id="字符数组"><a href="#字符数组" class="headerlink" title="字符数组"></a>字符数组</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> <span class="built_in">string</span>[]=”Amos Tian”;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,<span class="built_in">string</span>);</span><br></pre></td></tr></table></figure><h5 id="字符串指针指向字符串"><a href="#字符串指针指向字符串" class="headerlink" title="字符串指针指向字符串"></a>字符串指针指向字符串</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数组名保存的是数组第0个元素的地址, 指针也可以保存第0个元素的地址</span></span><br><span class="line"><span class="type">char</span> *str = <span class="string">&quot;abc&quot;</span></span><br></pre></td></tr></table></figure><h4 id="b-通过指针获取字符串的某个字符"><a href="#b-通过指针获取字符串的某个字符" class="headerlink" title="b. 通过指针获取字符串的某个字符"></a>b. 通过指针获取字符串的某个字符</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> *str = <span class="string">&quot;Amos&quot;</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">strlen</span>(str);i++)&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%c-&quot;</span>, *(str+i)); <span class="comment">// 输出结果:A-m-o-s</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p><strong>不可修改字符串内容</strong></p><p>使用 <code>字符数组</code> 来保存的字符串是保存 <code>栈</code> 里的，保存栈里面东西是<strong>可读可写</strong>，所以可以修改字符串数组中的字符</p><p>使用 <code>字符指针</code> 来保存字符串，它保存的是 <code>字符串常量地址</code> ，常量区是<strong>只读</strong> 的 ，所以我们不可以修改字符串中的字符</p></li><li><p>未分配内存空间的指针，不能直接接收键盘输入</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 错误写法</span><br><span class="line"><span class="type">char</span> *str;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, str);</span><br></pre></td></tr></table></figure></li></ul><h3 id="2-4-9-函数与指针"><a href="#2-4-9-函数与指针" class="headerlink" title="2.4.9 函数与指针"></a>2.4.9 函数与指针</h3><p>函数作为一段程序，在内存中也要占据部分存储空间，这部分存储空间有一个起始地址（函数名可理解为一个函数指针），所以可以用一个指针指向这个起始地址。</p><h4 id="a-指向函数的指针"><a href="#a-指向函数的指针" class="headerlink" title="a. 指向函数的指针"></a>a. 指向函数的指针</h4><p><code>返回值类型 (*指针变量名)(形参1类型, 形参2类型, ...);</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*函数指针可指向多个函数*/</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> x+y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">max</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> x &gt; y ? x : y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">min</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> x &lt; y ? x : y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">	<span class="type">int</span> (*p)(<span class="type">int</span>,<span class="type">int</span>),addRes,a,b;</span><br><span class="line">    </span><br><span class="line">	p = add;</span><br><span class="line">	addRes = (*p)(a,b);</span><br><span class="line">	p = max;</span><br><span class="line">	maxRes = (*p)(a,b);</span><br><span class="line">	p = min;</span><br><span class="line">	minRes = (*p)(a,b);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>注意</strong></p><ul><li>这类指针变量存储的是一个函数的入口地址，所以对他们加减运算无意义</li><li>要求：定义指向函数的指针时，括号不能省略，否则报错：无法修改的左值</li><li>约定：通过函数指针调用函数时，括号不省略，即 <code>(函数变量名);</code> ，只是作为一种约定，表示通过函数指针调用函数</li></ul><h4 id="b-函数指针作为形参"><a href="#b-函数指针作为形参" class="headerlink" title="b. 函数指针作为形参"></a>b. 函数指针作为形参</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*函数指针可指向多个函数*/</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> x+y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">max</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> x &gt; y ? x : y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">min</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> x &lt; y ? x : y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">funp</span><span class="params">(<span class="type">int</span> (*p)(<span class="type">int</span>,<span class="type">int</span>),<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> (*p)(x,y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">	<span class="type">int</span> (*p)(<span class="type">int</span>,<span class="type">int</span>),res,a,b;</span><br><span class="line">	p = max;</span><br><span class="line">	res = funp(p,a,b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-4-10-指针数组"><a href="#2-4-10-指针数组" class="headerlink" title="2.4.10 指针数组"></a>2.4.10 指针数组</h3><p><code>数据类型 *数组名[数组长度]</code></p><p>数组名中存的是首地址</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> *str[<span class="number">3</span>] = &#123;<span class="string">&quot;one&quot;</span>,<span class="string">&quot;two&quot;</span>,<span class="string">&quot;program&quot;</span>&#125;</span><br><span class="line">/=&gt;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* char *str[3];</span></span><br><span class="line"><span class="comment">* char str[0] = &quot;one&quot;;</span></span><br><span class="line"><span class="comment">* char str[1] = &quot;two&quot;;</span></span><br><span class="line"><span class="comment">* char str[2] = &quot;program&quot;;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="2-5-类型转换"><a href="#2-5-类型转换" class="headerlink" title="2.5 类型转换"></a>2.5 类型转换</h2><h3 id="2-5-1-自动类型转换"><a href="#2-5-1-自动类型转换" class="headerlink" title="2.5.1 自动类型转换"></a>2.5.1 自动类型转换</h3><h4 id="a-算数转换"><a href="#a-算数转换" class="headerlink" title="a. 算数转换"></a>a. 算数转换</h4><p>在同一个算数表达式中，有多个数据类型：<br>先将占用内存较少的类型转换为占用内存高的类型，然后再参与运算</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 当前表达式中1.0占用8个字节, 2占用4个字节</span></span><br><span class="line"><span class="comment">// 所以会先将int类型的2转换为double类型，然后再计算</span></span><br><span class="line"><span class="type">double</span> b = <span class="number">1.0</span> / <span class="number">2</span>;<span class="comment">//0.5</span></span><br></pre></td></tr></table></figure><h4 id="b-赋值类型转换"><a href="#b-赋值类型转换" class="headerlink" title="b. 赋值类型转换"></a>b. 赋值类型转换</h4><p>右侧表达式运算结果自动转换为左侧表达式类型</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 赋值时左边是什么类型,就会自动将右边转换为什么类型</span></span><br><span class="line"><span class="type">int</span> a = <span class="number">10.6</span>; <span class="comment">//a=10</span></span><br></pre></td></tr></table></figure><h3 id="2-5-2-强制类型转换"><a href="#2-5-2-强制类型转换" class="headerlink" title="2.5.2 强制类型转换"></a>2.5.2 强制类型转换</h3><h2 id="-2"><a href="#-2" class="headerlink"></a><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> a = (<span class="type">double</span>)(<span class="number">1</span> / <span class="number">2</span>);</span><br><span class="line"><span class="comment">// 结果为0, 因为参与运算的都是整型</span></span><br><span class="line"></span><br><span class="line"><span class="type">double</span> b = (<span class="type">double</span>)<span class="number">1</span> / <span class="number">2</span>;</span><br><span class="line"><span class="comment">// 结果为0.5, 因为1被强制转换为了double类型, 2也会被自动提升为double类型</span></span><br></pre></td></tr></table></figure></h2><p>类型转换并不会影响到原有变量的值</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">double</span> d = <span class="number">3.14</span>;</span><br><span class="line">    <span class="type">int</span> num = (<span class="type">int</span>)d;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;num = %d\n&quot;</span>, num); <span class="comment">// 3</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;d = %lf\n&quot;</span>, d); <span class="comment">// 3.140000</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="3-量"><a href="#3-量" class="headerlink" title="3. 量"></a>3. 量</h1><h2 id="3-1-常量"><a href="#3-1-常量" class="headerlink" title="3.1 常量"></a>3.1 常量</h2><blockquote><p>常量表示一些固定的数据，也就是不能改变的数据</p></blockquote><h3 id="3-1-1-整型常量"><a href="#3-1-1-整型常量" class="headerlink" title="3.1.1 整型常量"></a>3.1.1 整型常量</h3><p>十进制整数</p><p>八进制整数：以0开头</p><p>十六进制：以0X开头</p><p>二进制：以0b开头</p><h4 id="a-小数形式"><a href="#a-小数形式" class="headerlink" title="a. 小数形式"></a>a. 小数形式</h4><p>单精度小数：以字母f或者F结尾</p><p>双精度小数：lf结尾，默认类型</p><p>0.x 可以没有整数位只有小数位，如 <code>.3</code> 、<code>.6f</code></p><h4 id="b-指数形式"><a href="#b-指数形式" class="headerlink" title="b. 指数形式"></a>b. 指数形式</h4><p>以幂的形式表示，以字母e或者字母E后跟一个10为底的幂数</p><p>如：1.23×10在C语言中表示为 <code>1.23e5</code></p><ul><li>e或E后前后必须有数字</li><li>e或E前后不能有空格</li></ul><h3 id="3-1-3-字符常量"><a href="#3-1-3-字符常量" class="headerlink" title="3.1.3 字符常量"></a>3.1.3 字符常量</h3><p>字符常量都是用 <code>&#39;&#39;</code> 括起来的</p><p>字符常量只能有一个字符</p><p><strong>转义字符</strong></p><p><code>&#39;\n&#39;</code> <code>&#39;\r&#39;</code></p><h3 id="3-1-4-字符串常量"><a href="#3-1-4-字符串常量" class="headerlink" title="3.1.4 字符串常量"></a>3.1.4 字符串常量</h3><p>字符型常量都是用 <code>&quot;&quot;</code> 括起来的</p><p>系统会自动在字符串常量末尾添加一个字符 <code>&#39;\0&#39;</code> 表示字符串结束标志</p><h3 id="3-1-5-常量关键字"><a href="#3-1-5-常量关键字" class="headerlink" title="3.1.5 常量关键字"></a>3.1.5 常量关键字</h3><blockquote><p><code>const</code> 是一个类型修饰符：使用 <code>const</code> 修饰变量可以让变量的值不能改变</p></blockquote><ul><li><p>用 <code>const</code> 修饰的常量不可改变</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> MaxSize = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> Array[MaxSize];</span><br></pre></td></tr></table></figure></li><li><p>编译器知道被 <code>const</code> 修饰的常量不允许被修改</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">fn</span><span class="params">(<span class="type">const</span> <span class="type">int</span> i)</span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>可以避免模糊的数字的出现，防止意外修改，增加程序健壮性</p></li><li><p>可以很方便地进行参数的调整和修改，与宏定义一样，一个修改全部修改</p></li><li><p>可以节省空间，避免不必要的内存分配</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">define</span> PI 3.14</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">double</span> A = PI;<span class="comment">//编译期间进行宏代换，分配一次内存</span></span><br><span class="line">    <span class="type">double</span> B = PI;<span class="comment">//再次分配内存</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 宏定义给出的是立即数，所以调用一次需要分配一次内存</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">double</span> PI = <span class="number">3.14</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">double</span> A = PI;<span class="comment">//此时为A分配内存，以后不再分配</span></span><br><span class="line">    <span class="type">double</span> B = PI;<span class="comment">//此时不再分配内存</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//const修饰的常量在程序运行中只有一份拷贝，是地址传递</span></span><br><span class="line"><span class="comment">//编译器通常不为 const 变量分配存储空间，而是将它们保存在符号表中，</span></span><br><span class="line"><span class="comment">//使得它称为一个编译期间的常量，没有存储与读内存的操作，提高了效率</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="a-const的使用"><a href="#a-const的使用" class="headerlink" title="a. const的使用"></a>a. const的使用</h4><p><code>const</code> 修饰什么看左侧邻接什么</p><ul><li><p>左侧是 <code>数据类型</code> ，则修饰值，此时内容不可修改</p><p><code>数据类型 const</code> 与 <code>const 数据类型</code> 等价</p></li><li><p>左侧是 <code>*</code> ，则修饰指针，此时指向不能修改</p></li></ul><h5 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="type">const</span> x = <span class="number">2</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> x = <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>若想要获得可以修改的常量，用 <code>const</code> 修饰指针，改变指针指向的存储空间中的内容即可</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="comment">// a = 5;//报错</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> *p = &amp;a;</span><br><span class="line">*p = <span class="number">5</span>;<span class="comment">//此时不报错</span></span><br></pre></td></tr></table></figure><h5 id="修饰常数组"><a href="#修饰常数组" class="headerlink" title="修饰常数组"></a>修饰常数组</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="type">const</span> a[<span class="number">5</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> a[<span class="number">5</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line"></span><br><span class="line">a[<span class="number">1</span>] = <span class="number">77</span>;<span class="comment">//报错</span></span><br></pre></td></tr></table></figure><h5 id="修饰函数的形参"><a href="#修饰函数的形参" class="headerlink" title="修饰函数的形参"></a>修饰函数的形参</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">fn</span><span class="params">(<span class="type">const</span> <span class="type">int</span> a)</span>&#123;</span><br><span class="line">    <span class="comment">//告诉编译器，函数体中不能改变形参a的值</span></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="修饰函数返回值"><a href="#修饰函数返回值" class="headerlink" title="修饰函数返回值"></a>修饰函数返回值</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> <span class="title function_">fn</span><span class="params">(<span class="type">int</span> a)</span>&#123;&#125;</span><br><span class="line"><span class="comment">//告诉编译器，函数的返回值不能修改</span></span><br></pre></td></tr></table></figure><h5 id="修饰常指针"><a href="#修饰常指针" class="headerlink" title="修饰常指针"></a>修饰常指针</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> b = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//const修饰指向的内容，指向可变，内容不可变</span></span><br><span class="line"><span class="type">int</span> <span class="type">const</span> *A;<span class="comment">//与 const int *A; 等价</span></span><br><span class="line">A = &amp;b;</span><br><span class="line">*A = <span class="number">5</span>;<span class="comment">//报错</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//const修饰指针，指向不可变，内容可变</span></span><br><span class="line"><span class="type">int</span> *<span class="type">const</span> A;</span><br><span class="line">A = &amp;b;<span class="comment">//报错</span></span><br><span class="line">*A = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//const修饰指针和内容，指向和内容都不可变 </span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> *<span class="type">const</span> A;</span><br><span class="line">A = &amp;b;<span class="comment">//报错</span></span><br><span class="line">*A = <span class="number">5</span>;<span class="comment">//报错</span></span><br></pre></td></tr></table></figure><h2 id="3-2-变量"><a href="#3-2-变量" class="headerlink" title="3.2 变量"></a>3.2 变量</h2><p>只有定义了变量才会分配数据的存储空间</p><p>不同数据类型占用不同大小的存储空间，指定数据类型，则这段存储单元只能存该类型的数据</p><h3 id="3-2-1-变量定义格式"><a href="#3-2-1-变量定义格式" class="headerlink" title="3.2.1 变量定义格式"></a>3.2.1 变量定义格式</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 变量类型 变量名称;</span><br><span class="line"><span class="type">int</span> a;</span><br><span class="line"><span class="type">float</span> b;</span><br><span class="line"><span class="type">char</span> ch;</span><br><span class="line"></span><br><span class="line"># 变量类型 变量名称,变量名称;</span><br><span class="line"><span class="type">int</span> a,b,c;</span><br></pre></td></tr></table></figure><h3 id="3-2-2-命名规则"><a href="#3-2-2-命名规则" class="headerlink" title="3.2.2 命名规则"></a>3.2.2 命名规则</h3><ul><li>首字母必须是 字母或下划线</li><li>只能包含字母、数字、下划线</li><li>标识符不能是关键字</li><li>不能跨行书写</li></ul><h3 id="3-2-3-变量的初始化"><a href="#3-2-3-变量的初始化" class="headerlink" title="3.2.3 变量的初始化"></a>3.2.3 变量的初始化</h3><blockquote><p>变量的第一次赋值称为初始化</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 先定义后初始化</span><br><span class="line"><span class="type">int</span> value;</span><br><span class="line">value = <span class="number">998</span>;</span><br><span class="line"></span><br><span class="line"># 定义用时初始化</span><br><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br></pre></td></tr></table></figure><h4 id="a-未初始化的变量"><a href="#a-未初始化的变量" class="headerlink" title="a. 未初始化的变量"></a>a. 未初始化的变量</h4><ul><li>随机数</li><li>上次程序分配的存储空间留下的 “垃圾值”</li><li>系统正在使用的一些数据</li></ul><h4 id="b-变量之间的值传递"><a href="#b-变量之间的值传递" class="headerlink" title="b. 变量之间的值传递"></a>b. 变量之间的值传递</h4><p>可以将一个变量存储的值赋给另一个变量</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> b = a;<span class="comment">//相当于把a中存储的10拷贝了一份给b</span></span><br></pre></td></tr></table></figure><h3 id="3-2-4-作用域"><a href="#3-2-4-作用域" class="headerlink" title="3.2.4 作用域"></a>3.2.4 作用域</h3><blockquote><p>变量的可用范围</p></blockquote><h4 id="a-局部变量"><a href="#a-局部变量" class="headerlink" title="a. 局部变量"></a>a. 局部变量</h4><blockquote><p>定义在函数内部的变量以及函数的形参</p></blockquote><p>作用域范围：从定义开始，到 <code>&#125;</code> 为止或者遇到 <code>return</code> 为止</p><p>生命周期：从程序运行到定义那一行开始分配存储空间，到程序离开该变量所在的作用域</p><p>存储位置：局部变量会存储在内存的栈内</p><p>注意：</p><ul><li>相同作用域内不可定义同名变量</li><li>不同作用范围可以定义同名变量，内部作用域的变量会覆盖外部作用域的变量</li><li>若要扩充作用域使用<code>extern</code></li></ul><h4 id="b-全局变量"><a href="#b-全局变量" class="headerlink" title="b. 全局变量"></a>b. 全局变量</h4><blockquote><p>定义在函数外的变量</p></blockquote><p>作用域范围：从定义开始到源文件结束</p><p>生命周期：程序一启动就会分配存储空间，直到程序退出</p><p>存储位置：静态存储区</p><p>特点：</p><ul><li>多个同名的全局变量指向同一块存储空间</li><li><strong>全局变量任意函数都可访问、修改</strong></li></ul><h4 id="c-只能修饰局部变量的关键字"><a href="#c-只能修饰局部变量的关键字" class="headerlink" title="c. 只能修饰局部变量的关键字"></a>c. 只能修饰局部变量的关键字</h4><p><code>auto</code> ：只能修饰局部变量，局部变量如果没有其他修饰符，默认是 <code>auto</code></p><p>特点：用时开辟，用完销毁</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> <span class="type">int</span> num; <span class="comment">// 等价于 int num;</span></span><br></pre></td></tr></table></figure><hr><p><code>register</code> ：只能修饰局部变量，将内存中的变量提升到CPU寄存器中存储，提高访问速度</p><ul><li>通常不同平台和编译器在优化阶段会自动转换为 <code>auto</code></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">register</span> <span class="type">int</span> num;</span><br></pre></td></tr></table></figure><h4 id="d-static"><a href="#d-static" class="headerlink" title="d. static"></a>d. <code>static</code></h4><h5 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h5><blockquote><p>对局部变量的作用：<strong>延长局部变量的生命周期</strong>(从程序启动到程序退出)，<strong>不扩充作用域</strong></p></blockquote><ul><li>定义变量的代码在整个程序运行期间仅仅会执行一次</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">3</span>;++i)&#123;</span><br><span class="line">        <span class="type">static</span> <span class="type">int</span> num = <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,num++);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果不加static输出 1 1 1</span></span><br><span class="line">    <span class="comment">// 如果添加static输出 1 2 3</span></span><br><span class="line">    <span class="comment">// printf(&quot;%d\n&quot; ,num);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>当定义静态局部变量所在的块结束，其作用域随之结束</li></ul><p><img src="/posts/1037565863/8806d5f7d2a94b80aa4fe511ce498a67.png" alt></p><hr><blockquote><p>对全局变量的作用：<strong>约束作用域</strong> ，用 <code>static</code> 标注的变量不能在其他源文件中使用，且不和其他源文件的同名全局变量共享同一块存储空间</p></blockquote><ul><li><p>内部变量：只能在本源文件中访问的变量</p></li><li><p>外部变量：可以在其他文件中访问的变量（默认）</p><p>默认情况下，多个同名的外部变量会共享同一块存储空间</p></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># A文件中的代码</span><br><span class="line"># <span class="string">&quot;a.h&quot;</span></span><br><span class="line"><span class="type">int</span> num;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">    </span><br><span class="line"># B文件中的代码</span><br><span class="line"># <span class="string">&quot;b.c&quot;</span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"># <span class="string">&quot;a.h&quot;</span></span><br><span class="line">    </span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    num = <span class="number">10</span>;</span><br><span class="line">    test(); <span class="comment">//10</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;        </span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># A文件中的代码</span><br><span class="line"># <span class="string">&quot;a.h&quot;</span></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> num;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">    </span><br><span class="line"># B文件中的代码</span><br><span class="line"># <span class="string">&quot;b.c&quot;</span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"># <span class="string">&quot;a.h&quot;</span></span><br><span class="line">    </span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    num = <span class="number">10</span>;</span><br><span class="line">    test(); <span class="comment">//0</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure><h5 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h5><p>内部函数：只能在当前源文件中访问的函数</p><p>外部函数（默认）：在所有源文件中都可访问的函数</p><p><code>static</code> 对于函数的作用是声明或定义一个内部函数</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> n1,<span class="type">int</span> n2)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> num1,<span class="type">int</span> num2)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> n1 + n2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="e-extern"><a href="#e-extern" class="headerlink" title="e. extern"></a>e. <code>extern</code></h4><h5 id="变量-1"><a href="#变量-1" class="headerlink" title="变量"></a>变量</h5><blockquote><p><code>extern</code> 表示声明一个变量，而不是定义一个变量</p></blockquote><p>局部变量：不可作用域局部变量，会报错</p><p>全局变量：声明一个全局变量，告诉编译器在其他地方已经定义了这个变量</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">extern</span> <span class="type">int</span> num; <span class="comment">// 声明我们有名称叫做num变量</span></span><br><span class="line">    num = <span class="number">996</span>; <span class="comment">// 使用时已经有对应的存储空间</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;num = %i\n&quot;</span>, num);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> num; <span class="comment">// 全局变量, 程序启动就会分配存储空间</span></span><br></pre></td></tr></table></figure><h5 id="函数-1"><a href="#函数-1" class="headerlink" title="函数"></a>函数</h5><p>默认情况都是外部函数，所以省略 <code>extern</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> n1,<span class="type">int</span> n2)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">extern</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> n1,<span class="type">int</span> n2)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n1 + n2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>由于默认情况下所有的函数都是外部函数，所以 <code>extern</code> 一般会省略</p><p>如果只有函数声明添加了 <code>static</code> 与 <code>extern</code> ，而定义时没有添加，则无效</p><h1 id="4-运算符"><a href="#4-运算符" class="headerlink" title="4. 运算符"></a>4. 运算符</h1><h2 id="4-1-基本概念"><a href="#4-1-基本概念" class="headerlink" title="4.1 基本概念"></a>4.1 基本概念</h2><blockquote><p>运算符：告诉程序执行特定的算术或逻辑操作的符号</p><p>表达式：利用运算符连接在一起的有意义、有结果的语句</p><ul><li>表达式一定要有结果</li></ul></blockquote><h3 id="4-1-1-分类"><a href="#4-1-1-分类" class="headerlink" title="4.1.1 分类"></a>4.1.1 分类</h3><p>按功能化划分：</p><ul><li>算术运算符</li><li>赋值运算符</li><li>关系运算符</li><li>逻辑运算符</li><li>位运算符</li></ul><hr><p>按照参与运算符的个数划分：</p><ul><li><p>单目运算符</p><p>如：<code>i++</code></p></li><li><p>双目运算符</p><p>如：<code>a+b</code></p></li><li><p>三目运算符</p><p>如：<code>a&gt;b ? 1 : 0;</code></p></li></ul><h3 id="4-1-2-优先级与结合性"><a href="#4-1-2-优先级与结合性" class="headerlink" title="4.1.2 优先级与结合性"></a>4.1.2 优先级与结合性</h3><blockquote><p><strong>不同优先级</strong> 的运算符，运算次序按照 <strong>优先级从高到低执行</strong></p><p><strong>相同优先级</strong> 的运算符，运算次序<strong>按结合性规定的方向执行</strong></p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">5</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 算术运算符的结合性和优先级</span></span><br><span class="line">    <span class="comment">// 结合性: 左结合性, 从左至右</span></span><br><span class="line">    <span class="type">int</span> c = <span class="number">50</span>;</span><br><span class="line">    result = a + b + c; <span class="comment">// 15 + c;  65;</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%i\n&quot;</span>, result);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 优先级: * / % 大于 + -</span></span><br><span class="line">    result = a + b * c; <span class="comment">// a + 250; 260;</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%i\n&quot;</span>, result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>单目运算符，赋值运算符，三目运算符为右结合性</strong><br>其余为左结合性（从左向右看）</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">2</span>;</span><br><span class="line">x+=x+=x-=<span class="number">1</span>; <span class="comment">//=&gt; x = 4</span></span><br><span class="line"></span><br><span class="line">y = x&amp;<span class="number">1</span> == x%<span class="number">2</span>; <span class="comment">//=&gt; y = 1</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *设x = 10 0&amp;1 = 0 , x % 2 = 0   y = 1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> </span><br><span class="line">a = b = c = <span class="number">1</span>;</span><br><span class="line">++a||++b&amp;&amp;++c;</span><br><span class="line"><span class="comment">//a = 2,b = 1,c = 1;</span></span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th>优先级</th><th>运算符</th><th>名称或含义</th><th>使用形式</th><th>结合方向</th><th>说明</th></tr></thead><tbody><tr><td>1</td><td><code>[]</code></td><td>数组下标</td><td><code>数组名[常量表达式]</code></td><td>左到右</td><td></td></tr><tr><td></td><td><code>()</code></td><td>圆括号</td><td><code>(表达式)/函数名(形参表)</code></td><td></td><td></td></tr><tr><td></td><td><code>.</code></td><td>成员选择(对象)</td><td><code>对象.成员名</code></td><td></td><td></td></tr><tr><td></td><td><code>-&gt;</code></td><td>成员选择(指针)</td><td><code>对象指针-&gt;成员名</code></td><td></td><td></td></tr><tr><td>2</td><td><code>-</code></td><td>符号运算符</td><td><code>-表达式</code></td><td>右到左</td><td>单目运算符</td></tr><tr><td></td><td><code>(类型)</code></td><td>强制类型转换</td><td><code>(数据类型)表达式</code></td><td></td><td></td></tr><tr><td></td><td><code>++</code></td><td>自增运算符</td><td><code>++变量名/变量名++</code></td><td></td><td></td></tr><tr><td></td><td><code>--</code></td><td>自减运算符</td><td><code>--变量名/变量名--</code></td><td></td><td></td></tr><tr><td></td><td><code>*</code></td><td>取值运算符</td><td><code>*指针变量</code></td><td></td><td></td></tr><tr><td></td><td><code>&amp;</code></td><td>取地址运算符</td><td><code>&amp;变量名</code></td><td></td><td></td></tr><tr><td></td><td><code>!</code></td><td>逻辑非</td><td><code>!表达式</code></td><td></td><td></td></tr><tr><td></td><td><code>~</code></td><td>按位取反</td><td><code>~表达式</code></td><td></td><td></td></tr><tr><td></td><td><code>sizeof</code></td><td>长度运算符</td><td><code>sizeof(表达式)</code></td><td></td><td></td></tr><tr><td>3</td><td><code>/</code></td><td>除</td><td><code>表达式/表达式</code></td><td>左到右</td><td>双目运算符</td></tr><tr><td></td><td><code>*</code></td><td>乘</td><td><code>表达式*表达式</code></td><td></td><td></td></tr><tr><td></td><td><code>%</code></td><td>取余</td><td><code>表达式%表达式</code></td><td></td><td></td></tr><tr><td>4</td><td><code>+</code></td><td>加</td><td><code>表达式+表达式</code></td><td>左到右</td><td>双目运算符</td></tr><tr><td></td><td><code>-</code></td><td>减</td><td><code>表达式-表达式</code></td><td></td><td></td></tr><tr><td>5</td><td><code>&lt;&lt;</code></td><td>左移</td><td><code>变量&lt;&lt;表达式</code></td><td>左到右</td><td>双目运算符</td></tr><tr><td></td><td><code>&gt;&gt;</code></td><td>右移</td><td><code>变量&gt;&gt;表达式</code></td><td></td><td></td></tr><tr><td>6</td><td><code>&gt;</code></td><td>大于</td><td><code>表达式&gt;表达式</code></td><td>左到右</td><td>双目运算符</td></tr><tr><td></td><td><code>&gt;=</code></td><td>大于等于</td><td><code>表达式&gt;=表达式</code></td><td></td><td></td></tr><tr><td></td><td><code>&lt;</code></td><td>小于</td><td><code>表达式&lt;表达式</code></td><td></td><td></td></tr><tr><td></td><td><code>&lt;=</code></td><td>小于等于</td><td><code>表达式&lt;=表达式</code></td><td></td><td></td></tr><tr><td>7</td><td><code>==</code></td><td>等于</td><td><code>表达式==表达式</code></td><td>左到右</td><td>双目运算符</td></tr><tr><td></td><td><code>!=</code></td><td>不等于</td><td><code>表达式!=表达式</code></td><td></td><td></td></tr><tr><td>8</td><td><code>&amp;</code></td><td>按位与</td><td><code>表达式&amp;表达式</code></td><td>左到右</td><td>双目运算符</td></tr><tr><td>9</td><td><code>^</code></td><td>按位异或</td><td><code>表达式^表达式</code></td><td>左到右</td><td>双目运算符</td></tr><tr><td>10</td><td>`\</td><td>`</td><td>按位或</td><td>`表达式\</td><td>表达式`</td><td>左到右</td><td>双目运算符</td></tr><tr><td>11</td><td><code>&amp;&amp;</code></td><td>逻辑与</td><td><code>表达式&amp;&amp;表达式</code></td><td>左到右</td><td>双目运算符</td></tr><tr><td>12</td><td>`\</td><td>\</td><td>`</td><td>逻辑或</td><td>`表达式\</td><td>\</td><td>表达式`</td><td>左到右</td><td>双目运算符</td></tr><tr><td>13</td><td><code>?:</code></td><td>条件运算符</td><td><code>表达式1？表达式2：表达式3；</code></td><td>右到做</td><td>三目运算符</td></tr><tr><td>14</td><td><code>=</code></td><td>赋值运算符</td><td><code>变量=表达式</code></td><td>右到左</td><td></td></tr><tr><td></td><td><code>/=</code></td><td>除后赋值</td><td><code>变量/=表达式</code></td><td></td><td></td></tr><tr><td></td><td><code>*=</code></td><td>乘后赋值</td><td><code>变量*=表达式</code></td><td></td><td></td></tr><tr><td></td><td><code>%=</code></td><td>取余后赋值</td><td><code>变量%=表达式</code></td><td></td><td></td></tr><tr><td></td><td><code>+=</code></td><td>加后赋值</td><td><code>变量+=表达式</code></td><td></td><td></td></tr><tr><td></td><td><code>-=</code></td><td>减后赋值</td><td><code>变量-=表达式</code></td><td></td><td></td></tr><tr><td></td><td><code>&lt;&lt;=</code></td><td>左移后赋值</td><td><code>变量&lt;&lt;=表达式</code></td><td></td><td></td></tr><tr><td></td><td><code>&gt;&gt;=</code></td><td>右移后赋值</td><td><code>变量&gt;&gt;=表达式</code></td><td></td><td></td></tr><tr><td></td><td><code>&amp;=</code></td><td>按位与后赋值</td><td><code>变量&amp;=表达式</code></td><td></td><td></td></tr><tr><td></td><td><code>^=</code></td><td>按位异或后赋值</td><td><code>变量^=表达式</code></td><td></td><td></td></tr><tr><td></td><td>`\</td><td>=`</td><td>按位或后赋值</td><td>`变量\</td><td>=表达式`</td><td></td><td></td></tr><tr><td>15</td><td><code>,</code></td><td>逗号运算符</td><td><code>表达式,表达式,...</code></td><td>左到右</td></tr></tbody></table></div><h2 id="4-2-逗号运算符和括号运算符"><a href="#4-2-逗号运算符和括号运算符" class="headerlink" title="4.2 逗号运算符和括号运算符"></a>4.2 逗号运算符和括号运算符</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>, b = <span class="number">20</span>, c;</span><br><span class="line">    <span class="comment">// ()优先级高于,和=, 先计算()中的内容</span></span><br><span class="line">    <span class="comment">// c = (11,21);</span></span><br><span class="line">    <span class="comment">// ()中是一个逗号表达式, 结果是最后一个表达式的值, 所以计算结果为21</span></span><br><span class="line">    c = (a + <span class="number">1</span>,b + <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;c = %d\n&quot;</span>, c); <span class="comment">// 21</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-3-自增自减"><a href="#4-3-自增自减" class="headerlink" title="4.3 自增自减"></a>4.3 自增自减</h2><ul><li>前缀表达式：++x, —x；表示先自增再运算</li><li>后缀表达式：x++, x—；表示先运算再自增</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> n = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// ++在后, 先参与表达式运算, 再自增</span></span><br><span class="line">    <span class="comment">// 表达式运算时为: 3 + 1;</span></span><br><span class="line">    <span class="type">int</span> res = <span class="number">3</span> + n++;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;res = %d\n&quot;</span>, res); <span class="comment">// 4</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;n = %d\n&quot;</span>, n); <span class="comment">// 2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> n = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// ++在前, 先自增, 再参与表达式运算</span></span><br><span class="line">    <span class="comment">// 表达式运算时为: 3 + 2;</span></span><br><span class="line">    <span class="type">int</span> res = <span class="number">3</span> + ++n;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;res = %d\n&quot;</span>, res); <span class="comment">// 5</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;n = %d\n&quot;</span>, n); <span class="comment">// 2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>自增、自减运算只能用于单个变量，只要是标准类型的变量（整型、实型还是字符型变量），但不能用于表达式或常量</p><ul><li>错误用法：<code>++(a+b); 5++;</code></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> i = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> b = i++; <span class="comment">// 不推荐</span></span><br><span class="line">或者</span><br><span class="line"><span class="type">int</span> b = ++i; <span class="comment">// 不推荐</span></span><br><span class="line">或者</span><br><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> b = ++a + a++;  <span class="comment">// 不推荐</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> i = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> b = i; <span class="comment">// 推荐</span></span><br><span class="line">i++;</span><br><span class="line">或者;</span><br><span class="line">i++;</span><br><span class="line"><span class="type">int</span> b = i; <span class="comment">// 推荐</span></span><br><span class="line">或者</span><br><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">++a;</span><br><span class="line"><span class="type">int</span> b = a + a; <span class="comment">// 推荐</span></span><br><span class="line">a++;</span><br></pre></td></tr></table></figure><h2 id="4-4-sizeof"><a href="#4-4-sizeof" class="headerlink" title="4.4 sizeof"></a>4.4 sizeof</h2><blockquote><p>用于计算一个变量、或常量、数据类型占用的内存字节数</p></blockquote><p><code>sizeof(常量 or 变量);</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sizeof</span>(<span class="number">10</span>); <span class="comment">//sizeof 10;</span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> c = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="keyword">sizeof</span>(c); <span class="comment">//sizeof c;</span></span><br></pre></td></tr></table></figure><p><code>sizeof(数据类型);</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sizeof</span>(<span class="type">float</span>);</span><br></pre></td></tr></table></figure><p><strong>sizeof是一个运算符，不是函数</strong></p><ul><li><code>sizeof</code> 运算符优先级为2</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="type">double</span> b = <span class="number">3.14</span>;</span><br><span class="line"><span class="type">double</span> res = <span class="keyword">sizeof</span>(a+b);<span class="comment">// sizeof a+b;</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># sizeof 运算符优先级比+高，所以会先计算sizeof(a)，再利用结果和b相加</span></span><br><span class="line"><span class="comment">//res = 7.14</span></span><br></pre></td></tr></table></figure><h2 id="4-5-算数运算符"><a href="#4-5-算数运算符" class="headerlink" title="4.5 算数运算符"></a>4.5 算数运算符</h2><div class="table-container"><table><thead><tr><th>优先级</th><th>符号</th><th>含义</th><th>表达式</th><th>结合性</th><th></th></tr></thead><tbody><tr><td>3</td><td><code>/</code></td><td>除</td><td><code>表达式/表达式</code></td><td>左到右</td><td>双目运算符</td></tr><tr><td></td><td><code>*</code></td><td>乘</td><td><code>表达式*表达式</code></td><td></td><td></td></tr><tr><td></td><td><code>%</code></td><td>取余</td><td><code>表达式%表达式</code></td><td></td><td></td></tr><tr><td>4</td><td><code>+</code></td><td>加</td><td><code>表达式+表达式</code></td><td>左到右</td><td>双目运算符</td></tr><tr><td></td><td><code>-</code></td><td>减</td><td><code>表达式-表达式</code></td><td></td></tr></tbody></table></div><ul><li><p>如果参与运算的两个操作数都是整数，那么结果也是整数</p></li><li><p>如果参与运算的两个操作数有一个是浮点数，那么结果一定是浮点数</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">// 整数除以整数, 结果还是整数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%i\n&quot;</span>, <span class="number">10</span> / <span class="number">3</span>); <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 参与运算的任何一个数是小数, 结果就是小数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, <span class="number">10</span> / <span class="number">3.0</span>); <span class="comment">// 3.333333</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>取余运算符，参与运算的两个操作数必须是整数，不能包含浮点数</p><p>取余运算结果的符号与被除数有关</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">// 被除数是正数结果就是正数,被除数是负数结果就是负数</span></span><br><span class="line">    result = <span class="number">10</span> % <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%i\n&quot;</span>, result); <span class="comment">// 1</span></span><br><span class="line">    result = <span class="number">-10</span> % <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%i\n&quot;</span>, result); <span class="comment">// -1</span></span><br><span class="line">    result = <span class="number">10</span> % <span class="number">-3</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%i\n&quot;</span>, result); <span class="comment">// 1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>取余运算符，被除数为0，结果为0</p></li><li><p>除法/取余运算，除数为0，没有意义</p></li></ul><h2 id="4-6-关系运算符"><a href="#4-6-关系运算符" class="headerlink" title="4.6 关系运算符"></a>4.6 关系运算符</h2><p>非零值都是 <code>true</code> ，只有零才是 <code>false</code></p><p>关系运算符的运算结果只有两种：</p><ul><li>条件成立，结果为 <code>true</code></li><li>条件不成立，结果为 <code>false</code></li></ul><h3 id="4-6-1-优先级与结合性"><a href="#4-6-1-优先级与结合性" class="headerlink" title="4.6.1 优先级与结合性"></a>4.6.1 优先级与结合性</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//== 优先级小于 &gt; ，所以先计算 &gt; </span></span><br><span class="line">    <span class="type">int</span> result = <span class="number">10</span> == <span class="number">5</span> &gt; <span class="number">3</span>;<span class="comment">//10 == 1 -&gt; true</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">// == 和 != 优先级一样，所以按照结合性</span></span><br><span class="line">    <span class="type">int</span> res = <span class="number">10</span> == <span class="number">5</span> != <span class="number">3</span>;<span class="comment">// 10 == true -&gt; true</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,res);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>无论是 <code>float</code> 还是 <code>double</code> 都有精度问题, 所以一定要避免利用 <code>==</code> 判断浮点数是否相等</p><h2 id="4-7-位运算符"><a href="#4-7-位运算符" class="headerlink" title="4.7 位运算符"></a>4.7 位运算符</h2><p>程序中所有数据都是以二进制形式存储，位运算符就是直接对整数在内存中的二进制操作</p><div class="table-container"><table><thead><tr><th>符号</th><th>名称</th><th>运算结果</th></tr></thead><tbody><tr><td>&amp;</td><td>按位与</td><td>同1为1，有0则0</td></tr><tr><td>\</td><td></td><td>按位或</td><td>同0位0，有1为1</td></tr><tr><td>^</td><td>按位异或</td><td>同0异1</td></tr><tr><td>~</td><td>按位取反</td><td>0变1，1变0</td></tr><tr><td>&lt;&lt;n</td><td>按位左移</td><td>乘以2的n次方</td></tr><tr><td>&gt;&gt;n</td><td>按位右移</td><td>除以2的n次方</td></tr></tbody></table></div><h3 id="4-7-1-按位与"><a href="#4-7-1-按位与" class="headerlink" title="4.7.1 按位与"></a>4.7.1 按位与</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">9&amp;5 = 1</span><br><span class="line"></span><br><span class="line">    1001</span><br><span class="line">  &amp; 0101</span><br><span class="line">    ----</span><br><span class="line">    0001</span><br></pre></td></tr></table></figure><h4 id="a-判断奇偶"><a href="#a-判断奇偶" class="headerlink" title="a. 判断奇偶"></a>a. 判断奇偶</h4><p>任何数和1进行&amp;操作,得到这个数的最低位</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1000</span><br><span class="line">  &amp;0001</span><br><span class="line">   ----</span><br><span class="line">   0000  // 结果为0, 代表是偶数</span><br><span class="line"></span><br><span class="line">1011</span><br><span class="line">  &amp;0001</span><br><span class="line">   ----</span><br><span class="line">   0001 // 结果为1, 代表是奇数</span><br></pre></td></tr></table></figure><h3 id="4-7-2-按位或"><a href="#4-7-2-按位或" class="headerlink" title="4.7.2 按位或"></a>4.7.2 按位或</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">9|5 = 13</span><br><span class="line"></span><br><span class="line">    1001</span><br><span class="line">  | 0101</span><br><span class="line">    ----</span><br><span class="line">    1101</span><br></pre></td></tr></table></figure><h4 id="a-权限设置"><a href="#a-权限设置" class="headerlink" title="a. 权限设置"></a>a. 权限设置</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Unix</span> &#123;</span></span><br><span class="line">    S_IRUSR = <span class="number">256</span>,<span class="comment">// 100000000 用户可读</span></span><br><span class="line">    S_IWUSR = <span class="number">128</span>,<span class="comment">//  10000000 用户可写</span></span><br><span class="line">    S_IXUSR = <span class="number">64</span>,<span class="comment">//    1000000 用户可执行</span></span><br><span class="line">    S_IRGRP = <span class="number">32</span>,<span class="comment">//     100000 组可读</span></span><br><span class="line">    S_IWGRP = <span class="number">16</span>,<span class="comment">//      10000 组可写</span></span><br><span class="line">    S_IXGRP = <span class="number">8</span>,<span class="comment">//        1000 组可执行</span></span><br><span class="line">    S_IROTH = <span class="number">4</span>,<span class="comment">//         100 其它可读</span></span><br><span class="line">    S_IWOTH = <span class="number">2</span>,<span class="comment">//          10 其它可写</span></span><br><span class="line">    S_IXOTH = <span class="number">1</span> <span class="comment">//           1 其它可执行</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 假设设置用户权限为可读可写</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, S_IRUSR | S_IWUSR); <span class="comment">// 384 // 110000000</span></span><br></pre></td></tr></table></figure><h3 id="4-7-3-按位异或"><a href="#4-7-3-按位异或" class="headerlink" title="4.7.3 按位异或"></a>4.7.3 按位异或</h3><p>相同整数异或为0，如 <code>5^5=0</code></p><p>多个整数相异或的结果跟顺序无关，如 <code>5^6^7 == 5^7^6</code></p><ul><li>同一数异或另外一个数两次，结果还是那个数，如 <code>5^7^7=5</code></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">9^5 = 12</span><br><span class="line"></span><br><span class="line">    1001</span><br><span class="line">  ^ 0101</span><br><span class="line">    ----</span><br><span class="line">    1100</span><br></pre></td></tr></table></figure><h4 id="a-交换两个数的值"><a href="#a-交换两个数的值" class="headerlink" title="a. 交换两个数的值"></a>a. 交换两个数的值</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = a^b;</span><br><span class="line">b = b^a; <span class="comment">// b = b^a^a = a;</span></span><br><span class="line">a = b^a; <span class="comment">// a = b^a^b = a^a^b = b;</span></span><br></pre></td></tr></table></figure><h3 id="4-7-4-按位取反"><a href="#4-7-4-按位取反" class="headerlink" title="4.7.4 按位取反"></a>4.7.4 按位取反</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">~9 = -10</span><br><span class="line"></span><br><span class="line">原码    0000 1001</span><br><span class="line">补码    1111 0110</span><br><span class="line"></span><br><span class="line">转为十进制    0000 1001+1 = 0000 1010 = -10</span><br></pre></td></tr></table></figure><h3 id="4-7-5-按位左移"><a href="#4-7-5-按位左移" class="headerlink" title="4.7.5 按位左移"></a>4.7.5 按位左移</h3><blockquote><p><code>2&lt;&lt;n</code> ：相当于乘2的n次方</p></blockquote><p>高位舍弃，低位补0，高位丢弃，但符号位也会丢弃，造成正负性改变</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span>&lt;&lt;<span class="number">1</span>; <span class="comment">//相当于 2 *= 2 // 4</span></span><br><span class="line">  <span class="number">0010</span></span><br><span class="line">&lt;&lt;<span class="number">0100</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>&lt;&lt;<span class="number">2</span>; <span class="comment">//相当于 2 *= 2^2; // 8</span></span><br><span class="line">  <span class="number">0010</span></span><br><span class="line">&lt;&lt;<span class="number">1000</span></span><br></pre></td></tr></table></figure><h3 id="4-7-6-按位右移"><a href="#4-7-6-按位右移" class="headerlink" title="4.7.6 按位右移"></a>4.7.6 按位右移</h3><blockquote><p><code>2&gt;&gt;n</code> ：相当于除以2的n次方</p></blockquote><p>正数时，符号位为0，最高位补0</p><p>负数时，符号位为1，最高位是补0 或 是补1取决于编译系统</p><h2 id="4-8-逻辑运算符"><a href="#4-8-逻辑运算符" class="headerlink" title="4.8 逻辑运算符"></a>4.8 逻辑运算符</h2><div class="table-container"><table><thead><tr><th>优先级</th><th>符号</th><th>名称</th><th>符号</th><th>结合性</th><th></th></tr></thead><tbody><tr><td>2</td><td><code>!</code></td><td>逻辑非</td><td><code>!表达式</code></td><td>右结合性</td><td>单目运算符</td></tr><tr><td>11</td><td><code>&amp;&amp;</code></td><td>逻辑与</td><td><code>表达式&amp;&amp;表达式</code></td><td>左到右</td><td>双目运算符</td></tr><tr><td>12</td><td>`\</td><td>\</td><td>`</td><td>逻辑或</td><td>`表达式\</td><td>\</td><td>表达式`</td><td>左到右</td><td>双目运算符</td></tr></tbody></table></div><h3 id="4-8-1-逻辑非"><a href="#4-8-1-逻辑非" class="headerlink" title="4.8.1 逻辑非"></a>4.8.1 逻辑非</h3><p><code>! 条件A;</code></p><p>运算结果：</p><ul><li><code>!true = false;</code></li><li><code>!false = true;</code></li></ul><h3 id="4-8-2-逻辑与"><a href="#4-8-2-逻辑与" class="headerlink" title="4.8.2 逻辑与"></a>4.8.2 逻辑与</h3><p><code>条件A &amp;&amp; 条件B;</code></p><p>判断过程</p><ul><li>条件A为真，则接着判断条件B，也真，则表达式为 <code>true</code></li><li>条件A为假，则不执行B，则表达式为 <code>false</code></li></ul><h3 id="4-8-3-逻辑或"><a href="#4-8-3-逻辑或" class="headerlink" title="4.8.3 逻辑或"></a>4.8.3 逻辑或</h3><p><code>条件A || 条件B;</code></p><p>判断过程</p><ul><li>条件A为假，且条件B为假，则表达式为 <code>false</code></li><li>条件A为假，条件B为真，则表达式为 <code>true</code></li><li>条件A为真，则不会执行条件B，则表达式为 <code>false</code></li></ul><h1 id="5-流程控制"><a href="#5-流程控制" class="headerlink" title="5. 流程控制"></a>5. 流程控制</h1><blockquote><p>默认情况下，程序运行后，系统会从上到下顺序执行程序中的每一行代码。</p></blockquote><h2 id="5-1-顺序结构"><a href="#5-1-顺序结构" class="headerlink" title="5.1 顺序结构"></a>5.1 顺序结构</h2><p><img src="/posts/1037565863/7dc2ab55e7dd4c06be094a08a1501ba3.png" alt></p><h2 id="5-2-选择结构"><a href="#5-2-选择结构" class="headerlink" title="5.2 选择结构"></a>5.2 选择结构</h2><p><img src="/posts/1037565863/189980520d2b4c4ca8664b75fcb966db.png" alt></p><h3 id="5-2-1-if"><a href="#5-2-1-if" class="headerlink" title="5.2.1 if"></a>5.2.1 if</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(表达式)&#123;</span><br><span class="line">    语句<span class="number">1</span>;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(表达式<span class="number">2</span>)&#123;</span><br><span class="line">    语句<span class="number">2</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    表达式<span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line">后续语句;</span><br></pre></td></tr></table></figure><p><strong>约定</strong> ：<code>==</code> 或 <code>!=</code> 比较变量和值是否相等时，把常量卸载前面</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">8</span>;</span><br><span class="line"><span class="comment">//    if(a == 10)&#123;// 错误写法, 但不会报错</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="number">10</span> == a)&#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;a的值是10\n&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">     <span class="built_in">printf</span>(<span class="string">&quot;a的值不是10\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-2-2-switch"><a href="#5-2-2-switch" class="headerlink" title="5.2.2 switch"></a>5.2.2 switch</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(表达式)&#123;</span><br><span class="line">    <span class="keyword">case</span> 常量表达式<span class="number">1</span>:</span><br><span class="line">        语句<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> 常量表达式<span class="number">2</span>:</span><br><span class="line">        语句<span class="number">2</span>; </span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> 常量表达式n:</span><br><span class="line">        语句n;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        语句n+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>注意</strong></p><ul><li><p><code>switch</code> 的表达式及 <code>case</code> 的值 的类型必须是 <code>int</code> ，或者可以被提升为整型的值(<code>char</code>，<code>short</code>)</p></li><li><p><code>case</code> 的值不能相同</p></li><li><p>每个 <code>case</code> 要以 <code>break</code> 结尾，否则会出现穿透问题</p></li><li><p><code>default</code> 不一定要放在 <code>case</code> 最后，只有等到所有 <code>case</code> 不匹配才会执行。</p></li></ul><h2 id="5-3-循环结构"><a href="#5-3-循环结构" class="headerlink" title="5.3 循环结构"></a>5.3 循环结构</h2><p><img src="/posts/1037565863/d1b7b92324024a809ae7748bc0e76397.png" alt></p><blockquote><p><strong>循环条件</strong> 成立时，会反复执行 <strong>循环体</strong> ，直到条件不成立位置</p></blockquote><h3 id="5-3-1-while"><a href="#5-3-1-while" class="headerlink" title="5.3.1 while"></a>5.3.1 while</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(循环控制条件) &#123;</span><br><span class="line">    循环体中的语句;</span><br><span class="line">    能够让循环结束的语句;</span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>循环控制条件：循环退出的主要依据，来控制循环到底什么时候退出</p></li><li><p>循环体：循环的过程中重复执行的代码段</p></li><li><p>循环终止语句(递增、递减、真、假等)：能够让循环条件为假的依据，否则退出循环</p></li></ul><p><strong>注意</strong></p><p>如果 <code>while</code> 省略了大括号，则后面不能定义变量</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)  <span class="comment">// 死循环</span></span><br><span class="line">         <span class="type">int</span> num = <span class="number">10</span>; <span class="comment">// 报错</span></span><br><span class="line">         <span class="comment">// 没有能够让循环结束的语句</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-3-2-do-while"><a href="#5-3-2-do-while" class="headerlink" title="5.3.2 do while"></a>5.3.2 do while</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    循环体中的语句;</span><br><span class="line">    能够让循环结束的语句;</span><br><span class="line">    ....</span><br><span class="line">&#125; <span class="keyword">while</span>(循环控制条件);</span><br></pre></td></tr></table></figure><h4 id="a-应用场景：口令校验"><a href="#a-应用场景：口令校验" class="headerlink" title="a. 应用场景：口令校验"></a>a. 应用场景：口令校验</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> num = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请输入密码,验证您的身份\n&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;num);</span><br><span class="line">    &#125;<span class="keyword">while</span>(<span class="number">123456</span> != num);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;主人,您终于回来了\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>do...while</code> 和 <code>while</code> 的区别</p><ul><li><code>do...while</code> 至少执行一次</li><li><code>while</code> 可能一次都不执行</li></ul><h3 id="5-3-3-for"><a href="#5-3-3-for" class="headerlink" title="5.3.3 for"></a>5.3.3 for</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(初始化表达式；循环条件表达式；循环后的操作表达式) &#123;</span><br><span class="line">    循环体中的语句;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对比 <code>while</code> 来说， <code>for</code> 更节约内存空间</p><h3 id="5-3-4-循环优化"><a href="#5-3-4-循环优化" class="headerlink" title="5.3.4 循环优化"></a>5.3.4 循环优化</h3><p>在多重循环中，应当将最长的循环放在最内存，最短的循环放在最外层，减少CPU跨循环层切换的次数</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (row=<span class="number">0</span>; row&lt;<span class="number">100</span>; row++) &#123;</span><br><span class="line">  <span class="comment">// 低效率：长循环在最外层</span></span><br><span class="line">  <span class="keyword">for</span> ( col=<span class="number">0</span>; col&lt;<span class="number">5</span>; col++ ) &#123;</span><br><span class="line">    sum = sum + a[row][col];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (col=<span class="number">0</span>; col&lt;<span class="number">5</span>; col++ ) &#123;</span><br><span class="line">  <span class="comment">// 高效率：长循环在最内层</span></span><br><span class="line">  <span class="keyword">for</span> (row=<span class="number">0</span>; row&lt;<span class="number">100</span>; row++) &#123;</span><br><span class="line">    sum = sum + a[row][col];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-4-四大跳转"><a href="#5-4-四大跳转" class="headerlink" title="5.4 四大跳转"></a>5.4 四大跳转</h2><h3 id="5-4-1-break"><a href="#5-4-1-break" class="headerlink" title="5.4.1 break"></a>5.4.1 break</h3><p>立刻跳出当前语句或循环</p><p>一个 <code>break</code> 只向外跳一层</p><p>同一层， <code>break</code> 后面的语句不会执行</p><h3 id="5-4-2-continue"><a href="#5-4-2-continue" class="headerlink" title="5.4.2 continue"></a>5.4.2 continue</h3><blockquote><p>结束 <strong>本轮</strong> ，进入 <strong>下一轮</strong> 循环</p></blockquote><h3 id="5-4-3-goto"><a href="#5-4-3-goto" class="headerlink" title="5.4.3 goto"></a>5.4.3 goto</h3><blockquote><p>仅在本函数内实现跳转，不能实现跨函数跳转</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// loop:是定义的标记</span></span><br><span class="line">loop:<span class="keyword">if</span>(num &lt; <span class="number">10</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;num = %d\n&quot;</span>, num);</span><br><span class="line">        num++;</span><br><span class="line">        <span class="comment">// goto loop代表跳转到标记的位置</span></span><br><span class="line">        <span class="keyword">goto</span> loop;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">goto</span> out;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    out:<span class="built_in">printf</span>(<span class="string">&quot;跳过了所有循环&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-4-4-return"><a href="#5-4-4-return" class="headerlink" title="5.4.4 return"></a>5.4.4 return</h3><p>结束当前函数，将结果返回给调用者</p><h1 id="6-函数"><a href="#6-函数" class="headerlink" title="6. 函数"></a>6. 函数</h1><blockquote><p>将一个常用的功能封装起来，方便以后调用</p></blockquote><h2 id="6-1-分类及定义"><a href="#6-1-分类及定义" class="headerlink" title="6.1 分类及定义"></a>6.1 分类及定义</h2><p><strong>同一源文件函数名称不能相同</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">返回值类型 函数名(参数类型 形式参数<span class="number">1</span>，参数类型 形式参数<span class="number">2</span>，…)&#123;</span><br><span class="line">    函数体;</span><br><span class="line">    返回值;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><pre class="mermaid">graph LR;
A[分类]-->B["函数定义"]
B-->库函数
B-->用户定义函数
A-->C["函数执行结果"]
C-->有返回值函数
C-->无返回值函数
A-->D["数据传送"]
D-->无参函数
D-->有参函数</pre><h3 id="6-1-1-库函数与用户定义函数"><a href="#6-1-1-库函数与用户定义函数" class="headerlink" title="6.1.1 库函数与用户定义函数"></a>6.1.1 库函数与用户定义函数</h3><h4 id="a-库函数"><a href="#a-库函数" class="headerlink" title="a. 库函数"></a>a. 库函数</h4><p>由C语言系统提供，用户无需定义，也不必在程序中做类型说明，引入头文件后即可在程序中直接调用</p><h4 id="b-用户定义的函数"><a href="#b-用户定义的函数" class="headerlink" title="b. 用户定义的函数"></a>b. 用户定义的函数</h4><blockquote><p>由用户按需编写的函数。对于用户自定义的函数，不仅要在程序中定义函数本身，而且在主调函数中必须对该被调函数进行声明，才能调用</p></blockquote><h3 id="6-1-2-有返回值与无返回值函数"><a href="#6-1-2-有返回值与无返回值函数" class="headerlink" title="6.1.2 有返回值与无返回值函数"></a>6.1.2 有返回值与无返回值函数</h3><h4 id="a-有返回值函数"><a href="#a-有返回值函数" class="headerlink" title="a. 有返回值函数"></a>a. 有返回值函数</h4><p>必须指定返回值类型和使用return关键字返回对应数据</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">返回值类型 函数名(参数列表)&#123;</span><br><span class="line">    函数体;</span><br><span class="line">    返回值;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="b-无返回值函数"><a href="#b-无返回值函数" class="headerlink" title="b. 无返回值函数"></a>b. 无返回值函数</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> 函数名(参数列表) &#123;</span><br><span class="line">    函数体;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-1-3-有参函数和无参函数"><a href="#6-1-3-有参函数和无参函数" class="headerlink" title="6.1.3 有参函数和无参函数"></a>6.1.3 有参函数和无参函数</h3><h4 id="a-无参函数"><a href="#a-无参函数" class="headerlink" title="a. 无参函数"></a>a. 无参函数</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">返回值类型 函数名() &#123;</span><br><span class="line">    函数体;</span><br><span class="line">    <span class="keyword">return</span> 值;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="b-有参函数"><a href="#b-有参函数" class="headerlink" title="b. 有参函数"></a>b. 有参函数</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">返回值类型 函数名(参数类型 形式参数<span class="number">1</span>，参数类型 形式参数<span class="number">2</span>，…) &#123;</span><br><span class="line">    函数体;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6-2-参数与返回值"><a href="#6-2-参数与返回值" class="headerlink" title="6.2 参数与返回值"></a>6.2 参数与返回值</h2><h3 id="6-2-1-形参与实参"><a href="#6-2-1-形参与实参" class="headerlink" title="6.2.1 形参与实参"></a>6.2.1 形参与实参</h3><blockquote><p><strong>形参</strong> ：定义函数时，函数名后面的 <code>()</code> 称为形参</p></blockquote><p>形参变量只有在函数被调用时分配内存。在函数调用结束，释放内存单元</p><blockquote><p><strong>实参</strong> ：函数调用时，传入的值称为实参</p></blockquote><p>实参可以是常量、变量、表达式、函数等</p><p>在进行函数调用时，都必须具有<strong>确定的值</strong>，以便把这些值传递给形参</p><h4 id="a-注意"><a href="#a-注意" class="headerlink" title="a. 注意"></a>a. 注意</h4><p><strong>个数</strong>：调用函数时，传递的实参个数和函数的形参个数必须保持一致</p><p><strong>类型</strong>：形参与实参类型不一致，会自动转换为形参类型</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">change</span><span class="params">(<span class="type">double</span> number1, <span class="type">double</span> number2)</span> &#123;<span class="comment">//  形参</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    change(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line">    <span class="comment">// 传入实参  10.000000, 20.000000</span></span><br><span class="line">   <span class="comment">// 自动将实参转换为double类型后保存</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>值传递</strong>：当使用基本数据类型（char、int、float）作为实参时，实参和形参之间只是值传递，修改形参的值并不影响实参</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">change</span><span class="params">(<span class="type">int</span> number1, <span class="type">int</span> number2)</span> &#123; <span class="comment">//  形式参数</span></span><br><span class="line">    number1 = <span class="number">250</span>; <span class="comment">// 不会影响实参</span></span><br><span class="line">    number2 = <span class="number">222</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">88</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">99</span>;</span><br><span class="line">    change(a, b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a  = %d, b = %d&quot;</span>, a, b); <span class="comment">// 输出结果: 88, 99</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-2-2-返回值"><a href="#6-2-2-返回值" class="headerlink" title="6.2.2 返回值"></a>6.2.2 返回值</h3><p>如果没有写返回值类型，默认是 <code>int</code></p><p><code>return</code> 实际返回的值类型应与函数返回值类型一致，否则以返回值类型为准,自动进行类型转换</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">height</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3.14</span>; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="type">double</span> temp = height();</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%lf&quot;</span>, temp);<span class="comment">// 输出结果: 3.000000</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>一个函数内部可以多次使用 <code>return</code> ，但 <code>return</code> 之后的代码不再执行</p><h2 id="6-3-函数的声明"><a href="#6-3-函数的声明" class="headerlink" title="6.3 函数的声明"></a>6.3 函数的声明</h2><p>默认情况下，只有后面定义的函数才可以调用前面定义过的函数</p><blockquote><p>函数声明：在函数调用之前告诉系统，函数名称、参数列表、返回值类型</p><p>函数实现：定义具体的业务逻辑是怎么运作的</p></blockquote><p>函数声明格式：<code>返回值类型 函数名(参数列表);</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数声明</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">getMax</span><span class="params">(<span class="type">int</span> v1, <span class="type">int</span> v2)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">const</span> <span class="type">char</span> * argv[])</span> &#123;</span><br><span class="line">    getMax(<span class="number">10</span>, <span class="number">20</span>); <span class="comment">// 调用函数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 函数实现</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">getMax</span><span class="params">(<span class="type">int</span> v1, <span class="type">int</span> v2)</span> &#123;</span><br><span class="line">    <span class="type">int</span> max = v1 &gt; v2 ? v1 : v2;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;max = %i\n&quot;</span>, max);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>函数的实现不能重复, 而函数的声明可以重复</p></li><li><p>函数声明可以写在函数外面，也可以写在函数里面,，只要在调用之前被声明即可</p></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">const</span> <span class="type">char</span> * argv[])</span> &#123;</span><br><span class="line">    <span class="type">void</span> <span class="title function_">getMax</span><span class="params">(<span class="type">int</span> v1, <span class="type">int</span> v2)</span>; <span class="comment">// 函数声明, 不会报错</span></span><br><span class="line">    getMax(<span class="number">10</span>, <span class="number">20</span>); <span class="comment">// 调用函数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 函数实现</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">getMax</span><span class="params">(<span class="type">int</span> v1, <span class="type">int</span> v2)</span> &#123;</span><br><span class="line">    <span class="type">int</span> max = v1 &gt; v2 ? v1 : v2;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;max = %i\n&quot;</span>, max);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果被调函数的返回值是整型，可以不对被调函数做声明，可以直接调用</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">const</span> <span class="type">char</span> * argv[])</span> &#123;</span><br><span class="line">    <span class="type">int</span> res = getMin(<span class="number">5</span>, <span class="number">3</span>); <span class="comment">// 不会报错</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;result = %d\n&quot;</span>, res );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">getMin</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> num2)</span> &#123;<span class="comment">// 返回int, 不用声明</span></span><br><span class="line">    <span class="keyword">return</span> num1 &lt; num2 ? num1 : num2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6-4-输入输出"><a href="#6-4-输入输出" class="headerlink" title="6.4 输入输出"></a>6.4 输入输出</h2><h3 id="6-4-1-putchar-和getchar"><a href="#6-4-1-putchar-和getchar" class="headerlink" title="6.4.1 putchar()和getchar()"></a>6.4.1 putchar()和getchar()</h3><p><code>putchar()</code>：向屏幕输出一个字符</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">char</span> ch = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">    <span class="built_in">putchar</span>(ch); <span class="comment">// 输出a</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p><code>getchar()</code>：从键盘获取一个字符</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">char</span> ch;</span><br><span class="line">    ch = getchar();<span class="comment">// 获取一个字符</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;ch = %c\n&quot;</span>, ch);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-4-2-scanf函数"><a href="#6-4-2-scanf函数" class="headerlink" title="6.4.2 scanf函数"></a>6.4.2 scanf函数</h3><p>系统会先将用户输入放入输入缓冲区，从缓冲区中逐个取数据赋值给变量，如果输入缓冲区不为空，<code>scanf</code> 会一直从缓冲区中获取</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> num1;</span><br><span class="line">    <span class="type">int</span> num2;</span><br><span class="line">    <span class="type">char</span> ch1;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%c%d&quot;</span>, &amp;num1, &amp;ch1, &amp;num2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;num1 = %d, ch1 = %c, num2 = %d\n&quot;</span>, num1, ch1, num2);</span><br><span class="line">    </span><br><span class="line">    <span class="type">char</span> ch2;</span><br><span class="line">    <span class="type">int</span> num3;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%c%d&quot;</span>,&amp;ch2, &amp;num3);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;ch2 = %c, num3 = %d\n&quot;</span>, ch2, num3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/posts/1037565863/f5288d8837e04564be685cc16486a57d.png" alt="在这里插入图片描述"></p><h4 id="a-fflush"><a href="#a-fflush" class="headerlink" title="a. fflush"></a>a. fflush</h4><p>利用 <code>fflush(stdin);</code> 清空缓冲区</p><p>C和C++标准从未定义过，是C标准的扩充函数，<strong>不是所有平台都支持</strong></p><h4 id="b-setbuf"><a href="#b-setbuf" class="headerlink" title="b. setbuf"></a>b. setbuf</h4><p><code>setbuf(stdin,NULL)</code> 设置缓冲区为空</p><p><strong>所有平台有效</strong></p><h3 id="6-4-3-printf-函数格式"><a href="#6-4-3-printf-函数格式" class="headerlink" title="6.4.3 printf()函数格式"></a>6.4.3 printf()函数格式</h3><h4 id="a-数据类型符"><a href="#a-数据类型符" class="headerlink" title="a. 数据类型符"></a>a. 数据类型符</h4><div class="table-container"><table><thead><tr><th>类型</th><th>含义</th></tr></thead><tbody><tr><td>%d / %i</td><td>有符号十进制整型</td></tr><tr><td>%u</td><td><strong>无符号</strong>十进制整型</td></tr><tr><td>%o</td><td><strong>无符号</strong>八进制整型</td></tr><tr><td>%x / %X</td><td><strong>无符号</strong>十六进制整型</td></tr><tr><td>%f</td><td>单、双精度浮点数</td></tr><tr><td>%e / %E</td><td>以指数形式输出单、双精度浮点数</td></tr><tr><td>%c</td><td>字符</td></tr><tr><td>%s</td><td>字符串</td></tr><tr><td>%p</td><td>地址</td></tr><tr><td>\%%</td><td>表示%本身</td></tr></tbody></table></div><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;    </span><br><span class="line">    <span class="type">int</span> b = <span class="number">-10</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 有符号整数(可以输出负数)</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a); <span class="comment">// 10</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %i\n&quot;</span>, a); <span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 无符号整数(不可以输出负数)</span></span><br><span class="line">    <span class="comment">// 输出存储单元内二进制数对应的十进制整数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %u\n&quot;</span>, a); <span class="comment">// 10</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;b = %u\n&quot;</span>, b); <span class="comment">// 429496786</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 无符号八进制整数(不可以输出负数)</span></span><br><span class="line">    <span class="comment">//输出存储单元内二进制数对应的十进制整数对应的八进制数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %o\n&quot;</span>, a); <span class="comment">// 12</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;b = %o\n&quot;</span>, b); <span class="comment">// 37777777766</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 无符号十六进制整数(不可以输出负数)</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %x\n&quot;</span>, a); <span class="comment">// a</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;b = %x\n&quot;</span>, b); <span class="comment">// fffffff6</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 无符号十六进制整数(不可以输出负数)</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %X\n&quot;</span>, a); <span class="comment">// A</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;b = %X\n&quot;</span>, b); <span class="comment">// FFFFFFF6</span></span><br><span class="line"></span><br><span class="line">    <span class="type">float</span> c = <span class="number">6.6f</span>;</span><br><span class="line">    <span class="type">double</span> d = <span class="number">3.1415926</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 单、双精度浮点数(默认保留6位小数)</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;c = %f\n&quot;</span>, c); <span class="comment">// 6.600000</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;d = %lf\n&quot;</span>, d); <span class="comment">// 3.141593</span></span><br><span class="line"></span><br><span class="line">    <span class="type">double</span> e = <span class="number">10.10</span>;</span><br><span class="line">    <span class="comment">// 以指数形式输出单、双精度浮点数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;e = %e\n&quot;</span>, e); <span class="comment">// 1.010000e+001</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;e = %E\n&quot;</span>, e); <span class="comment">// 1.010000E+001</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 以最短输出宽度,输出单、双精度浮点数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;e = %g\n&quot;</span>, e); <span class="comment">// 10.1</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;e = %G\n&quot;</span>, e); <span class="comment">// 10.1</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">char</span> f = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">    <span class="comment">// 输出字符</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;f = %c\n&quot;</span>, f); <span class="comment">// a</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="实型有效位问题"><a href="#实型有效位问题" class="headerlink" title="实型有效位问题"></a>实型有效位问题</h5><ul><li>单精度 <code>%f</code> 输出时，仅前6-7位是有效数字；双精度 <code>%lf</code> 输出时，仅前15-16位是有效数字</li><li>有效位数包含小数点前的非零数位</li></ul><p><strong>精度与有效位</strong></p><blockquote><p>有效位：指从第一个非零数字开始，误差不超过本数位半个单位的、正确的数位</p></blockquote><p>原因：计算机存储浮点数时，采用IEEE754，存的是IEEE754可表示的最相近浮点数</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//        1234.567871093750000</span></span><br><span class="line">    <span class="type">float</span> a = <span class="number">1234.567890123456789</span>;</span><br><span class="line">    <span class="comment">//         1234.567890123456900</span></span><br><span class="line">    <span class="type">double</span> b = <span class="number">1234.567890123456789</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %.15f\n&quot;</span>, a); <span class="comment">// 前8位数字是准确的, 后面的都不准确</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;b = %.15f\n&quot;</span>, b); <span class="comment">// 前16位数字是准确的, 后面的都不准确</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="b-精度格式符"><a href="#b-精度格式符" class="headerlink" title="b. 精度格式符"></a>b. 精度格式符</h4><blockquote><p>精度：小数点后位数</p></blockquote><p><code>%.n数据类型符</code> ，n为十进制整数</p><ul><li>如果输出数字，则表示小数的位数；</li><li>如果输出的是字符，则表示输出字符的个数；</li><li>若实际位数大于所定义的精度数，则截去超过的部分</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">double</span> a = <span class="number">3.1415926</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %.2f\n&quot;</span>, a); <span class="comment">// 3.14</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="动态指定保留小数位数"><a href="#动态指定保留小数位数" class="headerlink" title="动态指定保留小数位数"></a>动态指定保留小数位数</h5><p>格式：<code>printf(&quot;%.*f&quot;,[],a);</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">double</span> a = <span class="number">3.1415926</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %.*f&quot;</span>, <span class="number">2</span>, a); <span class="comment">// 3.14</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="c-格式控制符"><a href="#c-格式控制符" class="headerlink" title="c. 格式控制符"></a>c. 格式控制符</h4><div class="table-container"><table><thead><tr><th>符号</th><th>含义</th></tr></thead><tbody><tr><td>%m…</td><td>m指定输出字段的宽度，如果位数小于m，则左端以空格补全；若位数大于，则按实际位数输出</td></tr><tr><td>-</td><td>结果左对齐，右边补空格</td></tr><tr><td>#</td><td>对于c,s,d,u类影响<br>八进制，加前缀o<br>十六进制，加前缀0x<br>对于浮点数，只有当结果有小数才给出小数点</td></tr><tr><td>空格</td><td>输出值为整数，在输出值前面加上空格，为负数加上负号</td></tr><tr><td>+</td><td>当输出值为正数时,在输出值前面加上一个+号, 默认不显示</td></tr><tr><td>0</td><td>右对齐时，用0填充</td></tr></tbody></table></div><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">-1</span>;</span><br><span class="line">    <span class="comment">// -号标志</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a =|%d|\n&quot;</span>, a); <span class="comment">// |1|</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a =|%5d|\n&quot;</span>, a); <span class="comment">// |    1|</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a =|%-5d|\n&quot;</span>, a);<span class="comment">// |1    |</span></span><br><span class="line">    <span class="comment">// +号标志</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a =|%d|\n&quot;</span>, a); <span class="comment">// |1|</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a =|%+d|\n&quot;</span>, a);<span class="comment">// |+1|</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;b =|%d|\n&quot;</span>, b); <span class="comment">// |-1|</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;b =|%+d|\n&quot;</span>, b);<span class="comment">// |-1|</span></span><br><span class="line">    <span class="comment">// 0标志</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a =|%5d|\n&quot;</span>, a); <span class="comment">// |    1|</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a =|%05d|\n&quot;</span>, a); <span class="comment">// |00001|</span></span><br><span class="line">    <span class="comment">// 空格标志</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a =|% d|\n&quot;</span>, a); <span class="comment">// | 1|</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;b =|% d|\n&quot;</span>, b); <span class="comment">// |-1|</span></span><br><span class="line">    <span class="comment">// #号</span></span><br><span class="line">    <span class="type">int</span> c = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;c = %o\n&quot;</span>, c); <span class="comment">// 12</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;c = %#o\n&quot;</span>, c); <span class="comment">// 012</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;c = %x\n&quot;</span>, c); <span class="comment">// a</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;c = %#x\n&quot;</span>, c); <span class="comment">// 0xa</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6-7-递归函数"><a href="#6-7-递归函数" class="headerlink" title="6.7 递归函数"></a>6.7 递归函数</h2><blockquote><p>一个函数在它的函数体内调用它自身称为递归调用</p><ul><li>递归常用于”回溯”, “树的遍历”,”图的搜索”等问题</li></ul></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">function</span><span class="params">(<span class="type">int</span> x)</span>&#123;</span><br><span class="line">    function(x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>存在一个条件能够让递归结束</p></li><li><p>问题的规模能够缩小</p></li><li><p>能用循环实现的功能,用递归都可以实现</p><p>但 <strong>代码理解难度大</strong>，<strong>内存消耗大(易导致栈溢出)</strong>, 所以考虑到代码理解难度和内存消耗问题, 在企业开发中一般能用循环都不会使用递归</p></li></ul><h1 id="7-C程序编译过程"><a href="#7-C程序编译过程" class="headerlink" title="7. C程序编译过程"></a>7. C程序编译过程</h1><pre class="mermaid">graph LR;
A["hello.c"]--预处理-->B["hello.i"]
B--编译-->C["hello.s"]
C--汇编-->D["hello.o"]
D--链接-->E["hello.exe"]</pre><ol><li><p>编写代码，保存后生成 <code>hello.c</code> 源文件</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> <span class="type">const</span> *argv[])</span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/posts/1037565863/image-20220803171617374.png" alt></p></li><li><p>对源文件 <code>hello.c</code> 进行预处理，生成预处理文件 <code>hello.i</code></p><p><img src="/posts/1037565863/image-20220803173907597.png" alt="image-20220803173907597"></p></li><li><p>对预处理文件 <code>hello.i</code> 进行编译，生成汇编文件 <code>hello.s</code></p><p><img src="/posts/1037565863/image-20220803175209631.png" alt="image-20220803175209631"></p></li><li><p>对汇编文件 <code>hello.s</code> 进行汇编，生成二进制文件 <code>hello.o</code></p><p><img src="/posts/1037565863/image-20220803175539377.png" alt="image-20220803175539377"></p></li><li><p>对二进制文件 <code>hello.o</code> 进行链接，生成可执行文件 <code>hello.exe</code></p><p><img src="/posts/1037565863/image-20220803175623595.png" alt="image-20220803175623595"></p></li><li><p>运行可执行文件 <code>hello.exe</code></p><p><img src="/posts/1037565863/image-20220803180328887.png" alt="image-20220803180328887"></p></li></ol><h2 id="7-1-预处理"><a href="#7-1-预处理" class="headerlink" title="7.1 预处理"></a>7.1 预处理</h2><p>C编译器在对源程序进行编译前，会将一些特殊指令作解释（如 <code>#include</code>），进而产生一个新的源程序，之后再进行通常的编译</p><ul><li>所有的预处理指令都以 <code>#</code> 开始，并且结尾不用分号</li><li><p>预处理指令可以出现在程序的任何位置，它的作用范围从它出现的位置到文件尾，所以尽可能将预处理指令写在源程序开头</p></li><li><p>包括：文件包含、宏定义、条件编译</p></li></ul><h3 id="7-1-1-文件包含处理"><a href="#7-1-1-文件包含处理" class="headerlink" title="7.1.1 文件包含处理"></a>7.1.1 文件包含处理</h3><p>使用 <code>&lt;&gt;</code> ，仅在系统指定的磁盘路径下搜索所包含的文件</p><p>使用 <code>&quot;&quot;</code> ，现在当前工作目录中搜索，若找不到则在系统中寻找</p><h3 id="7-1-2-宏定义"><a href="#7-1-2-宏定义" class="headerlink" title="7.1.2 宏定义"></a>7.1.2 宏定义</h3><blockquote><p><strong>宏</strong> ：用来替换重复出现的字符串</p></blockquote><p>宏名：代替该字符串的标识符</p><p>宏代换（宏展开）：在编译预处理阶段，对程序中出现的所有 <code>宏名</code> 用相应的字符串进行代换，宏代换由预处理程序自动完成</p><h4 id="a-不带参数的宏定义"><a href="#a-不带参数的宏定义" class="headerlink" title="a. 不带参数的宏定义"></a>a. 不带参数的宏定义</h4><p><code># define 标识符 字符串</code></p><p>字符串可以是常数，表达式，格式串等</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PI 3.14</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span> <span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">float</span> S = PI * r * r;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%f&quot;</span>, S);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>约定：宏名一般用大写字母作为标识符，以便与变量名区别开，但用小写也没有语法错误</p><hr><p>若字符串中出现了某个宏，不进行替换</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> PI 3.14</span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> *str = <span class="string">&quot;PIE&quot;</span>;<span class="comment">//此时不会发生宏代换</span></span><br></pre></td></tr></table></figure><p>宏代换只是简单的 <strong>字符串替换</strong> ，不做语法检查。只有编译时才对源程序进行语法检查</p><hr><p>宏定义的有效范围是从定义位置开始到文件结束。如果需要终止宏定义的作用域，可以用 <code>#undef</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PI 3.14</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span> <span class="params">()</span>&#123;</span><br><span class="line">    <span class="meta">#<span class="keyword">undef</span> PI</span></span><br><span class="line">    <span class="type">float</span> S = PI * r * r; <span class="comment">//报错</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%f&quot;</span>, S);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>宏定义之间可以相互引用</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> R  3.0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PI 3.14</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> C  2*PI*R</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> S  PI*R*R</span></span><br></pre></td></tr></table></figure><hr><p>可以用宏定义表示数据类型</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">define</span> String char*</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    String str = <span class="string">&quot;The String&quot;</span>;	</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="b-带参数的宏定义"><a href="#b-带参数的宏定义" class="headerlink" title="b. 带参数的宏定义"></a>b. 带参数的宏定义</h4><blockquote><p>带参数的宏，在调用中，不仅要宏展开，而且要用实参数代替形参</p></blockquote><p><code>#define 宏名(形参列表) 字符串</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">define</span> SUM(a,b) (a+b)</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> sum = SUM(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,sum);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>宏标识符与形参列表之间不能有空格，否则会当被当做普通字符串</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">define</span> SUM (a,b) (a+b)</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> sum = SUM(<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//会被替换成 (a,b) (a+b)(1,2)</span></span><br><span class="line">    <span class="comment">//编译不通过</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,sum);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>带参数的宏在宏代换时，只作简单的字符和参数的替换，不进行计算操作</p></li><li><p>宏定义时，要用 <code>()</code> 将形参字符串括住</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">define</span> Twice(a) 2*a</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> res = D(<span class="number">3</span>+<span class="number">4</span>);<span class="comment">// 替换结果为：2*3+4</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,sum);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">define</span> Twice(a) 2*(a)</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> res = D(<span class="number">3</span>+<span class="number">4</span>);<span class="comment">// 替换结果为：2*(3+4)</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,sum);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>宏定义时，要将计算结果也用 <code>()</code> 括住</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#  <span class="keyword">define</span> Pow(a) (a)*(a)</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> res = Pow(<span class="number">10</span>)/Pow(<span class="number">2</span>);</span><br><span class="line">    <span class="comment">//宏代换后：10*10/2*2=100</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#  <span class="keyword">define</span> Pow(a) ((a)*(a))</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> res = Pow(<span class="number">10</span>)/Pow(<span class="number">2</span>);</span><br><span class="line">    <span class="comment">//宏代换后：(10*10)/(2*2)=25</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="7-1-3-条件编译"><a href="#7-1-3-条件编译" class="headerlink" title="7.1.3 条件编译"></a>7.1.3 条件编译</h3><blockquote><p>程序中一部分代码在满足一定条件才进行编译，否则不参与编译</p></blockquote><p>优点：按不同的条件去编译不同的程序部分，因而产生不同的目标代码文件，有利于程序的移植和调试。生成的目标程序较短</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">if</span> 条件1</span></span><br><span class="line">	...</span><br><span class="line"><span class="meta">#elseif 条件2</span></span><br><span class="line">    ...</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    ...</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> SCORE 67</span></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> SCORE &gt; 90</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;优秀\n&quot;</span>);</span><br><span class="line">	code 优秀</span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> SCORE &gt; 60</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;良好\n&quot;</span>);</span><br><span class="line">	code 良好</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;不及格\n&quot;</span>);</span><br><span class="line">	code 不及格</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><h2 id="7-2-别名typedef"><a href="#7-2-别名typedef" class="headerlink" title="7.2 别名typedef"></a>7.2 别名<code>typedef</code></h2><p><code>typedef 原类型名 新类型名;</code></p><ul><li><p>原类型名中含有定义部分，新类型名一般用大写表示</p></li><li><p><code>typedef</code> 在编译时完成替换</p></li></ul><h3 id="7-2-1-typedef-的使用"><a href="#7-2-1-typedef-的使用" class="headerlink" title="7.2.1 typedef 的使用"></a>7.2.1 <code>typedef</code> 的使用</h3><h4 id="a-基本数据类型"><a href="#a-基本数据类型" class="headerlink" title="a. 基本数据类型"></a>a. 基本数据类型</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> Integer;</span><br><span class="line"><span class="keyword">typedef</span> Integer MyInteger;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    Integer a;<span class="comment">//等价于int a</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="b-数组"><a href="#b-数组" class="headerlink" title="b. 数组"></a>b. 数组</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> NAME[<span class="number">20</span>];</span><br><span class="line">NAME a;<span class="comment">//等价于 int a[20];</span></span><br></pre></td></tr></table></figure><h4 id="c-结构体类型"><a href="#c-结构体类型" class="headerlink" title="c. 结构体类型"></a>c. 结构体类型</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="class"><span class="keyword">struct</span> <span class="title">Person</span>&#123;</span></span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Person</span> <span class="title">Person</span>;</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Person</span>&#123;</span></span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">&#125; Person;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">&#125; Person;</span><br></pre></td></tr></table></figure><h4 id="d-枚举类型"><a href="#d-枚举类型" class="headerlink" title="d. 枚举类型"></a>d. 枚举类型</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Session</span>&#123;</span></span><br><span class="line">    Spring,</span><br><span class="line">    Summer,</span><br><span class="line">    Autumn,</span><br><span class="line">    Winter</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span> <span class="title">Session</span> <span class="title">Session</span>;</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span> <span class="title">Session</span> &#123;</span></span><br><span class="line">    Spring,</span><br><span class="line">    Summer,</span><br><span class="line">    Autumn,</span><br><span class="line">    Winter</span><br><span class="line">&#125;Session;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span> &#123;</span></span><br><span class="line">    Spring,</span><br><span class="line">    Summer,</span><br><span class="line">    Autumn,</span><br><span class="line">    Winter</span><br><span class="line">&#125;Session;</span><br></pre></td></tr></table></figure><h4 id="e-指针"><a href="#e-指针" class="headerlink" title="e. 指针"></a>e. 指针</h4><p>指向结构体的指针</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="type">float</span> x;</span><br><span class="line">    <span class="type">float</span> y;</span><br><span class="line">&#125;Point;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> Point *PP;</span><br></pre></td></tr></table></figure><p>指向函数的指针</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">    <span class="type">int</span> c = a + b;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d + %d = %d&quot;</span>, a, b, c);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">typedef</span> <span class="title function_">int</span> <span class="params">(*Fn)</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个指向sum函数的指针变量p</span></span><br><span class="line">Fn p = sum;</span><br></pre></td></tr></table></figure><h2 id="7-3-宏定义与函数、typedef区别"><a href="#7-3-宏定义与函数、typedef区别" class="headerlink" title="7.3 宏定义与函数、typedef区别"></a>7.3 宏定义与函数、typedef区别</h2><h3 id="7-3-1-宏定义与函数的区别"><a href="#7-3-1-宏定义与函数的区别" class="headerlink" title="7.3.1 宏定义与函数的区别"></a>7.3.1 宏定义与函数的区别</h3><blockquote><p>带参数宏定义与函数形式类似</p></blockquote><ul><li>匹配问题：宏定义不涉及存储空间的分配、参数类型匹配、参数传递、返回值</li><li><p>执行阶段：函数调用在程序运行时执行，而宏代换只在编译预处理阶段进行</p></li><li><p>执行效率：带参数的宏比函数具有更高的执行效率</p></li></ul><h3 id="7-3-2-宏定义与typedef-区别"><a href="#7-3-2-宏定义与typedef-区别" class="headerlink" title="7.3.2 宏定义与typedef 区别"></a>7.3.2 宏定义与<code>typedef</code> 区别</h3><blockquote><p>宏定义与<code>typedef</code> 都可对数据类型进行说明</p></blockquote><ul><li>宏定义只是简单的字符串替换，在预处理阶段完成</li><li><code>typedef</code> 在编译时处理，是对类型说明符的重新命名</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">char</span> *String;<span class="comment">//给char *起了别名String</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    String str = <span class="string">&quot;This is a String&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> String char * <span class="comment">//用String对char *进行宏代换</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    String str = <span class="string">&quot;This is a String&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="8-文件"><a href="#8-文件" class="headerlink" title="8. 文件"></a>8. 文件</h1><blockquote><p>文件流：C语言将文件看做一个字符序列，即文件是由若干字符组成的字符流</p></blockquote><h2 id="8-1-文件分类"><a href="#8-1-文件分类" class="headerlink" title="8.1 文件分类"></a>8.1 文件分类</h2><h3 id="8-1-1-文本文件"><a href="#8-1-1-文本文件" class="headerlink" title="8.1.1 文本文件"></a>8.1.1 文本文件</h3><p>文件内容以ASCII码格式存放，<strong>一个字节存放一个ASCII码，代表一个字符</strong> ，但占用存储空间较多</p><p><code>.c</code> 文件就是以文本文件形式存放的</p><h3 id="8-1-2-二进制文件"><a href="#8-1-2-二进制文件" class="headerlink" title="8.1.2 二进制文件"></a>8.1.2 二进制文件</h3><p>文件内容以补码格式存放，占用存储空间少。</p><p>数据按其内存中的存储形式原样存放</p><p><code>.exe</code> 文件就是以二进制文件形式存放</p><h3 id="8-1-3-示例"><a href="#8-1-3-示例" class="headerlink" title="8.1.3 示例"></a>8.1.3 示例</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * 以文本形式存储</span></span><br><span class="line"><span class="comment">     * 会将每个字符先转换为对应的ASCII,</span></span><br><span class="line"><span class="comment">     * 然后再将ASCII码的二进制存储到计算机中</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">int</span> num = <span class="number">666</span>;</span><br><span class="line">    FILE *fa = fopen(<span class="string">&quot;ascii.txt&quot;</span>, <span class="string">&quot;w&quot;</span>);</span><br><span class="line">    <span class="built_in">fprintf</span>(fa, <span class="string">&quot;%d&quot;</span>, num);</span><br><span class="line">    fclose(fa);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * 以二进制形式存储</span></span><br><span class="line"><span class="comment">     * 会将666的二进制直接存储到文件中</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    FILE *fb = fopen(<span class="string">&quot;bin.txt&quot;</span>, <span class="string">&quot;w&quot;</span>);</span><br><span class="line">    fwrite(&amp;num, <span class="number">4</span>, <span class="number">1</span>, fb);</span><br><span class="line">    fclose(fb);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/posts/1037565863/a989b57283bdbcd82ae8bfb0c6fb4b8d.png" alt></p><p><img src="/posts/1037565863/image-20220806105212869.png" alt></p><ul><li>记事本默认按照ASCII码逐个解码文件，由于文本文件存储的是ASCII码，所以可以正常解析</li><li>记事本按照ASCII码解码文件，所以解析出来是乱码</li></ul><h2 id="8-2-文件的操作"><a href="#8-2-文件的操作" class="headerlink" title="8.2 文件的操作"></a>8.2 文件的操作</h2><h3 id="FILE-结构体"><a href="#FILE-结构体" class="headerlink" title="FILE 结构体"></a><code>FILE</code> 结构体</h3><blockquote><p>C语言中存放文件属性的结构体（缓冲区和文件读写状态），所有的文件操作都是通过 <code>FILE</code> 结构体完成的，只能通过指针访问属性</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> _<span class="title">iobuf</span> &#123;</span></span><br><span class="line">    <span class="type">char</span> *_ptr;  <span class="comment">//文件输入的下一个位置</span></span><br><span class="line">    <span class="type">int</span> _cnt;  <span class="comment">//当前缓冲区的相对位置</span></span><br><span class="line">    <span class="type">char</span> *_base; <span class="comment">//文件的起始位置)</span></span><br><span class="line">    <span class="type">int</span> _flag; <span class="comment">//文件标志</span></span><br><span class="line">    <span class="type">int</span> _file;  <span class="comment">//文件的有效性验证</span></span><br><span class="line">    <span class="type">int</span> _charbuf; <span class="comment">//检查缓冲区状况,如果无缓冲区则不读取</span></span><br><span class="line">    <span class="type">int</span> _bufsiz; <span class="comment">// 缓冲区大小</span></span><br><span class="line">    <span class="type">char</span> *_tmpfname; <span class="comment">//临时文件名</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> _<span class="title">iobuf</span> <span class="title">FILE</span>;</span></span><br></pre></td></tr></table></figure><h3 id="8-2-1-打开文件"><a href="#8-2-1-打开文件" class="headerlink" title="8.2.1 打开文件"></a>8.2.1 打开文件</h3><blockquote><p>建立程序和文件之间的通信通道，并为文件系统建立缓冲</p></blockquote><p>所在文件：<code>stdio.h</code></p><h4 id="a-参数及返回值"><a href="#a-参数及返回值" class="headerlink" title="a. 参数及返回值"></a>a. 参数及返回值</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FILE *<span class="title function_">fopen</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *filename,<span class="type">const</span> <span class="type">char</span> *mode)</span>;</span><br><span class="line"><span class="comment">//以mode的方式，打开filename命名的文件，返回一个指向该文件缓冲的FILE结构体指针</span></span><br><span class="line">FILE *fp = fopen(<span class="string">&quot;路径&quot;</span>,<span class="string">&quot;w&quot;</span>);</span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th>参数/返回值</th><th>含义</th></tr></thead><tbody><tr><td><code>char *filename</code></td><td>要打开或者创建文件的路径</td></tr><tr><td><code>mode</code></td><td>打开文件的方式</td></tr><tr><td><code>FILE</code></td><td>返回指向文件缓冲区的指针，用于操作文件</td></tr></tbody></table></div><h4 id="b-文件读写方式"><a href="#b-文件读写方式" class="headerlink" title="b. 文件读写方式"></a>b. 文件读写方式</h4><div class="table-container"><table><thead><tr><th>mode</th><th>文件类型</th><th>操作</th><th>文件不存在</th><th>文件存在</th></tr></thead><tbody><tr><td>r</td><td>文本文件</td><td>读取</td><td>出错</td><td>打开文件</td></tr><tr><td>w</td><td>文本文件</td><td>写入</td><td>创建新文件</td><td>覆盖原文件</td></tr><tr><td>a</td><td>文本文件</td><td>追加</td><td>创建新文件</td><td>原文件后追加</td></tr><tr><td>r+</td><td>文本文件</td><td>读取/写入</td><td>出错</td><td>打开文件</td></tr><tr><td>w+</td><td>文本文件</td><td>读取/写入</td><td>创建新文件</td><td>覆盖原文件</td></tr><tr><td>a+</td><td>文本文件</td><td>读取/追加</td><td>创建新文件</td><td>原文件后追加</td></tr><tr><td>rb</td><td>二进制文件</td><td>读取</td><td>出错</td><td>打开文件</td></tr><tr><td>wb</td><td>二进制文件</td><td>写入</td><td>创建新文件</td><td>覆盖原文件</td></tr><tr><td>ab</td><td>二进制文件</td><td>追加</td><td>创建新文件</td><td>原文件后追加</td></tr><tr><td>rb+</td><td>二进制文件</td><td>读取/写入</td><td>出错</td><td>打开文件</td></tr><tr><td>wb+</td><td>二进制文件</td><td>读取/写入</td><td>创建新文件</td><td>覆盖原文件</td></tr><tr><td>ab+</td><td>二进制文件</td><td>读取/追加</td><td>创建新文件</td><td>原文件后追加</td></tr></tbody></table></div><h3 id="8-2-2-关闭文件"><a href="#8-2-2-关闭文件" class="headerlink" title="8.2.2 关闭文件"></a>8.2.2 关闭文件</h3><p>所在文件：<code>stdio.h</code></p><p>函数功能：<code>fclose()</code> 用来关闭之前 <code>fopen()</code> 打开的文件</p><p>函数操作：让缓冲区内的数据写入文件，并释放系统提供的文件资源</p><h4 id="a-参数和返回值"><a href="#a-参数和返回值" class="headerlink" title="a. 参数和返回值"></a>a. 参数和返回值</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">fclose</span><span class="params">(FILE *filePointer)</span></span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th>参数/返回值</th><th>含义</th></tr></thead><tbody><tr><td>FILE *filePointe</td><td>指向文件缓冲的指针</td></tr><tr><td>int</td><td>成功则返回0，失败则返回EOF(-1)</td></tr></tbody></table></div><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">	FILE *fp;</span><br><span class="line">	<span class="keyword">if</span>(fopen(<span class="string">&quot;abc.txt&quot;</span>,<span class="string">&quot;w&quot;</span>)==<span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">-1</span>);<span class="comment">//非0表示异常</span></span><br><span class="line">    &#125;</span><br><span class="line">    fclose(fp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-2-3-读写文件"><a href="#8-2-3-读写文件" class="headerlink" title="8.2.3 读写文件"></a>8.2.3 读写文件</h3><blockquote><p>需要引入 <code>位置指针</code> ：打开文件，默认指向文件开头</p><ul><li>所有文件读/写，都是从 <code>位置指针</code> 指示的位置进行读/写</li></ul></blockquote><p>分为</p><ul><li>顺序读写</li><li>随机读写</li></ul><h4 id="a-文本文件读写"><a href="#a-文本文件读写" class="headerlink" title="a. 文本文件读写"></a>a. 文本文件读写</h4><h5 id="文件尾测试函数"><a href="#文件尾测试函数" class="headerlink" title="文件尾测试函数"></a>文件尾测试函数</h5><blockquote><p>文件使用特殊字符 <code>EOF</code> 作为文件结束标记</p></blockquote><p><code>int feof(FILE *stream);</code> ：判断是否读到文件结尾</p><ul><li>0表示未读到文件尾</li><li>非0表示读到文件尾，此时不能读取文件</li></ul><p>所在文件：<code>stdio.h</code></p><p>参数：<code>FILE *stream</code> 是指向文件缓冲的指针</p><p>注意：文件只有读了才会修改 <code>位置指针</code> ，没有打开并读取的文件无法通过 <code>feof(fp)</code> 判断是否读到文件尾，一定要 <strong>先读在判断</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//打开文件</span></span><br><span class="line">    FILE *fp = fopen(<span class="string">&quot;test.txt&quot;</span>,<span class="string">&quot;r+&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//从文件中读取内容</span></span><br><span class="line">    <span class="type">char</span> res = EOF;</span><br><span class="line">    <span class="keyword">while</span>(res = fgetc(fp) &amp;&amp; !feof(fp))&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//关闭文件  </span></span><br><span class="line">    fclose(fp);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在使用 <code>feof()</code> 判断文件尾时，最后一行没有 <code>\n</code> 会少读一行</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    FILE *fp = fopen(<span class="string">&quot;test.txt&quot;</span>, <span class="string">&quot;w+&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">fputs</span>(<span class="string">&quot;asd\n&quot;</span>, fp);</span><br><span class="line">    <span class="built_in">fputs</span>(<span class="string">&quot;123456&quot;</span>, fp);</span><br><span class="line">    rewind(fp);</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> str[<span class="number">1024</span>];</span><br><span class="line">    <span class="keyword">while</span>(fgets(str, <span class="number">1024</span>, fp) &amp;&amp; !feof(fp))&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;str = %s&quot;</span>, str); </span><br><span class="line">        <span class="comment">//输出 str = asd</span></span><br><span class="line">        <span class="comment">//若最后一行加上 \n,则输出 </span></span><br><span class="line">        <span class="comment">//str = asd</span></span><br><span class="line">        <span class="comment">//str = 123456</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    fclose(fp);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="读-写一个字符"><a href="#读-写一个字符" class="headerlink" title="读/写一个字符"></a>读/写一个字符</h5><div class="table-container"><table><thead><tr><th>读入一个字符</th><th>输出一个字符</th><th>所在文件</th></tr></thead><tbody><tr><td><code>getchar()</code></td><td><code>putchar()</code></td><td><code>stdio.h</code></td></tr><tr><td><code>fgetc(fp)</code></td><td><code>fputc(ch,fp)</code></td><td><code>stdio.h</code></td></tr></tbody></table></div><hr><p><code>int fgetc(FILE *fp)</code>：从文件中读取一个字符，若到文件尾返回<code>EOF</code></p><ul><li>正常情况返回一个int类型值</li><li>读到文件尾或出错，返回 <code>EOF</code></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//打开文件</span></span><br><span class="line">    FILE *fp = fopen(<span class="string">&quot;test.txt&quot;</span>, <span class="string">&quot;r+&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//从文件中读取内容</span></span><br><span class="line">    <span class="type">char</span> res = EOF;</span><br><span class="line">    <span class="keyword">while</span>((res = fgetc(fp)) != EOF)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;res = %c\n&quot;</span>, res);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//关闭打开的文件</span></span><br><span class="line">    fclose(fp);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p><code>int fputc(int ch,FILE *fp)</code>：将ch字符写入文件</p><ul><li>写入成功，返回写入的字符</li><li>写入失败，返回 <code>EOF</code></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">   	<span class="comment">//打开一个文件</span></span><br><span class="line">    FILE *fp = fopen(<span class="string">&quot;test.txt&quot;</span>,<span class="string">&quot;w+&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//向文件中写入内容</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">char</span> ch = <span class="string">&#x27;a&#x27;</span>;ch &lt;= <span class="string">&#x27;z&#x27;</span>;++ch)&#123;</span><br><span class="line">       	<span class="type">char</span> res = fputc(ch,fp);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,res);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//关闭打开的文件</span></span><br><span class="line">    fclose(fp);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="读-写一行字符串"><a href="#读-写一行字符串" class="headerlink" title="读/写一行字符串"></a>读/写一行字符串</h5><div class="table-container"><table><thead><tr><th>读入字符串</th><th>输出字符串</th><th>所在文件</th></tr></thead><tbody><tr><td><code>getchar()</code></td><td><code>putchar()</code></td><td><code>stdio.h</code></td></tr><tr><td><code>fgets(fp)</code></td><td><code>fputs(s,fp)</code></td><td><code>stdio.h</code></td></tr></tbody></table></div><hr><p><code>char *fgets(char *s,int n,FILE *fp)</code> :从 <code>fp</code> 指向的文件中<strong>读取</strong> <code>n-1</code> 个字符，写入s中；如果中间遇到 <code>\0</code> 或者 <code>EOF</code> ，读入结束，且在字符串最后添加 <code>\0</code></p><ul><li>正常，返回 <code>char *str</code> 指针</li><li>遇到 <code>\n</code> 或 <code>EOF</code>则停止读取</li><li>出错，返回空指针 <code>NULL</code></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    </span><br><span class="line">    FILE *fp = fopen(<span class="string">&quot;test.txt&quot;</span>, <span class="string">&quot;w+&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">fputs</span>(<span class="string">&quot;asd\n&quot;</span>, fp);</span><br><span class="line">    <span class="built_in">fputs</span>(<span class="string">&quot;123456\n&quot;</span>, fp);</span><br><span class="line">    rewind(fp);</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> str[<span class="number">1024</span>];</span><br><span class="line">    fgets(str, <span class="number">1024</span>, fp);<span class="comment">//读到 \n 读取一行结束</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;str = %s&quot;</span>, str); <span class="comment">// asd</span></span><br><span class="line"></span><br><span class="line">    fclose(fp);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    FILE *fp = fopen(<span class="string">&quot;test.txt&quot;</span>, <span class="string">&quot;w+&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">fputs</span>(<span class="string">&quot;asd\n&quot;</span>, fp);</span><br><span class="line">    <span class="built_in">fputs</span>(<span class="string">&quot;123456&quot;</span>, fp);</span><br><span class="line">    rewind(fp);</span><br><span class="line">    </span><br><span class="line">    <span class="type">char</span> str[<span class="number">1024</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(fgets(str, <span class="number">1024</span>, fp))&#123;<span class="comment">//读到文件尾，停止读</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;str = %s&quot;</span>, str);<span class="comment">//asd123456</span></span><br><span class="line">    &#125;</span><br><span class="line">    fclose(fp);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p><code>int fputs(char *s,FILE *fp)</code> ：将 <code>s</code> 中的字符串写到 <code>fp</code> 指向的文件中</p><ul><li>正常则返回0</li><li>出错则返回 <code>EOF</code></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    FILE *fp = fopen(<span class="string">&quot;test.txt&quot;</span>,<span class="string">&quot;w+&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">fputs</span>(<span class="string">&quot;Hello &quot;</span>,fp);</span><br><span class="line">    <span class="built_in">fputs</span>(<span class="string">&quot;World!&quot;</span>,fp);</span><br><span class="line">    </span><br><span class="line">    fclose(fp);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>遇到 <code>\0</code> 自动终止写入</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    FILE *fp = fopen(<span class="string">&quot;test.txt&quot;</span>,<span class="string">&quot;w+&quot;</span>);</span><br><span class="line">    <span class="built_in">fputs</span>(<span class="string">&quot;asd\0asdasd\n&quot;</span>,fp);</span><br><span class="line">    </span><br><span class="line">    fclose(fp);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/posts/1037565863/image-20220806185704984.png" alt="image-20220806185704984"></p><h5 id="格式读-写"><a href="#格式读-写" class="headerlink" title="格式读/写"></a>格式读/写</h5><p><code>int fscanf(FILE *fp,char *format)</code></p><blockquote><p>读/写成功返回整数</p></blockquote><p><code>int fprintf(FILE *fp,char *fprmat)</code></p><h4 id="b-二进制文件读-写"><a href="#b-二进制文件读-写" class="headerlink" title="b. 二进制文件读/写"></a>b. 二进制文件读/写</h4><blockquote><p>二进制文件的读写函数可以读取文本文件</p><p>文本文件的读写函数不可读取二进制文件</p></blockquote><p><code>unsigned fread(void *ptr,unsigned size,unsigned n,FILE *fp)</code></p><blockquote><p>从文件 <code>fp</code> 中读取 <code>n</code> 个 <code>size</code> 字节的数据块，存储于 <code>ptr</code> 指向的内存空间</p></blockquote><ul><li>成功，则返回 <code>n</code></li><li>出错或文件结束，则返回0</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">// test.txt中存放的是&quot;Hello\0 World!&quot;</span></span><br><span class="line">    FILE *fr = fopen(<span class="string">&quot;test.txt&quot;</span>, <span class="string">&quot;rb+&quot;</span>);</span><br><span class="line">    <span class="type">char</span> buf[<span class="number">1024</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> n = fread(buf, <span class="number">1</span>, <span class="number">1024</span>, fr);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, buf[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    fclose(fr);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意：读取时，<code>size</code> 取最小字节，<code>n</code> 可以随便写</p><ul><li><p>若读取时 <code>size</code> 不是最小字节，则会引起读取失败</p><p>如存储的 <code>char</code> 类型 0A 1E 1C 2C 66 67 68</p><p><code>size = 1</code> 时，<code>n=1024</code> ，会将文件中内容依次取出</p><p><code>size = 4</code> 时，<code>n=1024</code> ，第一个数据块 0A 1E 1C 2C 会顺利取出，但最后剩下3个字节不足一个数据块，则最后一个块读取不到</p></li></ul><hr><p><code>unsigned fwrite(void *ptr,unsigned size,unsigned n,FILE *fp)</code></p><blockquote><p>将 <code>ptr</code> 指向的存储空间的 <code>n</code> 个 <code>size</code> 字节的数据块写入文件 <code>fp</code> 中</p></blockquote><ul><li>成功，则返回 <code>n</code></li><li>出错或文件结束，则返回0</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    FILE *fp = fopen(<span class="string">&quot;test.txt&quot;</span>,<span class="string">&quot;wb+&quot;</span>);</span><br><span class="line">    <span class="type">char</span> *str = <span class="string">&quot;Hello\0 World!&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    fwrite((<span class="type">void</span> *)str, <span class="number">13</span> ,<span class="number">1</span>, fp);</span><br><span class="line">    </span><br><span class="line">    fclose(fp);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="读写数组"><a href="#读写数组" class="headerlink" title="读写数组"></a>读写数组</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    FILE *fp = fopen(<span class="string">&quot;test.txt&quot;</span>,<span class="string">&quot;wb+&quot;</span>);</span><br><span class="line">   	<span class="type">int</span> ages[<span class="number">4</span>] = &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>&#125;;</span><br><span class="line">    fwrite(ages,<span class="keyword">sizeof</span>(ages),<span class="number">1</span>,fp);</span><br><span class="line">    </span><br><span class="line">    rewind(fp);</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    <span class="keyword">while</span>(fread(&amp;t,<span class="keyword">sizeof</span>(<span class="type">int</span>),<span class="number">1</span>,fp) &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;data=%d\n&quot;</span>,t);</span><br><span class="line">    &#125;</span><br><span class="line">    fclose(fp);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="读写结构体"><a href="#读写结构体" class="headerlink" title="读写结构体"></a>读写结构体</h5><blockquote><p>结构体中的数据类型不统一，此时最适合用二进制的方式进行读写</p></blockquote><p>单个结构体</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">	<span class="type">char</span> *name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">double</span> height;</span><br><span class="line">&#125;Person;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    Person p1 = &#123;<span class="string">&quot;A&quot;</span>,<span class="number">23</span>,<span class="number">1.7</span>&#125;;</span><br><span class="line">    FILE *fp = fopen(<span class="string">&quot;test.person&quot;</span>,<span class="string">&quot;wb+&quot;</span>);</span><br><span class="line">    fwrite(&amp;p1,<span class="keyword">sizeof</span>(p1),<span class="number">1</span>,fp);</span><br><span class="line">    </span><br><span class="line">    rewind(fp);</span><br><span class="line">    Person p2;</span><br><span class="line">    fread(&amp;p2,<span class="keyword">sizeof</span>(p2),<span class="number">1</span>,fp);</span><br><span class="line">    </span><br><span class="line">    fclose(fp);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>读写结构体数组</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">	<span class="type">char</span> *name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">double</span> height;</span><br><span class="line">&#125;Person;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    Person ps[] = &#123;</span><br><span class="line">        &#123;<span class="string">&quot;A&quot;</span>, <span class="number">18</span>, <span class="number">1.65</span>&#125;,</span><br><span class="line">      	&#123;<span class="string">&quot;B&quot;</span>, <span class="number">21</span>, <span class="number">1.88</span>&#125;,</span><br><span class="line">      	&#123;<span class="string">&quot;C&quot;</span>, <span class="number">33</span>, <span class="number">1.9</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    FILE *fp = fopen(<span class="string">&quot;test.person&quot;</span>,<span class="string">&quot;wb+&quot;</span>);</span><br><span class="line">    fwrite(&amp;ps,<span class="keyword">sizeof</span>(ps),<span class="number">1</span>,fp);</span><br><span class="line">    </span><br><span class="line">    rewind(fp);</span><br><span class="line">    Person p;</span><br><span class="line">    <span class="keyword">while</span>(fread(&amp;p,<span class="keyword">sizeof</span>(p),<span class="number">1</span>,fp) &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;name = %s,age = %d,height = %lf\n&quot;</span></span><br><span class="line">               ,p.name,p.age,p.height);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    fclose(fp);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-2-4-文件操作函数"><a href="#8-2-4-文件操作函数" class="headerlink" title="8.2.4 文件操作函数"></a>8.2.4 文件操作函数</h3><h4 id="a-获取文件位置指针"><a href="#a-获取文件位置指针" class="headerlink" title="a. 获取文件位置指针"></a>a. 获取文件位置指针</h4><p><code>long ftell(FILE *fp)</code> ：返回距文件头的字节数</p><ul><li>成功，则返回整型</li><li>失败，返回-1</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">char</span> *str = <span class="string">&quot;abcedfg&quot;</span>;</span><br><span class="line">    FILE *fp = fopen(<span class="string">&quot;test.txt&quot;</span>, <span class="string">&quot;w+&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">long</span> p = ftell(fp);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p = %ld\n&quot;</span>, cp); <span class="comment">// 0</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 写入一个字节</span></span><br><span class="line">    fputc(str[<span class="number">0</span>], fp);</span><br><span class="line">    p = ftell(fp);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p = %ld\n&quot;</span>, p); <span class="comment">// 1</span></span><br><span class="line">    </span><br><span class="line">    fclose(fp);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="b-位置指针重定位"><a href="#b-位置指针重定位" class="headerlink" title="b. 位置指针重定位"></a>b. 位置指针重定位</h4><p><code>void rewind()</code> ：使位置指针指向文件头</p><h4 id="c-文件定位函数"><a href="#c-文件定位函数" class="headerlink" title="c. 文件定位函数"></a>c. 文件定位函数</h4><p><code>int fseek(FILE *fp, long offset, int origin );</code> ： 将位置指针移动到指定位置</p><ul><li><p><code>fp</code> ：文件的指针，指向要操作的文件</p></li><li><p><code>offset</code> ：表示要移动的字节数</p><p>offset 为正时，向后移动；</p><p>offset 为负时，向前移动</p></li><li><p><code>origin</code>：从何处开始计算偏移量。</p><p>| 起始点 | 常量名 | 常量值 |<br>| ———— | ———— | ——— |<br>| 文件开头 | SEEK_SET | 0 |<br>| 当前位置 | SEEK_CUR | 1 |<br>| 文件末尾 | SEEK_END | 2 |</p></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    FILE *fp = fopen(<span class="string">&quot;test.txt&quot;</span>, <span class="string">&quot;w+&quot;</span>);</span><br><span class="line">    <span class="built_in">fputs</span>(<span class="string">&quot;123456789&quot;</span>, fp);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 将文件指针移动到文件结尾</span></span><br><span class="line">    fseek(fp, <span class="number">0</span>, SEEK_END);</span><br><span class="line">    <span class="type">int</span> len = ftell(fp); <span class="comment">// 计算文件长度</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;len = %i\n&quot;</span>, len);</span><br><span class="line">    </span><br><span class="line">    fclose(fp);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    FILE *fp = fopen(<span class="string">&quot;test.txt&quot;</span>,<span class="string">&quot;w+&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">fputs</span>(<span class="string">&quot;123456789&quot;</span>, fp);</span><br><span class="line">    fseek( fp, <span class="number">7</span>, SEEK_SET );</span><br><span class="line">    <span class="built_in">fputs</span>(<span class="string">&quot;Hello&quot;</span>, fp);</span><br><span class="line">    </span><br><span class="line">    fclose(fp);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="9-内存管理"><a href="#9-内存管理" class="headerlink" title="9. 内存管理"></a>9. 内存管理</h1><h2 id="9-1-进程空间"><a href="#9-1-进程空间" class="headerlink" title="9.1 进程空间"></a>9.1 进程空间</h2><p>程序（静态）：经编译后的可执行文件可以被多次执行</p><p>进程（动态）：程序在内存中的运行状态为进程</p><p><img src="/posts/1037565863/image-20220807174549832.png" alt="image-20220807174549832"></p><h3 id="9-1-1-栈内存-stack"><a href="#9-1-1-栈内存-stack" class="headerlink" title="9.1.1 栈内存(stack)"></a>9.1.1 栈内存(stack)</h3><p>栈中存放任意类型变量，但必须是 <code>auto</code> 类型修饰符的局部变量</p><p>随用随开，用完即销</p><p>内存的分配和销毁由系统自动完成，不需要人工干预</p><ul><li>栈内存的分配：从高地址到低地址，为变量分配的内容由 <code>数据类型</code> 和 <code>空间首地址</code> 标记</li></ul><p>栈有最大存储空间限制，超出则引起栈溢出</p><ul><li>如局部变量过多，过大或递归层数太多</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">2</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&amp;a = %p\n&quot;</span>, &amp;a); <span class="comment">// &amp;a = 0ABC0FFC</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&amp;b = %p\n&quot;</span>, &amp;b); <span class="comment">// &amp;b = 0ABC0FF8</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-1-2-堆内存-heap"><a href="#9-1-2-堆内存-heap" class="headerlink" title="9.1.2 堆内存(heap)"></a>9.1.2 堆内存(heap)</h3><p>堆内存可以存放任意类型的数据，但需要自己申请与释放</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> *p = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>)*<span class="number">1024</span>*<span class="number">1024</span>);</span><br><span class="line"><span class="comment">//不一定会崩溃</span></span><br></pre></td></tr></table></figure><p>连续两次申请的内存可能不连续，但一定是从小地址开始分配内存</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> *p1 = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="number">4</span>);</span><br><span class="line">    *p1 = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> *p2 = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="number">4</span>);</span><br><span class="line">    *p2 = <span class="number">2</span>;</span><br><span class="line">   </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p1 = %p\n&quot;</span>, p1); <span class="comment">//p1 = 00000227639268C0</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p2 = %p\n&quot;</span>, p2); <span class="comment">//p2 = 0000022763926900</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="9-2-变量内存分析"><a href="#9-2-变量内存分析" class="headerlink" title="9.2 变量内存分析"></a>9.2 变量内存分析</h2><h3 id="9-2-1-变量存储过程"><a href="#9-2-1-变量存储过程" class="headerlink" title="9.2.1 变量存储过程"></a>9.2.1 变量存储过程</h3><p>一个变量所占用的存储空间，和 <strong>定义变量时声明的类型</strong> 以及 <strong>编译环境</strong> 有关</p><div class="table-container"><table><thead><tr><th>类型</th><th>32位编译器</th><th>64位编译器</th></tr></thead><tbody><tr><td>char</td><td>1</td><td>1</td></tr><tr><td>int</td><td>4</td><td>4</td></tr><tr><td>float</td><td>4</td><td>4</td></tr><tr><td>double</td><td>8</td><td>8</td></tr><tr><td>short</td><td>2</td><td>2</td></tr><tr><td>long</td><td>4</td><td>8</td></tr><tr><td>long long</td><td>8</td><td>8</td></tr><tr><td>void*</td><td>4</td><td>8</td></tr></tbody></table></div><h4 id="a-变量存储的过程"><a href="#a-变量存储的过程" class="headerlink" title="a. 变量存储的过程"></a>a. 变量存储的过程</h4><ul><li>根据定义变量时声明的 <code>变量类型</code> 和当前 <code>编译环境</code> 确定需要开辟多大存储空间</li><li>在内存中开辟一块存储空间，开辟时从内存地址大的开始开辟，将最小的地址返回给变量</li><li>将数据保存到已经开辟好的内存空间内</li></ul><blockquote><p><strong>变量名：变量的首地址</strong>，是变量所占存储空间字节地址(最小的那个地址 )</p><p>小端模式：数据的高字节高地址</p></blockquote><h3 id="9-2-2-内存读写操作"><a href="#9-2-2-内存读写操作" class="headerlink" title="9.2.2 内存读写操作"></a>9.2.2 内存读写操作</h3><p><img src="/posts/1037565863/image-20220807183824686.png" alt="image-20220807183824686"></p><p>CPU在运行时要明确三件事：</p><ul><li><p><strong>存储单元的地址(地址信息)</strong></p><p>通过地址总线找到存储单元的地址</p></li><li><p><strong>对部件的操作（读或写，控制信息）</strong></p><p>通过控制总线发出内存读写指令</p></li><li><p><strong>数据（数据信息）</strong></p><p>通过数据总线传输需要读写的数据</p></li></ul><h4 id="a-写入过程"><a href="#a-写入过程" class="headerlink" title="a. 写入过程"></a>a. 写入过程</h4><ul><li>CPU 通过地址线将找到地址为 FFFFFFFC 的内存空间</li><li>CPU 通过控制线发出内存写入命令，选中存储器芯片，并通知它，要其写入数据</li><li>CPU 通过数据线将数据 12 送入内存 FFFFFFFC 单元中</li></ul><p><img src="/posts/1037565863/image-20220807184848573.png" alt="image-20220807184848573"></p><h4 id="b-读入过程"><a href="#b-读入过程" class="headerlink" title="b. 读入过程"></a>b. 读入过程</h4><ul><li>CPU 通过地址线将找到地址为 FFFF FFFC 的内存</li><li>CPU 通过控制线发出内存读取命令，选中存储器芯片，并通知它，将要从中读取数据</li><li>存储器将 FFFFFFFC 号单元中的数据 12 通过数据线送入 CPU寄存器中</li></ul><p><img src="/posts/1037565863/image-20220807185133962.png" alt="image-20220807185133962"></p><h2 id="9-3-数据存储区"><a href="#9-3-数据存储区" class="headerlink" title="9.3 数据存储区"></a>9.3 数据存储区</h2><p>执行C语言程序，可用的存储区有</p><ol><li><p>程序区</p></li><li><p>静态存储区：编译时分配内存；包括 <code>static,extern</code></p></li><li><p>动态存储区：运行时分配内存；包括 <code>static,auto</code></p></li></ol><h3 id="9-3-1-static"><a href="#9-3-1-static" class="headerlink" title="9.3.1 static"></a>9.3.1 <code>static</code></h3><p>静态局部变量</p><ul><li>仅在本函数中使用，调用后不清零</li><li>只能赋一次初值，若不初始化 自动赋0或空字符</li><li>可使用静态局部变量跟踪调用次数</li></ul><p>静态全局变量</p><ul><li>仅限在定义的文件中使用，可使不同源文件中的静态全局变量独立</li></ul><h3 id="9-3-2-extern"><a href="#9-3-2-extern" class="headerlink" title="9.3.2 extern"></a>9.3.2 <code>extern</code></h3><p>在函数外部引用变量使用 <code>extern</code> ，扩充已定义的全局变量作用域</p><p>一个C语言程序包含多个源程序，若使用同一外部变量，在一个源文件中定义，在另一个中用 <code>extern</code> 说明是外部变量。引用外部函数时，被引用函数需添加 <code>extern</code></p><h2 id="9-4-动态分配内存"><a href="#9-4-动态分配内存" class="headerlink" title="9.4 动态分配内存"></a>9.4 动态分配内存</h2><p><code>stdlib.h</code></p><h3 id="9-4-1-malloc"><a href="#9-4-1-malloc" class="headerlink" title="9.4.1 malloc"></a>9.4.1 malloc</h3><p><code>void *malloc(size_t size);</code> ：在内存中申请一块连续的堆内存空间并返回，所申请的空间并未初始化</p><ul><li><p>size ：表示要申请的字符数</p></li><li><p>返回值：</p><p>成功，返回非空指针，指向申请的空间</p><p>失败，返回 <code>NULL</code></p></li></ul><p>初始化方法：<code>memset(指针, 初始值, 待初始化字节数)</code> 字节初始化</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> *p = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p = %d\n&quot;</span>, *p); <span class="comment">// 垃圾值</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">memset</span>(p, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>)); <span class="comment">// 初始化为0</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p = %d\n&quot;</span>, *p);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-4-2-free"><a href="#9-4-2-free" class="headerlink" title="9.4.2 free"></a>9.4.2 free</h3><p><code>void free(void *p);</code> ： 释放通过 <code>malloc()</code> 申请的堆内存空间，所以 <code>malloc()</code> 和 <code>free()</code> 总是成对出现</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> *p = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p = %d\n&quot;</span>, *p); <span class="comment">// 垃圾值</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">memset</span>(p, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>)); <span class="comment">// 初始化为0</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p = %d\n&quot;</span>, *p);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-4-3-calloc"><a href="#9-4-3-calloc" class="headerlink" title="9.4.3 calloc"></a>9.4.3 calloc</h3><p><code>void *calloc(size_t n,size_t size);</code> ：在堆内存中申请 <code>n</code> 块长度为 <code>size</code> 的空间，申请的空间自动初始化为0</p><ul><li>成功，返回非空指针指向申请的空间</li><li>失败，返回 <code>NULL</code></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">// 申请3块4个字节的存储空间</span></span><br><span class="line">    <span class="type">int</span> *p = <span class="built_in">calloc</span>(<span class="number">3</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">   </span><br><span class="line">    p[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    p[<span class="number">1</span>] = <span class="number">3</span>;</span><br><span class="line">    p[<span class="number">2</span>] = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p[0] = %d\n&quot;</span>, p[<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p[1] = %d\n&quot;</span>, p[<span class="number">1</span>]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p[2] = %d\n&quot;</span>, p[<span class="number">2</span>]);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-4-4-realloc"><a href="#9-4-4-realloc" class="headerlink" title="9.4.4 realloc"></a>9.4.4 realloc</h3><p><code>void *realloc(void *p,size_t size);</code> ：扩充或缩小原有内存的大小</p><ul><li><p>参数</p><p><code>p</code> ：表示待扩容的空间指针</p><p><code>size</code> ：表示扩容后内存的大小</p></li><li><p>返回</p><p>成功：返回非空指针指向申请的空间</p><p>失败：返回 <code>NULL</code></p></li></ul><p>注意：</p><ul><li><p>当 <code>p == NULL</code> 时，<code>realloc(NULL,sizeof(int))</code> 等同于 <code>malloc(sizeof(int))</code></p></li><li><p>返回的指针，可能与 <code>p</code> 原本的值相同，也可能不同</p><p>相同：则原空间后后续空间充足</p><p>不同：原空间后续内存空间不足，重新申请新的连续空间后，将元数据拷贝到新空间，原有空间会被自动释放</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">// 申请4个字节存储空间</span></span><br><span class="line">    <span class="type">int</span> *p = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p = %p\n&quot;</span>, p);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//扩容</span></span><br><span class="line">    p = <span class="built_in">realloc</span>(p, <span class="keyword">sizeof</span>(<span class="type">int</span>) * <span class="number">2</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p = %p\n&quot;</span>, p);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//使用申请好的空间</span></span><br><span class="line">    *p = <span class="number">666</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;*p = %d\n&quot;</span>,  *p);</span><br><span class="line">    <span class="comment">// 释放空间</span></span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="9-4-5-应用——动态链表"><a href="#9-4-5-应用——动态链表" class="headerlink" title="9.4.5 应用——动态链表"></a>9.4.5 应用——动态链表</h3><h4 id="a-链表与静态链表"><a href="#a-链表与静态链表" class="headerlink" title="a. 链表与静态链表"></a>a. 链表与静态链表</h4><blockquote><p>链表：将零碎的内存空间组织为一组可用的内存空间</p></blockquote><ul><li>使用 <code>malloc</code> 申请内存空间时，若没有足够大的连续内存空间，则申请失败</li></ul><p><img src="/posts/1037565863/image-20220808181011659.png" alt="image-20220808181011659"></p><blockquote><p>静态链表：链表的长度固定，链表的结点固定</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//链表结点</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;Node;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    Node a,b,c;</span><br><span class="line">    </span><br><span class="line">    Node *head = &amp;a;</span><br><span class="line">    a.data = <span class="number">1</span>;</span><br><span class="line">    b.data = <span class="number">2</span>;</span><br><span class="line">    c.data = <span class="number">3</span>;</span><br><span class="line">    a.next = &amp;b;</span><br><span class="line">    b.next = &amp;c;</span><br><span class="line">    c.next = <span class="literal">NULL</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(head != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="type">int</span> cur = head-&gt;data;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,cur);</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/posts/1037565863/image-20220808180937199.png" alt="image-20220808180937199"></p><blockquote><p>空链表</p></blockquote><p>头指针带了一个空链表结点，空链表结点中的 <code>next</code> 指向 <code>NULL</code></p><p><img src="/posts/1037565863/image-20220808140440801.png" alt="image-20220808140440801"></p><p>静态链表数据存储在栈上，而栈的存储空间有限。所以要实现链表存储空间的动态分配，需要申请堆里的存储空间</p><h4 id="b-动态链表的创建"><a href="#b-动态链表的创建" class="headerlink" title="b. 动态链表的创建"></a>b. 动态链表的创建</h4><h5 id="头插法"><a href="#头插法" class="headerlink" title="头插法"></a>头插法</h5><p>涉及数据结构的线性表，可自行查看：<a href="https://amostian.github.io/posts/3975030669/">https://amostian.github.io/posts/3975030669/</a></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义结点</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;Node;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建链表</span></span><br><span class="line">Node *<span class="title function_">createList</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//按顺序打印链表中数据</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">printNodeList</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    Node *head = createList();</span><br><span class="line">    printNodeList();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Node *<span class="title function_">createList</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//创建头结点</span></span><br><span class="line">    Node *head = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    <span class="keyword">if</span>(head == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> Null;</span><br><span class="line">    head-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//从键盘接收数据</span></span><br><span class="line">    <span class="comment">//-1表示输入结束</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请逆序输入结点数据:\n&quot;</span>);</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;data);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(data != <span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="comment">//创建新结点</span></span><br><span class="line">        Node *cur = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">        cur-&gt;data = data;</span><br><span class="line">        cur-&gt;next = head-&gt;next;</span><br><span class="line">        head-&gt;next = cur;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请逆序输入结点数据:\n&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;data);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">printNodeList</span><span class="params">(Node *node)</span>&#123;</span><br><span class="line">    Node *head = node-&gt;next;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(head != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="type">int</span> data = head-&gt;data;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,data);</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="尾插法"><a href="#尾插法" class="headerlink" title="尾插法"></a>尾插法</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义结点</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;Node;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建链表</span></span><br><span class="line">Node *<span class="title function_">createList</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//按顺序打印链表中数据</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">printNodeList</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    Node *head = createList();</span><br><span class="line">    printNodeList();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Node *<span class="title function_">createList</span><span class="params">()</span>&#123;</span><br><span class="line">    Node *head = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    <span class="keyword">if</span>(head == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    head-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//从键盘接收数据</span></span><br><span class="line">    <span class="comment">//-1表示输入结束</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请顺序输入结点数据:\n&quot;</span>);</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;data);</span><br><span class="line">    </span><br><span class="line">    Node *pre = head;</span><br><span class="line">    <span class="keyword">while</span>(data != <span class="number">-1</span>)&#123;</span><br><span class="line">        Node *cur = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">        cur-&gt;data = data;</span><br><span class="line">        pre-&gt;next = cur;</span><br><span class="line">        cur-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">        </span><br><span class="line">        pre = cur;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;data);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">printNodeList</span><span class="params">(Node *node)</span>&#123;</span><br><span class="line">    Node *head = node-&gt;next;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(head != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="type">int</span> data = head-&gt;data;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,data);</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="c-插入"><a href="#c-插入" class="headerlink" title="c. 插入"></a>c. 插入</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">preInsertNode</span><span class="params">(Node *head,<span class="type">int</span> data)</span>&#123;</span><br><span class="line">    Node *cur = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    cur-&gt;data = data;</span><br><span class="line">    </span><br><span class="line">    cur-&gt;next = head-&gt;next;</span><br><span class="line">    head-&gt;next = cur;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">tailInsertNode</span><span class="params">(Node *head,<span class="type">int</span> data)</span>&#123;</span><br><span class="line">    Node *pre = head;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(pre != <span class="literal">NULL</span> &amp;&amp; pre-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">        pre = pre-&gt;next;</span><br><span class="line">    </span><br><span class="line">    Node *cur = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    cur-&gt;data = data;</span><br><span class="line">    cur-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    </span><br><span class="line">    pre-&gt;next = cur;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="d-销毁"><a href="#d-销毁" class="headerlink" title="d. 销毁"></a>d. 销毁</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">destoryList</span><span class="params">(Node *head)</span>&#123;</span><br><span class="line">    Node *cur = <span class="literal">NULL</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(head != <span class="literal">NULL</span>)&#123;</span><br><span class="line">        cur = head-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(head);</span><br><span class="line">        </span><br><span class="line">        head = cur;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------<i class="fa fa-hand-peace-o"></i>本文结束-------------</div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者 </strong>AmosTian</li><li class="post-copyright-link"><strong>本文链接 </strong><a href="https://amostian.github.io/posts/1037565863/" title="C">https://amostian.github.io/posts/1037565863/</a></li><li class="post-copyright-license"><strong>版权声明 </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" rel="tag"><i class="fa fa-tags"></i> 编程语言</a> <a href="/tags/%E7%BC%96%E8%AF%91%E5%9E%8B%E8%AF%AD%E8%A8%80/" rel="tag"><i class="fa fa-tags"></i> 编译型语言</a> <a href="/tags/C/" rel="tag"><i class="fa fa-tags"></i> C</a></div><div class="post-nav"><div class="post-nav-item"><a href="/posts/243084547/" rel="prev" title="7.归纳"><i class="fa fa-chevron-left"></i> 7.归纳</a></div><div class="post-nav-item"><a href="/posts/1821512031/" rel="next" title="Spring">Spring <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-%E6%A6%82%E8%BF%B0"><span class="nav-text">1. 概述</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-C%E8%AF%AD%E8%A8%80%E5%8F%91%E5%B1%95%E5%8F%B2"><span class="nav-text">1.1 C语言发展史</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-C%E8%AF%AD%E8%A8%80%E6%A0%87%E5%87%86"><span class="nav-text">1.2 C语言标准</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-%E4%BC%98%E7%82%B9"><span class="nav-text">1.3 优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-%E7%AE%97%E6%B3%95"><span class="nav-text">1.4 算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-%E6%95%B0%E6%8D%AE%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%AD%E7%9A%84%E8%A1%A8%E7%A4%BA"><span class="nav-text">1.5 数据在计算机中的表示</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-1-%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2"><span class="nav-text">1.5.1 进制转换</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9B%E5%88%B6"><span class="nav-text">进制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BD%AC%E4%BA%8C%E8%BF%9B%E5%88%B6"><span class="nav-text">转二进制</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-2-%E6%95%B0%E6%8D%AE%E7%BC%96%E7%A0%81"><span class="nav-text">1.5.2 数据编码</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A0%81%E5%88%B6%E7%9A%84%E7%94%B1%E6%9D%A5"><span class="nav-text">码制的由来</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-6-C%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E7%BB%84%E6%88%90"><span class="nav-text">1.6 C语言程序组成</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-6-1-%E4%B8%BB%E5%87%BD%E6%95%B0"><span class="nav-text">1.6.1 主函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E5%86%99%E6%B3%95"><span class="nav-text">a. 写法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C"><span class="nav-text">b. 执行结果</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c-%E4%B8%BB%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="nav-text">c. 主函数参数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-6-2-%E6%B3%A8%E9%87%8A"><span class="nav-text">1.6.2 注释</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E6%B3%A8%E9%87%8A%E5%88%86%E7%B1%BB"><span class="nav-text">a. 注释分类</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8D%95%E8%A1%8C%E6%B3%A8%E9%87%8A"><span class="nav-text">单行注释</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A4%9A%E8%A1%8C%E6%B3%A8%E9%87%8A"><span class="nav-text">多行注释</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c-%E6%B3%A8%E6%84%8F"><span class="nav-text">c. 注意</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-6-3-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-text">1.6.3 关键字</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E7%89%B9%E7%82%B9"><span class="nav-text">a. 特点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E5%88%86%E7%B1%BB"><span class="nav-text">b. 分类</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-text">基本数据类型关键字</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="nav-text">类型修饰符</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BB%93%E6%9E%84%E7%B1%BB%E5%9E%8B%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-text">结构类型关键字</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-text">流程控制关键字</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">2. 数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-%E7%A9%BA%E7%B1%BB%E5%9E%8B-NULL"><span class="nav-text">2.1 空类型 NULL</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">2.2 基本数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-1-char"><span class="nav-text">2.2.1 char</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-2-int%E4%B8%8E%E5%85%B6%E8%AF%B4%E6%98%8E%E7%AC%A6"><span class="nav-text">2.2.2 int与其说明符</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-short-%E5%92%8C-long"><span class="nav-text">a. short 和 long</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-signed-%E5%92%8C-unsigned"><span class="nav-text">b. signed 和 unsigned</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-3-%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B"><span class="nav-text">2.2.3 枚举类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><span class="nav-text">a. 枚举类型定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B%E5%8F%98%E9%87%8F%E5%AE%9A%E4%B9%89"><span class="nav-text">b. 枚举类型变量定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c-%E6%9E%9A%E4%B8%BE%E5%8F%98%E9%87%8F%E7%9A%84%E8%B5%8B%E5%80%BC%E4%B8%8E%E4%BD%BF%E7%94%A8"><span class="nav-text">c. 枚举变量的赋值与使用</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-%E6%9E%84%E9%80%A0%E7%B1%BB%E5%9E%8B"><span class="nav-text">2.3 构造类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-1-%E7%BB%93%E6%9E%84%E4%BD%93"><span class="nav-text">2.3.1 结构体</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E7%BB%93%E6%9E%84%E4%BD%93%E5%AE%9A%E4%B9%89"><span class="nav-text">a. 结构体定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%98%E9%87%8F"><span class="nav-text">b. 结构体变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c-%E7%BB%93%E6%9E%84%E4%BD%93%E6%88%90%E5%91%98%E8%AE%BF%E9%97%AE"><span class="nav-text">c. 结构体成员访问</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#d-%E7%BB%93%E6%9E%84%E4%BD%93%E6%88%90%E5%91%98%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">d. 结构体成员初始化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#e-%E7%BB%93%E6%9E%84%E4%BD%93%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">e. 结构体作用域</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#f-%E7%BB%93%E6%9E%84%E4%BD%93%E6%95%B0%E7%BB%84"><span class="nav-text">f. 结构体数组</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">初始化</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#g-%E7%BB%93%E6%9E%84%E4%BD%93%E6%8C%87%E9%92%88"><span class="nav-text">g. 结构体指针</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#h-%E7%BB%93%E6%9E%84%E4%BD%93%E5%86%85%E5%AD%98%E5%88%86%E6%9E%90"><span class="nav-text">h. 结构体内存分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#i-%E7%BB%93%E6%9E%84%E4%BD%93%E5%B5%8C%E5%A5%97%E5%AE%9A%E4%B9%89"><span class="nav-text">i. 结构体嵌套定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#j-%E7%BB%93%E6%9E%84%E4%BD%93%E5%92%8C%E5%87%BD%E6%95%B0"><span class="nav-text">j. 结构体和函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#k-%E4%BD%8D%E5%9F%9F"><span class="nav-text">k. 位域</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-2-%E5%85%B1%E7%94%A8%E4%BD%93"><span class="nav-text">2.3.2 共用体</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E7%BB%93%E6%9E%84%E4%BD%93%E5%92%8C%E5%85%B1%E7%94%A8%E4%BD%93%E5%8C%BA%E5%88%AB"><span class="nav-text">a. 结构体和共用体区别</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E5%85%B1%E7%94%A8%E4%BD%93%E5%AE%9A%E4%B9%89"><span class="nav-text">b. 共用体定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-text">c. 应用场景</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-3-%E6%95%B0%E7%BB%84"><span class="nav-text">2.3.3 数组</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E6%95%B0%E7%BB%84%E5%AE%9A%E4%B9%89"><span class="nav-text">a. 数组定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E5%88%9D%E5%A7%8B%E5%8C%96%E6%95%B0%E7%BB%84"><span class="nav-text">b. 初始化数组</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E7%9A%84%E5%90%8C%E6%97%B6%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">定义的同时初始化</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link"><span class="nav-text">1int nums[3] &#x3D; {1,2,3};</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%88%E5%AE%9A%E4%B9%89%E5%90%8E%E5%8D%95%E7%8B%AC%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">先定义后单独初始化</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c-%E6%95%B0%E7%BB%84%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">c. 数组的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E7%9A%84%E9%81%8D%E5%8E%86"><span class="nav-text">数组的遍历</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#d-%E6%95%B0%E7%BB%84%E9%95%BF%E5%BA%A6%E7%9A%84%E8%AE%A1%E7%AE%97"><span class="nav-text">d. 数组长度的计算</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%9A%84%E8%AE%A1%E7%AE%97"><span class="nav-text">数组存储空间的计算</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#sizeof-%E5%85%B3%E9%94%AE%E5%AD%97%E8%AE%A1%E7%AE%97%E6%95%B0%E7%BB%84%E9%95%BF%E5%BA%A6"><span class="nav-text">sizeof 关键字计算数组长度</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#e-%E6%95%B0%E7%BB%84%E5%86%85%E5%AD%98%E5%88%86%E6%9E%90"><span class="nav-text">e. 数组内存分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#f-%E6%95%B0%E7%BB%84%E8%B6%8A%E7%95%8C%E9%97%AE%E9%A2%98"><span class="nav-text">f. 数组越界问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#g-%E6%95%B0%E7%BB%84%E4%B8%8E%E5%87%BD%E6%95%B0"><span class="nav-text">g. 数组与函数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-4-%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="nav-text">2.3.4 二维数组</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">a. 初始化</span></a></li></ol></li></ol><li class="nav-item nav-level-2"><a class="nav-link" href="#-1"><span class="nav-text">1234567int a[2][3];a[0][0] &#x3D; 80;a[0][1] &#x3D; 75;a[0][2] &#x3D; 92;a[1][0] &#x3D; 61;a[1][1] &#x3D; 65;a[1][2] &#x3D; 71;</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E7%9A%84%E9%81%8D%E5%8E%86"><span class="nav-text">b. 二维数组的遍历</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c-%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E7%9A%84%E5%AD%98%E5%82%A8"><span class="nav-text">c. 二维数组的存储</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#d-%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E4%B8%8E%E5%87%BD%E6%95%B0"><span class="nav-text">d. 二维数组与函数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%80%BC%E4%BC%A0%E9%80%92"><span class="nav-text">值传递</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9C%B0%E5%9D%80%E4%BC%A0%E9%80%92"><span class="nav-text">地址传递</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-5-%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-text">2.3.5 字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E5%88%9D%E5%A7%8B%E5%8C%96-1"><span class="nav-text">a. 初始化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="nav-text">b. 输入输出</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-text">c. 常用方法</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="nav-text">输入输出</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6"><span class="nav-text">字符串长度</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%9E%E6%8E%A5"><span class="nav-text">字符串连接</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%8D%E5%88%B6"><span class="nav-text">字符串复制</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%AF%94%E8%BE%83"><span class="nav-text">字符串比较</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B"><span class="nav-text">2.4 指针类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-text">2.4.1 基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80%E4%B8%8E%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4"><span class="nav-text">a. 内存地址与存储空间</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F"><span class="nav-text">b. 指针变量</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-2-%E6%8C%87%E9%92%88%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-text">2.4.2 指针运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-amp"><span class="nav-text">a. &amp;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b"><span class="nav-text">b. *</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-3-%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B"><span class="nav-text">2.4.3 指针类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-4-%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%E5%AE%9A%E4%B9%89"><span class="nav-text">2.4.4 指针变量定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-5-%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">2.4.5 指针变量的初始化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E5%AE%9A%E4%B9%89%E5%90%8C%E6%97%B6%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">a. 定义同时初始化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E5%85%88%E5%AE%9A%E4%B9%89%E5%90%8E%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">b. 先定义后初始化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c-%E6%B3%A8%E6%84%8F-1"><span class="nav-text">c. 注意</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-6-%E4%BA%8C%E7%BA%A7%E6%8C%87%E9%92%88"><span class="nav-text">2.4.6 二级指针</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-7-%E6%95%B0%E7%BB%84%E7%9A%84%E6%8C%87%E9%92%88"><span class="nav-text">2.4.7 数组的指针</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E7%9A%84%E6%8C%87%E9%92%88"><span class="nav-text">a. 数组元素的指针</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E6%8C%87%E9%92%88%E8%AE%BF%E9%97%AE%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0"><span class="nav-text">b. 指针访问数组元素</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-8-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8C%87%E9%92%88"><span class="nav-text">2.4.8 字符串指针</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%AE%9A%E4%B9%89"><span class="nav-text">a. 字符串定义</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E6%95%B0%E7%BB%84"><span class="nav-text">字符数组</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8C%87%E9%92%88%E6%8C%87%E5%90%91%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-text">字符串指针指向字符串</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E9%80%9A%E8%BF%87%E6%8C%87%E9%92%88%E8%8E%B7%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%9F%90%E4%B8%AA%E5%AD%97%E7%AC%A6"><span class="nav-text">b. 通过指针获取字符串的某个字符</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-9-%E5%87%BD%E6%95%B0%E4%B8%8E%E6%8C%87%E9%92%88"><span class="nav-text">2.4.9 函数与指针</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E6%8C%87%E5%90%91%E5%87%BD%E6%95%B0%E7%9A%84%E6%8C%87%E9%92%88"><span class="nav-text">a. 指向函数的指针</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E4%BD%9C%E4%B8%BA%E5%BD%A2%E5%8F%82"><span class="nav-text">b. 函数指针作为形参</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-10-%E6%8C%87%E9%92%88%E6%95%B0%E7%BB%84"><span class="nav-text">2.4.10 指针数组</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-5-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="nav-text">2.5 类型转换</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-1-%E8%87%AA%E5%8A%A8%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="nav-text">2.5.1 自动类型转换</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E7%AE%97%E6%95%B0%E8%BD%AC%E6%8D%A2"><span class="nav-text">a. 算数转换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E8%B5%8B%E5%80%BC%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="nav-text">b. 赋值类型转换</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-2-%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="nav-text">2.5.2 强制类型转换</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#-2"><span class="nav-text">12345double a &#x3D; (double)(1 &#x2F; 2);&#x2F;&#x2F; 结果为0, 因为参与运算的都是整型double b &#x3D; (double)1 &#x2F; 2;&#x2F;&#x2F; 结果为0.5, 因为1被强制转换为了double类型, 2也会被自动提升为double类型</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-%E9%87%8F"><span class="nav-text">3. 量</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-%E5%B8%B8%E9%87%8F"><span class="nav-text">3.1 常量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-1-%E6%95%B4%E5%9E%8B%E5%B8%B8%E9%87%8F"><span class="nav-text">3.1.1 整型常量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E5%B0%8F%E6%95%B0%E5%BD%A2%E5%BC%8F"><span class="nav-text">a. 小数形式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E6%8C%87%E6%95%B0%E5%BD%A2%E5%BC%8F"><span class="nav-text">b. 指数形式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-3-%E5%AD%97%E7%AC%A6%E5%B8%B8%E9%87%8F"><span class="nav-text">3.1.3 字符常量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F"><span class="nav-text">3.1.4 字符串常量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-5-%E5%B8%B8%E9%87%8F%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-text">3.1.5 常量关键字</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-const%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">a. const的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">基本数据类型</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BF%AE%E9%A5%B0%E5%B8%B8%E6%95%B0%E7%BB%84"><span class="nav-text">修饰常数组</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BF%AE%E9%A5%B0%E5%87%BD%E6%95%B0%E7%9A%84%E5%BD%A2%E5%8F%82"><span class="nav-text">修饰函数的形参</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BF%AE%E9%A5%B0%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="nav-text">修饰函数返回值</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BF%AE%E9%A5%B0%E5%B8%B8%E6%8C%87%E9%92%88"><span class="nav-text">修饰常指针</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-%E5%8F%98%E9%87%8F"><span class="nav-text">3.2 变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-1-%E5%8F%98%E9%87%8F%E5%AE%9A%E4%B9%89%E6%A0%BC%E5%BC%8F"><span class="nav-text">3.2.1 变量定义格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-2-%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99"><span class="nav-text">3.2.2 命名规则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-3-%E5%8F%98%E9%87%8F%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">3.2.3 变量的初始化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E6%9C%AA%E5%88%9D%E5%A7%8B%E5%8C%96%E7%9A%84%E5%8F%98%E9%87%8F"><span class="nav-text">a. 未初始化的变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E5%8F%98%E9%87%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E5%80%BC%E4%BC%A0%E9%80%92"><span class="nav-text">b. 变量之间的值传递</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-4-%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">3.2.4 作用域</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="nav-text">a. 局部变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="nav-text">b. 全局变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c-%E5%8F%AA%E8%83%BD%E4%BF%AE%E9%A5%B0%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-text">c. 只能修饰局部变量的关键字</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#d-static"><span class="nav-text">d. static</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8F%98%E9%87%8F"><span class="nav-text">变量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%87%BD%E6%95%B0"><span class="nav-text">函数</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#e-extern"><span class="nav-text">e. extern</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8F%98%E9%87%8F-1"><span class="nav-text">变量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%87%BD%E6%95%B0-1"><span class="nav-text">函数</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-text">4. 运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-text">4.1 基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-1-%E5%88%86%E7%B1%BB"><span class="nav-text">4.1.1 分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-2-%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8E%E7%BB%93%E5%90%88%E6%80%A7"><span class="nav-text">4.1.2 优先级与结合性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-%E9%80%97%E5%8F%B7%E8%BF%90%E7%AE%97%E7%AC%A6%E5%92%8C%E6%8B%AC%E5%8F%B7%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-text">4.2 逗号运算符和括号运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-%E8%87%AA%E5%A2%9E%E8%87%AA%E5%87%8F"><span class="nav-text">4.3 自增自减</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-4-sizeof"><span class="nav-text">4.4 sizeof</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-5-%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-text">4.5 算数运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-6-%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-text">4.6 关系运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-6-1-%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%8E%E7%BB%93%E5%90%88%E6%80%A7"><span class="nav-text">4.6.1 优先级与结合性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-7-%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-text">4.7 位运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-7-1-%E6%8C%89%E4%BD%8D%E4%B8%8E"><span class="nav-text">4.7.1 按位与</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E5%88%A4%E6%96%AD%E5%A5%87%E5%81%B6"><span class="nav-text">a. 判断奇偶</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-7-2-%E6%8C%89%E4%BD%8D%E6%88%96"><span class="nav-text">4.7.2 按位或</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E6%9D%83%E9%99%90%E8%AE%BE%E7%BD%AE"><span class="nav-text">a. 权限设置</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-7-3-%E6%8C%89%E4%BD%8D%E5%BC%82%E6%88%96"><span class="nav-text">4.7.3 按位异或</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E4%BA%A4%E6%8D%A2%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%9A%84%E5%80%BC"><span class="nav-text">a. 交换两个数的值</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-7-4-%E6%8C%89%E4%BD%8D%E5%8F%96%E5%8F%8D"><span class="nav-text">4.7.4 按位取反</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-7-5-%E6%8C%89%E4%BD%8D%E5%B7%A6%E7%A7%BB"><span class="nav-text">4.7.5 按位左移</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-7-6-%E6%8C%89%E4%BD%8D%E5%8F%B3%E7%A7%BB"><span class="nav-text">4.7.6 按位右移</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-8-%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-text">4.8 逻辑运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-8-1-%E9%80%BB%E8%BE%91%E9%9D%9E"><span class="nav-text">4.8.1 逻辑非</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-8-2-%E9%80%BB%E8%BE%91%E4%B8%8E"><span class="nav-text">4.8.2 逻辑与</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-8-3-%E9%80%BB%E8%BE%91%E6%88%96"><span class="nav-text">4.8.3 逻辑或</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="nav-text">5. 流程控制</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#5-1-%E9%A1%BA%E5%BA%8F%E7%BB%93%E6%9E%84"><span class="nav-text">5.1 顺序结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-2-%E9%80%89%E6%8B%A9%E7%BB%93%E6%9E%84"><span class="nav-text">5.2 选择结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-1-if"><span class="nav-text">5.2.1 if</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-2-switch"><span class="nav-text">5.2.2 switch</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-3-%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84"><span class="nav-text">5.3 循环结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-1-while"><span class="nav-text">5.3.1 while</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-2-do-while"><span class="nav-text">5.3.2 do while</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A%E5%8F%A3%E4%BB%A4%E6%A0%A1%E9%AA%8C"><span class="nav-text">a. 应用场景：口令校验</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-3-for"><span class="nav-text">5.3.3 for</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-4-%E5%BE%AA%E7%8E%AF%E4%BC%98%E5%8C%96"><span class="nav-text">5.3.4 循环优化</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-4-%E5%9B%9B%E5%A4%A7%E8%B7%B3%E8%BD%AC"><span class="nav-text">5.4 四大跳转</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-1-break"><span class="nav-text">5.4.1 break</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-2-continue"><span class="nav-text">5.4.2 continue</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-3-goto"><span class="nav-text">5.4.3 goto</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-4-return"><span class="nav-text">5.4.4 return</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-%E5%87%BD%E6%95%B0"><span class="nav-text">6. 函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#6-1-%E5%88%86%E7%B1%BB%E5%8F%8A%E5%AE%9A%E4%B9%89"><span class="nav-text">6.1 分类及定义</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-1-%E5%BA%93%E5%87%BD%E6%95%B0%E4%B8%8E%E7%94%A8%E6%88%B7%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="nav-text">6.1.1 库函数与用户定义函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E5%BA%93%E5%87%BD%E6%95%B0"><span class="nav-text">a. 库函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E7%94%A8%E6%88%B7%E5%AE%9A%E4%B9%89%E7%9A%84%E5%87%BD%E6%95%B0"><span class="nav-text">b. 用户定义的函数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-2-%E6%9C%89%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%8E%E6%97%A0%E8%BF%94%E5%9B%9E%E5%80%BC%E5%87%BD%E6%95%B0"><span class="nav-text">6.1.2 有返回值与无返回值函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E6%9C%89%E8%BF%94%E5%9B%9E%E5%80%BC%E5%87%BD%E6%95%B0"><span class="nav-text">a. 有返回值函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E6%97%A0%E8%BF%94%E5%9B%9E%E5%80%BC%E5%87%BD%E6%95%B0"><span class="nav-text">b. 无返回值函数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-3-%E6%9C%89%E5%8F%82%E5%87%BD%E6%95%B0%E5%92%8C%E6%97%A0%E5%8F%82%E5%87%BD%E6%95%B0"><span class="nav-text">6.1.3 有参函数和无参函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E6%97%A0%E5%8F%82%E5%87%BD%E6%95%B0"><span class="nav-text">a. 无参函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E6%9C%89%E5%8F%82%E5%87%BD%E6%95%B0"><span class="nav-text">b. 有参函数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-2-%E5%8F%82%E6%95%B0%E4%B8%8E%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="nav-text">6.2 参数与返回值</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-1-%E5%BD%A2%E5%8F%82%E4%B8%8E%E5%AE%9E%E5%8F%82"><span class="nav-text">6.2.1 形参与实参</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E6%B3%A8%E6%84%8F"><span class="nav-text">a. 注意</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-2-%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="nav-text">6.2.2 返回值</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-3-%E5%87%BD%E6%95%B0%E7%9A%84%E5%A3%B0%E6%98%8E"><span class="nav-text">6.3 函数的声明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-4-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="nav-text">6.4 输入输出</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-4-1-putchar-%E5%92%8Cgetchar"><span class="nav-text">6.4.1 putchar()和getchar()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-4-2-scanf%E5%87%BD%E6%95%B0"><span class="nav-text">6.4.2 scanf函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-fflush"><span class="nav-text">a. fflush</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-setbuf"><span class="nav-text">b. setbuf</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-4-3-printf-%E5%87%BD%E6%95%B0%E6%A0%BC%E5%BC%8F"><span class="nav-text">6.4.3 printf()函数格式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AC%A6"><span class="nav-text">a. 数据类型符</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%9E%E5%9E%8B%E6%9C%89%E6%95%88%E4%BD%8D%E9%97%AE%E9%A2%98"><span class="nav-text">实型有效位问题</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E7%B2%BE%E5%BA%A6%E6%A0%BC%E5%BC%8F%E7%AC%A6"><span class="nav-text">b. 精度格式符</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E6%8C%87%E5%AE%9A%E4%BF%9D%E7%95%99%E5%B0%8F%E6%95%B0%E4%BD%8D%E6%95%B0"><span class="nav-text">动态指定保留小数位数</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c-%E6%A0%BC%E5%BC%8F%E6%8E%A7%E5%88%B6%E7%AC%A6"><span class="nav-text">c. 格式控制符</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-7-%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0"><span class="nav-text">6.7 递归函数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#7-C%E7%A8%8B%E5%BA%8F%E7%BC%96%E8%AF%91%E8%BF%87%E7%A8%8B"><span class="nav-text">7. C程序编译过程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#7-1-%E9%A2%84%E5%A4%84%E7%90%86"><span class="nav-text">7.1 预处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-1-%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E5%A4%84%E7%90%86"><span class="nav-text">7.1.1 文件包含处理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-2-%E5%AE%8F%E5%AE%9A%E4%B9%89"><span class="nav-text">7.1.2 宏定义</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E4%B8%8D%E5%B8%A6%E5%8F%82%E6%95%B0%E7%9A%84%E5%AE%8F%E5%AE%9A%E4%B9%89"><span class="nav-text">a. 不带参数的宏定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E5%B8%A6%E5%8F%82%E6%95%B0%E7%9A%84%E5%AE%8F%E5%AE%9A%E4%B9%89"><span class="nav-text">b. 带参数的宏定义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-3-%E6%9D%A1%E4%BB%B6%E7%BC%96%E8%AF%91"><span class="nav-text">7.1.3 条件编译</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-2-%E5%88%AB%E5%90%8Dtypedef"><span class="nav-text">7.2 别名typedef</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-2-1-typedef-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">7.2.1 typedef 的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">a. 基本数据类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E6%95%B0%E7%BB%84"><span class="nav-text">b. 数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c-%E7%BB%93%E6%9E%84%E4%BD%93%E7%B1%BB%E5%9E%8B"><span class="nav-text">c. 结构体类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#d-%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B"><span class="nav-text">d. 枚举类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#e-%E6%8C%87%E9%92%88"><span class="nav-text">e. 指针</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-3-%E5%AE%8F%E5%AE%9A%E4%B9%89%E4%B8%8E%E5%87%BD%E6%95%B0%E3%80%81typedef%E5%8C%BA%E5%88%AB"><span class="nav-text">7.3 宏定义与函数、typedef区别</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-3-1-%E5%AE%8F%E5%AE%9A%E4%B9%89%E4%B8%8E%E5%87%BD%E6%95%B0%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">7.3.1 宏定义与函数的区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-3-2-%E5%AE%8F%E5%AE%9A%E4%B9%89%E4%B8%8Etypedef-%E5%8C%BA%E5%88%AB"><span class="nav-text">7.3.2 宏定义与typedef 区别</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#8-%E6%96%87%E4%BB%B6"><span class="nav-text">8. 文件</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#8-1-%E6%96%87%E4%BB%B6%E5%88%86%E7%B1%BB"><span class="nav-text">8.1 文件分类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#8-1-1-%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6"><span class="nav-text">8.1.1 文本文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-1-2-%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6"><span class="nav-text">8.1.2 二进制文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-1-3-%E7%A4%BA%E4%BE%8B"><span class="nav-text">8.1.3 示例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-2-%E6%96%87%E4%BB%B6%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="nav-text">8.2 文件的操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#FILE-%E7%BB%93%E6%9E%84%E4%BD%93"><span class="nav-text">FILE 结构体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-2-1-%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6"><span class="nav-text">8.2.1 打开文件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E5%8F%82%E6%95%B0%E5%8F%8A%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="nav-text">a. 参数及返回值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99%E6%96%B9%E5%BC%8F"><span class="nav-text">b. 文件读写方式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-2-2-%E5%85%B3%E9%97%AD%E6%96%87%E4%BB%B6"><span class="nav-text">8.2.2 关闭文件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E5%8F%82%E6%95%B0%E5%92%8C%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="nav-text">a. 参数和返回值</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-2-3-%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6"><span class="nav-text">8.2.3 读写文件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99"><span class="nav-text">a. 文本文件读写</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%B0%BE%E6%B5%8B%E8%AF%95%E5%87%BD%E6%95%B0"><span class="nav-text">文件尾测试函数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AF%BB-%E5%86%99%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6"><span class="nav-text">读&#x2F;写一个字符</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AF%BB-%E5%86%99%E4%B8%80%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-text">读&#x2F;写一行字符串</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F%E8%AF%BB-%E5%86%99"><span class="nav-text">格式读&#x2F;写</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E8%AF%BB-%E5%86%99"><span class="nav-text">b. 二进制文件读&#x2F;写</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AF%BB%E5%86%99%E6%95%B0%E7%BB%84"><span class="nav-text">读写数组</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AF%BB%E5%86%99%E7%BB%93%E6%9E%84%E4%BD%93"><span class="nav-text">读写结构体</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-2-4-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E5%87%BD%E6%95%B0"><span class="nav-text">8.2.4 文件操作函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E4%BD%8D%E7%BD%AE%E6%8C%87%E9%92%88"><span class="nav-text">a. 获取文件位置指针</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E4%BD%8D%E7%BD%AE%E6%8C%87%E9%92%88%E9%87%8D%E5%AE%9A%E4%BD%8D"><span class="nav-text">b. 位置指针重定位</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c-%E6%96%87%E4%BB%B6%E5%AE%9A%E4%BD%8D%E5%87%BD%E6%95%B0"><span class="nav-text">c. 文件定位函数</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#9-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86"><span class="nav-text">9. 内存管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#9-1-%E8%BF%9B%E7%A8%8B%E7%A9%BA%E9%97%B4"><span class="nav-text">9.1 进程空间</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#9-1-1-%E6%A0%88%E5%86%85%E5%AD%98-stack"><span class="nav-text">9.1.1 栈内存(stack)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-1-2-%E5%A0%86%E5%86%85%E5%AD%98-heap"><span class="nav-text">9.1.2 堆内存(heap)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-2-%E5%8F%98%E9%87%8F%E5%86%85%E5%AD%98%E5%88%86%E6%9E%90"><span class="nav-text">9.2 变量内存分析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#9-2-1-%E5%8F%98%E9%87%8F%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="nav-text">9.2.1 变量存储过程</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E5%8F%98%E9%87%8F%E5%AD%98%E5%82%A8%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="nav-text">a. 变量存储的过程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-2-2-%E5%86%85%E5%AD%98%E8%AF%BB%E5%86%99%E6%93%8D%E4%BD%9C"><span class="nav-text">9.2.2 内存读写操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E5%86%99%E5%85%A5%E8%BF%87%E7%A8%8B"><span class="nav-text">a. 写入过程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E8%AF%BB%E5%85%A5%E8%BF%87%E7%A8%8B"><span class="nav-text">b. 读入过程</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-3-%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E5%8C%BA"><span class="nav-text">9.3 数据存储区</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#9-3-1-static"><span class="nav-text">9.3.1 static</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-3-2-extern"><span class="nav-text">9.3.2 extern</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-4-%E5%8A%A8%E6%80%81%E5%88%86%E9%85%8D%E5%86%85%E5%AD%98"><span class="nav-text">9.4 动态分配内存</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#9-4-1-malloc"><span class="nav-text">9.4.1 malloc</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-4-2-free"><span class="nav-text">9.4.2 free</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-4-3-calloc"><span class="nav-text">9.4.3 calloc</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-4-4-realloc"><span class="nav-text">9.4.4 realloc</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-4-5-%E5%BA%94%E7%94%A8%E2%80%94%E2%80%94%E5%8A%A8%E6%80%81%E9%93%BE%E8%A1%A8"><span class="nav-text">9.4.5 应用——动态链表</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E9%93%BE%E8%A1%A8%E4%B8%8E%E9%9D%99%E6%80%81%E9%93%BE%E8%A1%A8"><span class="nav-text">a. 链表与静态链表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-%E5%8A%A8%E6%80%81%E9%93%BE%E8%A1%A8%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="nav-text">b. 动态链表的创建</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A4%B4%E6%8F%92%E6%B3%95"><span class="nav-text">头插法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B0%BE%E6%8F%92%E6%B3%95"><span class="nav-text">尾插法</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c-%E6%8F%92%E5%85%A5"><span class="nav-text">c. 插入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#d-%E9%94%80%E6%AF%81"><span class="nav-text">d. 销毁</span></a></li></ol></li></ol></li></ol></li></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="AmosTian" src="/images/avatar.png"><p class="site-author-name" itemprop="name">AmosTian</p><div class="site-description" itemprop="description">知道的越多，不知道的越多</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">360</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">58</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">74</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/AmosTian" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;AmosTian" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="https://blog.csdn.net/qq_40479037?type=blog" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_40479037?type&#x3D;blog" rel="noopener" target="_blank"><i class="fa fa-fw fa-crosshairs"></i>CSDN</a> </span><span class="links-of-author-item"><a href="mailto:17636679561@163.com" title="E-Mail → mailto:17636679561@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a></span></div></div><div id="days"></div><script>function show_date_time(){window.setTimeout("show_date_time()",1e3),BirthDay=new Date("01/27/2022 15:13:14"),today=new Date,timeold=today.getTime()-BirthDay.getTime(),sectimeold=timeold/1e3,secondsold=Math.floor(sectimeold),msPerDay=864e5,e_daysold=timeold/msPerDay,daysold=Math.floor(e_daysold),e_hrsold=24*(e_daysold-daysold),hrsold=setzero(Math.floor(e_hrsold)),e_minsold=60*(e_hrsold-hrsold),minsold=setzero(Math.floor(60*(e_hrsold-hrsold))),seconds=setzero(Math.floor(60*(e_minsold-minsold))),document.getElementById("days").innerHTML="已运行 "+daysold+" 天 "+hrsold+" 小时 "+minsold+" 分 "+seconds+" 秒"}function setzero(e){return e<10&&(e="0"+e),e}show_date_time()</script></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="fa fa-grav"></i> </span><span class="author" itemprop="copyrightHolder">AmosTian</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-area-chart"></i> </span><span class="post-meta-item-text">站点总字数 </span><span title="站点总字数">850.6k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span class="post-meta-item-text">站点阅读时长 &asymp;</span> <span title="站点阅读时长">35:36</span></div></div></footer></div><script color="0,0,0" opacity="0.5" zindex="-1" count="150" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="/js/local-search.js"></script><script>if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'neutral',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}</script><script>if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
          load: ['[tex]/mhchem'],
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }</script><script async src="/js/cursor/fireworks.js"></script><script src="/js/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!1,document.body.addEventListener("input",POWERMODE)</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"model":{"jsonPath":"live2d-widget-model-hijiki"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false});</script></body></html>