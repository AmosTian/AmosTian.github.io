<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.1.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="mask-icon" href="/images/favicon.png" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comfortaa:300,300italic,400,400italic,700,700italic|Ma Shan Zheng:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css"><script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"amostian.github.io",root:"/",scheme:"Pisces",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!1,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="[TOC]"><meta property="og:type" content="article"><meta property="og:title" content="Python数据分析"><meta property="og:url" content="https://amostian.github.io/posts/4103897705/index.html"><meta property="og:site_name" content="AmosTian"><meta property="og:description" content="[TOC]"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231218210055954.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231218213158470.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231218224200634.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231218224328495.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231218235653800.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231218230215747.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231219094137912.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/2023092310025419.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231218235810749.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231219092753774.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231219102008022.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231219101932692.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231219103122276.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231219104215043.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231219104837744.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231219105037172.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231219151225184.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231219194712437.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231219195900800.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231219195952351.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231219202353080.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231219202835796.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231219204717514.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220105007664.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220125438850.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220125727055.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220125927824.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220130101535.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220131320649.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220153114880.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220153603412.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220184304486.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220192758148.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220194350568.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220195053946.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220195331337.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220201616534.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220203018464.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220153945211.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220154514051.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220204905632.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220212040014.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220213051603.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220213414899.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220214121371.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231220214426612.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231221100343908.png"><meta property="og:image" content="https://amostian.github.io/posts/4103897705/image-20231221110113356.png"><meta property="article:published_time" content="2023-12-20T11:54:33.000Z"><meta property="article:modified_time" content="2023-12-30T14:50:47.762Z"><meta property="article:author" content="AmosTian"><meta property="article:tag" content="编程语言"><meta property="article:tag" content="解释型语言"><meta property="article:tag" content="Python"><meta property="article:tag" content="数据分析"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://amostian.github.io/posts/4103897705/image-20231218210055954.png"><link rel="canonical" href="https://amostian.github.io/posts/4103897705/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>Python数据分析 | AmosTian</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">AmosTian</h1><span class="logo-line-after"><i></i></span></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">58</span></a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">74</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">349</span></a></li><li class="menu-item menu-item-essay"><a href="/categories/%E9%9A%8F%E7%AC%94/" rel="section"><i class="fa fa-fw fa-pied-piper"></i>随笔</a></li><li class="menu-item menu-item-dynamic-resume"><a href="/dynamic-resume/" rel="section"><i class="fa fa-fw fa-cog"></i>动态简历</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a href="https://github.com/AmosTian" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://amostian.github.io/posts/4103897705/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.png"><meta itemprop="name" content="AmosTian"><meta itemprop="description" content="知道的越多，不知道的越多"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="AmosTian"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Python数据分析</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间 2023-12-20 19:54:33" itemprop="dateCreated datePublished" datetime="2023-12-20T19:54:33+08:00">2023-12-20</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间 2023-12-30 22:50:47" itemprop="dateModified" datetime="2023-12-30T22:50:47+08:00">2023-12-30</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">编程语言</span></a> </span>> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E8%A7%A3%E9%87%8A%E5%9E%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">解释型语言</span></a> </span>> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E8%A7%A3%E9%87%8A%E5%9E%8B%E8%AF%AD%E8%A8%80/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a></span></span><div class="post-symbolscount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">本文字数 </span><span title="本文字数">15.3k字 </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>41 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><p>[TOC]</p><span id="more"></span><h1 id="1-绪论"><a href="#1-绪论" class="headerlink" title="1. 绪论"></a>1. 绪论</h1><p>数据表示：</p><ul><li>NumPy：[ndarray]类型和存取数据的基本方法，介绍数据的操作方式</li><li>matplotlib：[pyplot] 绘制数据图形</li><li>Pandas：[series,DataFrame] 数据分析，普通二维数据与一维数据，带有时间序列数据的使用方式</li></ul><p>数据分析：一组数据表达的一个或多个含义</p><p>摘要：有损地提取数据特征的过程</p><p><img src="/posts/4103897705/image-20231218210055954.png" alt="image-20231218210055954"></p><h2 id="1-1-开发工具"><a href="#1-1-开发工具" class="headerlink" title="1.1 开发工具"></a>1.1 开发工具</h2><p>文本工具</p><ul><li><p>IDLE：Python自带</p><p>300+行内</p></li></ul><p>集成工具——通用场景</p><ul><li><p>Wing：Vmware控制</p><p>版本控制</p></li><li><p>visual studio 微软，win</p><p>+PTVS</p></li><li><p>eclipse：开源IDE</p><p>+PyDev</p></li><li><p>Pycharm JetBrains</p></li></ul><p>集成工具——科学计算，数据分析</p><ul><li><p>Anaconda 开源，集成开发框架</p><p>800个第三方库</p></li><li><p>Canopy 收费</p><p>500个第三方库</p></li></ul><h3 id="1-1-1-Anaconda"><a href="#1-1-1-Anaconda" class="headerlink" title="1.1.1 Anaconda"></a>1.1.1 Anaconda</h3><blockquote><p>一个集成各类Python工具的集成平台</p></blockquote><h4 id="conda"><a href="#conda" class="headerlink" title="conda"></a>conda</h4><blockquote><p>一个包管理和环境管理工具，将工具、第三方库、Python版本、conda都当做包同等对待</p></blockquote><ul><li>包管理：管理Python第三方库</li><li>环境管理工具：配置相关环境，允许用户使用不同版本的Python，并自由切换</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda --version 	# 获取conda版本</span><br><span class="line">conda update conda 	# 升级conda</span><br></pre></td></tr></table></figure><h4 id="anaconda"><a href="#anaconda" class="headerlink" title="anaconda"></a>anaconda</h4><blockquote><p>一个命名空间(、环境空间，conda的一个实例)，包括conda、某版本Python、一批第三方库等</p></blockquote><p>Environment信息：默认生成一个root的环境空间，可显示当前环境空间安装的包、未安装的包、待升级的包等信息</p><p><img src="/posts/4103897705/image-20231218213158470.png" alt="image-20231218213158470"></p><h4 id="交互式工具"><a href="#交互式工具" class="headerlink" title="交互式工具"></a>交互式工具</h4><h5 id="Spyder"><a href="#Spyder" class="headerlink" title="Spyder"></a>Spyder</h5><p><strong>视图调整</strong></p><p><img src="/posts/4103897705/image-20231218224200634.png" alt="image-20231218224200634"></p><ul><li>编辑区</li><li>文件导航与帮助</li><li>IPython：对运行结果与输入做相关响应区</li></ul><p><strong>首选项</strong></p><p><img src="/posts/4103897705/image-20231218224328495.png" alt="image-20231218224328495"></p><p><strong>IPython</strong></p><blockquote><p>Python解释器能根据输入得到输出，IPython是一个能够调用Python解释器的交互式显示脚本，能够显示图形、图像的GUI界面</p></blockquote><p>在控制台输入</p><p><img src="/posts/4103897705/image-20231218235653800.png" alt="image-20231218235653800"></p><ul><li><p>问号：<code>a?</code></p><ul><li><p>对于变量，获取变量的相关信息</p></li><li><p>对于函数，获取函数体</p></li></ul></li><li><p>魔术命令：<code>%</code></p><ul><li><p><code>%magic</code> 显示所有魔术命令</p></li><li><p><code>%hist</code> IPython命令的输入历史</p></li><li><p><code>%pdb</code> 异常发生后自动进入调试器</p></li><li><p><code>%who</code> 显示IPython当前命名空间中已经定义的变量</p></li><li><p><code>%reset</code> 删除当前命名空间中已经定义的变量</p></li><li><p><code>%time statement</code> 给出代码的执行时间，statement表示一段代码</p></li><li><p><code>%timeit statement</code> 多次执行代码，计算综合平均执行时间</p></li><li><p>运行：<code>%run 文件名</code></p><p>用于运行 .py 程序，<code>%run</code> 在一个空的命名空间执行，即文件中必须包含必要的 <code>import lib</code> ，因为其不借助现有的命名空间执行</p></li></ul></li></ul><h5 id="jupyter-notebook"><a href="#jupyter-notebook" class="headerlink" title="jupyter notebook"></a>jupyter notebook</h5><blockquote><p>交互式笔记本，支持40多种语言</p><p>本质是Web应用程序，便于创建和共享程序文档、实时代码，集文本、代码、图像、公式的展现于一体</p></blockquote><p><strong>启动</strong></p><p>在代码目录cmd启动 <code>jupyter notebook</code></p><p><strong>jupyter模式</strong></p><p>绿色：编辑模式</p><ul><li>Tab：代码补全或缩进</li><li>Shift：提示</li><li>Shift+Enter：运行本单元，选中下一单元</li><li>Ctrl+Enter：运行本单元</li><li>Alt+Enter：运行本单元，在下方插入新单元</li></ul><p>蓝色：执行模式</p><ul><li>Shift+Enter：运行本单元，选中下一单元</li><li><strong>Ctrl+Enter</strong>：运行本单元</li><li>Alt+Enter：运行本单元，在其下插入新单元</li><li>Y：单元转入代码状态</li><li>M：单元转入markdown状态</li><li>A：在上方插入新单元</li><li><strong>B</strong>：在下方插入新单元</li><li><strong>DD</strong>：删除选中单元</li></ul><p>在JN中写markdown，插入单元格-写内容-转化为MD状态-执行单元</p><h1 id="2-Numpy"><a href="#2-Numpy" class="headerlink" title="2. Numpy"></a>2. Numpy</h1><h2 id="2-1-NumPy包导入"><a href="#2-1-NumPy包导入" class="headerlink" title="2.1 NumPy包导入"></a>2.1 NumPy包导入</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np <span class="comment"># 尽量使用约定别名</span></span><br></pre></td></tr></table></figure><p>特点</p><ul><li>提供N维(dim)数组对象 <code>ndarray</code></li><li>广播功能函数</li><li>整合C/C++/Fortran 代码的工具</li><li>线性代数、傅里叶变换、随机数生成等功能</li></ul><h2 id="2-2-ndarray"><a href="#2-2-ndarray" class="headerlink" title="2.2 ndarray"></a>2.2 ndarray</h2><h3 id="2-2-1-ndarray设计需求"><a href="#2-2-1-ndarray设计需求" class="headerlink" title="2.2.1 ndarray设计需求"></a>2.2.1 ndarray设计需求</h3><p>计算 $A^2+B^3$ ，其中 $A$ 和 $B$ 是一维数组</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用Python基础数据类型</span></span><br><span class="line"><span class="comment"># 重心放在列表中每个元素的计算上</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">pySum</span>():</span><br><span class="line">    a=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">    b=[<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>]</span><br><span class="line">    c=[]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(a)):</span><br><span class="line">        c.append(a[i]**<span class="number">2</span>+b[i]**<span class="number">3</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(pySum())</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 数组运算可以去掉元素间运算所需的循环，简化数据运算</span></span><br><span class="line"><span class="comment"># 设置专门的数组对象，经过优化，可以提升运算速度</span></span><br><span class="line"><span class="comment"># 数组中的元素采用相同的数据类型，有助于节省运算和存储空间</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">npSum</span>():</span><br><span class="line">    a=np.array([<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line">    b=np.array([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>])</span><br><span class="line">    </span><br><span class="line">    c=a**<span class="number">2</span>+b**<span class="number">3</span></span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(npSum())</span><br></pre></td></tr></table></figure><h3 id="2-2-2-ndarray介绍"><a href="#2-2-2-ndarray介绍" class="headerlink" title="2.2.2 ndarray介绍"></a>2.2.2 ndarray介绍</h3><blockquote><p><code>np.array</code> 是numpy中 ndarray的别名</p></blockquote><p>是一个多维数组对象，由两部分构成</p><ul><li><p>实际的数据</p><p>一般要求所有的元素类型相同（同质）</p></li><li><p>描述这些数据的元数据（数据维度、数据类型等）</p></li></ul><p>是SciPy、Pandas的基础</p><h4 id="数据维度"><a href="#数据维度" class="headerlink" title="数据维度"></a>数据维度</h4><blockquote><p>一组数据的组织形式，在数据间形成不同关系以表示不同的数据含义</p></blockquote><p><img src="/posts/4103897705/image-20231218230215747.png" alt="image-20231218230215747"></p><h5 id="一维数据"><a href="#一维数据" class="headerlink" title="一维数据"></a>一维数据</h5><blockquote><p>由对等关系的有序或无序数据构成，采用线性方式组织</p></blockquote><ul><li><p>对应 <strong>列表和集合</strong> 等概念，Python基本数据类型中不包括数组</p><p><img src="/posts/4103897705/image-20231219094137912.png" alt="image-20231219094137912"></p></li></ul><div class="table-container"><table><thead><tr><th>类型</th><th>数据元素要求</th><th>eg</th></tr></thead><tbody><tr><td>列表</td><td>元素数据类型可以不同</td><td><code>[3.14,&#39;pi&#39;,[3.1401,3.1349],&#39;3.1376&#39;]</code></td></tr><tr><td>数组</td><td>元素数据类型必须相同</td><td><code>[3.14,3.1415]</code></td></tr></tbody></table></div><h5 id="二维数据"><a href="#二维数据" class="headerlink" title="二维数据"></a>二维数据</h5><blockquote><p>多个一维数据组成，是一维数据的组成</p></blockquote><p><strong>列表</strong> 类型数据表示</p><h5 id="多维数据"><a href="#多维数据" class="headerlink" title="多维数据"></a>多维数据</h5><blockquote><p>由一维或二维数据在新维度上扩展形成</p></blockquote><p><strong>列表类型</strong></p><p>区别 高维数据：仅利用基本的二元关系展示数据间的复杂结构</p><ul><li><p><strong>字典类型</strong> ：键值对</p></li><li><p><strong>数据表示方式</strong> ：XML、JSON、YAML</p></li></ul><h4 id="numpy轴与维度"><a href="#numpy轴与维度" class="headerlink" title="numpy轴与维度"></a>numpy轴与维度</h4><p><strong>数组维度</strong>：数组有多少维，每一维有多少元素，在np中用元组(tuple) 表示维度</p><ul><li>元组有多少元素，表示数组有多少维度——秩(rank)：也即轴的数量</li><li>(2,3)表示第一维长度为2，第二维长度为3</li></ul><p><strong>轴</strong> ：指该数组的某个维度方向</p><p><img src="/posts/4103897705/2023092310025419.png" alt="img"></p><p>数组 <code>a[2][3]=[[2,3,4],[5,6,7]]</code></p><ul><li><p>轴0方向上看有两个元素，<code>a=[x,y]</code></p><p>对轴0上元素求和相当于两个元素的求和，即 sum(a,axis=0)=[2+5,3+6,4+7]=[7,9,11]</p></li><li><p>轴1方向上看有三个元素，<code>a=[x,y,z]</code></p><p>对轴1方向上求均值，相当于三个元素求均值，即 mean(a,axis=1)=[(2+3+4)/3,(5+6+7/3)]=[3,6]</p></li></ul><p>这一数组表示的多维信息为：</p><h3 id="2-2-3-ndarray对象属性"><a href="#2-2-3-ndarray对象属性" class="headerlink" title="2.2.3 ndarray对象属性"></a>2.2.3 ndarray对象属性</h3><div class="table-container"><table><thead><tr><th>属性</th><th>返回类型</th><th>说明</th></tr></thead><tbody><tr><td>.ndim</td><td>int</td><td>秩，轴的数量或维度数量</td></tr><tr><td>.shape</td><td>tuple</td><td>对象的尺度，对于矩阵，则为n行m列</td></tr><tr><td>.size</td><td>int</td><td>元素的个数相当于 $n\times m$</td></tr><tr><td>.dtype</td><td>data-type</td><td>元素类型</td></tr><tr><td>.itemsize</td><td>int</td><td>单个元素的大小，以字节为单位</td></tr></tbody></table></div><p><img src="/posts/4103897705/image-20231218235810749.png" alt="image-20231218235810749"></p><h4 id="ndarray数据类型"><a href="#ndarray数据类型" class="headerlink" title="ndarray数据类型"></a>ndarray数据类型</h4><p>Python语法仅支持整数、浮点数和复数三种类型</p><ul><li>科学计算涉及数据较多，对存储和性能都有较高要求</li><li>对数据元素类型精细定义，有助于NumPy合理使用存储空间并优化性能</li><li>对于元素类型精细化定义，便于评估程序规模</li></ul><p><strong>ndarray</strong> 数组可以由非同质对象构成</p><p>非同质ndarray元素为对象类型，尽量避免使用</p><div class="table-container"><table><thead><tr><th>数据类型</th><th>说明</th></tr></thead><tbody><tr><td>bool</td><td>布尔类型，True或False</td></tr><tr><td>intc</td><td>与C语言中的int类型一致，一般是int32或int64</td></tr><tr><td>intp</td><td>用于索引的整数，与C语言的ssize_t一致</td></tr><tr><td>int8</td><td>字节长度的整数，取值[-128,127]</td></tr><tr><td>int16</td><td>2B长度的整数，取值[-32768,32767]</td></tr><tr><td>int32</td><td>4B长度的整数，取值 $[-2^{31},2^{31}-1]$</td></tr><tr><td>int64</td><td>8B长度的整数，取值 $[-2^{63},2^{63}-1]$</td></tr><tr><td>uint8</td><td>1B无符号整数，取值：$[0,255]$</td></tr><tr><td>uint16</td><td>2B无符号整数，取值：$[0,65535]$</td></tr><tr><td>uint32</td><td>4B无符号整数，取值：$[0,2^{32}-1]$</td></tr><tr><td>uint64</td><td>8B无符号整数，取值：$[0,2^{64}-1]$</td></tr><tr><td>float16</td><td>16bit半精度浮点数：1bit符号位，5bit指数，10bit尾数</td></tr><tr><td>float32</td><td>32bit半精度浮点数：1bit符号位，8bit指数，23bit尾数</td></tr><tr><td>float64</td><td>64bit半精度浮点数：1bit符号位，11bit指数，52bit尾数</td></tr><tr><td>complex64</td><td>复数类型，实部和虚部都是32bit浮点数</td></tr><tr><td>complex128</td><td>复数类型，实部和虚部都是64bit浮点数</td></tr></tbody></table></div><h3 id="2-2-4-ndarray创建"><a href="#2-2-4-ndarray创建" class="headerlink" title="2.2.4 ndarray创建"></a>2.2.4 ndarray创建</h3><h4 id="np-array-创建"><a href="#np-array-创建" class="headerlink" title="np.array()创建"></a>np.array()创建</h4><blockquote><p>从Python中的列表、元组等类型创建ndarray数组</p></blockquote><p><code>numpy.array(object, dtype=None, copy=True, order=&#39;K&#39;, subok=False, ndmin=0)</code></p><ul><li>object：按一定要求将object转换为数组，支持四种类型，数组、公开数组接口的任何对象、<code>__array__</code> 方法返回数组的对象、任何(嵌套)序列</li><li>dtype：接收data-type，表示数组所需的数据类型。若未指定，则选择保存对象所需的最小数据类型</li><li>ndmin：接收int，表示生成数组应具有的最小维度</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x=np.array(<span class="built_in">list</span>/<span class="built_in">tuple</span>)</span><br><span class="line">x=np.array(<span class="built_in">list</span>/<span class="built_in">tuple</span>,dtype=np.float32)</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([1,2,3,4]) # 从列表类型创建数组</span><br><span class="line">print(x)</span><br><span class="line"></span><br><span class="line">y = np.array((4,5,6,7)) # 从元组类型创建</span><br><span class="line">print(y)</span><br><span class="line"></span><br><span class="line">z = np.array([[1,2],[9,8],(0.1,0.2)]) #从列表和元组混合类型创建，只要列表与元组包含的数据个数相同就可混合使用</span><br><span class="line">print(z)</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231219092753774.png" alt="image-20231219092753774"></p><h4 id="np-函数"><a href="#np-函数" class="headerlink" title="np.函数()"></a>np.函数()</h4><blockquote><p>使用numpy中函数创建ndarray数组，如：arange,ones,zeros等</p></blockquote><div class="table-container"><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td><code>np.arange(beg,end,step)</code></td><td>元素从0到n-1，元素类型全为整数</td></tr><tr><td><code>np.ones(shape)</code></td><td>根据shape(元组类型)，生成值全是1的数组<br>生成类型全为float，除非用dtype指定</td></tr><tr><td><code>np.zeros(shape)</code></td><td>根据shape(元组类型)，生成值全是0的数组<br>生成类型全为float，除非用dtype指定</td></tr><tr><td><code>np.full(shape,val)</code></td><td>根据shape(元组类型)，生成值全是val的数组<br>生成类型全为float，除非用dtype指定</td></tr><tr><td><code>np.eye(n)</code></td><td>创建n维单位矩阵</td></tr><tr><td><code>np.ones_like(a)</code></td><td>根据数组a的shape生成全1数组</td></tr><tr><td><code>np.zeros_like(a)</code></td><td>根据数组a的shape生成全0数组</td></tr><tr><td><code>np.full_like(a,val)</code></td><td>根据数组a的shape生成全val的数组</td></tr></tbody></table></div><p><img src="/posts/4103897705/image-20231219102008022.png" alt="image-20231219102008022"></p><p><img src="/posts/4103897705/image-20231219101932692.png" alt="image-20231219101932692"></p><p><code>np.linspace(start, stop, num=50, endpoint=True, retstep=False,dtype=None, axis=0,)</code></p><ul><li>根据起止，等间距地生成num 个数据</li></ul><p><code>concatenate((a1, a2, ...), axis=0, out=None, dtype=None,casting=&quot;same_kind&quot;)</code></p><ul><li>将两个或多个数组合并成一个新的数组</li></ul><p><img src="/posts/4103897705/image-20231219103122276.png" alt="image-20231219103122276"></p><h4 id="字节流-raw-bytes-创建"><a href="#字节流-raw-bytes-创建" class="headerlink" title="字节流(raw bytes)创建"></a>字节流(raw bytes)创建</h4><h4 id="文件中读取特定格式创建数组"><a href="#文件中读取特定格式创建数组" class="headerlink" title="文件中读取特定格式创建数组"></a>文件中读取特定格式创建数组</h4><h3 id="2-2-5-ndarray数组变换"><a href="#2-2-5-ndarray数组变换" class="headerlink" title="2.2.5 ndarray数组变换"></a>2.2.5 ndarray数组变换</h3><blockquote><p>对于创建好的ndarray数组，可以对其进行维度变换和元素类型变换</p></blockquote><h4 id="数组维度变换"><a href="#数组维度变换" class="headerlink" title="数组维度变换"></a>数组维度变换</h4><div class="table-container"><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>obj.reshape(shape)</code></td><td>不改变数组元素，返回一个shape形状的数组，原数组不变</td></tr><tr><td><code>obj.resize(shape)</code></td><td>与 <code>.reshape()</code> 功能一致，但修改原数组</td></tr><tr><td><code>obj.swapaxes(ax1,ax2)</code></td><td>将数组n个维度中的两个维度调换</td></tr><tr><td><code>obj.flatten()</code></td><td>对数组降维，折叠为一维数组，原数组</td></tr></tbody></table></div><p><img src="/posts/4103897705/image-20231219104215043.png" alt="image-20231219104215043"></p><h4 id="数组元素类型变换"><a href="#数组元素类型变换" class="headerlink" title="数组元素类型变换"></a>数组元素类型变换</h4><p><code>new_a=a.astype(new_dtype)</code></p><p><img src="/posts/4103897705/image-20231219104837744.png" alt="image-20231219104837744"></p><h4 id="数组向列表转换"><a href="#数组向列表转换" class="headerlink" title="数组向列表转换"></a>数组向列表转换</h4><p><code>ls = a.tolist()</code></p><p><img src="/posts/4103897705/image-20231219105037172.png" alt="image-20231219105037172"></p><h3 id="2-2-6-ndarray数组的操作"><a href="#2-2-6-ndarray数组的操作" class="headerlink" title="2.2.6 ndarray数组的操作"></a>2.2.6 ndarray数组的操作</h3><h4 id="数组的索引与切片"><a href="#数组的索引与切片" class="headerlink" title="数组的索引与切片"></a>数组的索引与切片</h4><p><code>[,,,]</code> ：表示索引</p><p><code>[:::]</code> ：表示切片</p><p><strong>一维数组索引+切片</strong></p><p><img src="/posts/4103897705/image-20231219151225184.png" alt="image-20231219151225184"></p><ul><li>不含结束索引，所以相当于 <code>np.array([a[1],a[3]])</code></li></ul><p><strong>二维数组索引</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">6</span>]: a = np.arange(<span class="number">24</span>).reshape((<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">7</span>]: a</span><br><span class="line">Out[<span class="number">7</span>]: </span><br><span class="line">array([[[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">        [ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">        [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>],</span><br><span class="line">        [<span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">        [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">8</span>]: a[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">Out[<span class="number">8</span>]: <span class="number">23</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">9</span>]: a[<span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">Out[<span class="number">9</span>]: <span class="number">11</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">10</span>]: a[-<span class="number">1</span>,-<span class="number">2</span>,-<span class="number">3</span>] <span class="comment"># 从右侧向左递减方式索引 -1表示倒数第一个元素：-2表示倒数第二个元素：-3表示倒数第三个元素</span></span><br><span class="line">Out[<span class="number">10</span>]: <span class="number">17</span></span><br></pre></td></tr></table></figure><p><strong>二维数组切片</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#第一个维度不切片，第二个维度选索引为1的元素，第二个维度选索引为倒数第三个元素</span></span><br><span class="line">In [<span class="number">11</span>]: a[:,<span class="number">1</span>,-<span class="number">3</span>] </span><br><span class="line">Out[<span class="number">11</span>]: array([ <span class="number">5</span>, <span class="number">17</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#第一个维度不切片，第二个维度切1,2个元素，第三个维度不切片</span></span><br><span class="line">In [<span class="number">12</span>]: a[:,<span class="number">1</span>:<span class="number">3</span>,:] </span><br><span class="line">Out[<span class="number">12</span>]: </span><br><span class="line">array([[[ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">        [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">        [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>]]])</span><br><span class="line"></span><br><span class="line"><span class="comment">#第一二维度不切片，第三个维度以步长为2切片，即a[,,0],a[,,2]</span></span><br><span class="line">In [<span class="number">13</span>]: a[:,:,::<span class="number">2</span>] </span><br><span class="line">Out[<span class="number">13</span>]: </span><br><span class="line">array([[[ <span class="number">0</span>,  <span class="number">2</span>],</span><br><span class="line">        [ <span class="number">4</span>,  <span class="number">6</span>],</span><br><span class="line">        [ <span class="number">8</span>, <span class="number">10</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">12</span>, <span class="number">14</span>],</span><br><span class="line">        [<span class="number">16</span>, <span class="number">18</span>],</span><br><span class="line">        [<span class="number">20</span>, <span class="number">22</span>]]])</span><br></pre></td></tr></table></figure><h4 id="数组运算"><a href="#数组运算" class="headerlink" title="数组运算"></a>数组运算</h4><blockquote><p>对数组的运算，相当于对数组每个元素的运算</p></blockquote><h5 id="逐元素运算"><a href="#逐元素运算" class="headerlink" title="逐元素运算"></a>逐元素运算</h5><div class="table-container"><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td><code>np.abs(obj)</code> ，<code>np.fabs(obj)</code></td><td>计算数组各元素的绝对值</td></tr><tr><td><code>np.sqrt(obj)</code></td><td>计算数组各元素的平方根</td></tr><tr><td><code>np.sqare(obj)</code></td><td>计算数组各元素的平方</td></tr><tr><td><code>np.log(obj)</code> ,<code>np.log10(obj)</code>,<code>np.log2(obj)</code></td><td>计算数组各元素的自然对数、10底对数和2底对数</td></tr><tr><td><code>np.ceil(obj)</code> , <code>np.floor(obj)</code></td><td>计算数组中各元素的上界值与下界值</td></tr><tr><td><code>np.rint(obj)</code></td><td>计算数组各元素的四舍五入</td></tr><tr><td><code>np.modf(obj)</code></td><td>将数组各元素的小数和整数部分以两个独立的数组形式返回</td></tr><tr><td><code>np.cos(obj)</code> ,<code>np.conh(obj)</code><br><code>np.sin(obj)</code>,<code>np.sinh(obj)</code><br><code>np.tan(obj)</code>,<code>np.tanh(obj)</code></td><td>计算数组元素的普通型和双曲型三角函数</td></tr><tr><td><code>np.exp(obj)</code></td><td>计算数组各元素的指数值</td></tr><tr><td><code>np.sign(obj)</code></td><td>计算数组各元素的符号值，1(+),0,-1(-)</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">22</span>]: a = np.arange(<span class="number">24</span>).reshape((<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">23</span>]: np.square(a)</span><br><span class="line">Out[<span class="number">23</span>]: </span><br><span class="line">array([[[  <span class="number">0</span>,   <span class="number">1</span>,   <span class="number">4</span>,   <span class="number">9</span>],</span><br><span class="line">        [ <span class="number">16</span>,  <span class="number">25</span>,  <span class="number">36</span>,  <span class="number">49</span>],</span><br><span class="line">        [ <span class="number">64</span>,  <span class="number">81</span>, <span class="number">100</span>, <span class="number">121</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">144</span>, <span class="number">169</span>, <span class="number">196</span>, <span class="number">225</span>],</span><br><span class="line">        [<span class="number">256</span>, <span class="number">289</span>, <span class="number">324</span>, <span class="number">361</span>],</span><br><span class="line">        [<span class="number">400</span>, <span class="number">441</span>, <span class="number">484</span>, <span class="number">529</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">24</span>]: a = np.sqrt(a)</span><br><span class="line"></span><br><span class="line">In [<span class="number">25</span>]: a</span><br><span class="line">Out[<span class="number">25</span>]: </span><br><span class="line">array([[[<span class="number">0.</span>        , <span class="number">1.</span>        , <span class="number">1.41421356</span>, <span class="number">1.73205081</span>],</span><br><span class="line">        [<span class="number">2.</span>        , <span class="number">2.23606798</span>, <span class="number">2.44948974</span>, <span class="number">2.64575131</span>],</span><br><span class="line">        [<span class="number">2.82842712</span>, <span class="number">3.</span>        , <span class="number">3.16227766</span>, <span class="number">3.31662479</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">3.46410162</span>, <span class="number">3.60555128</span>, <span class="number">3.74165739</span>, <span class="number">3.87298335</span>],</span><br><span class="line">        [<span class="number">4.</span>        , <span class="number">4.12310563</span>, <span class="number">4.24264069</span>, <span class="number">4.35889894</span>],</span><br><span class="line">        [<span class="number">4.47213595</span>, <span class="number">4.58257569</span>, <span class="number">4.69041576</span>, <span class="number">4.79583152</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">26</span>]: np.modf(a)</span><br><span class="line">Out[<span class="number">26</span>]: </span><br><span class="line">(array([[[<span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.41421356</span>, <span class="number">0.73205081</span>],</span><br><span class="line">         [<span class="number">0.</span>        , <span class="number">0.23606798</span>, <span class="number">0.44948974</span>, <span class="number">0.64575131</span>],</span><br><span class="line">         [<span class="number">0.82842712</span>, <span class="number">0.</span>        , <span class="number">0.16227766</span>, <span class="number">0.31662479</span>]],</span><br><span class="line"> </span><br><span class="line">        [[<span class="number">0.46410162</span>, <span class="number">0.60555128</span>, <span class="number">0.74165739</span>, <span class="number">0.87298335</span>],</span><br><span class="line">         [<span class="number">0.</span>        , <span class="number">0.12310563</span>, <span class="number">0.24264069</span>, <span class="number">0.35889894</span>],</span><br><span class="line">         [<span class="number">0.47213595</span>, <span class="number">0.58257569</span>, <span class="number">0.69041576</span>, <span class="number">0.79583152</span>]]]),</span><br><span class="line"> array([[[<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>],</span><br><span class="line">         [<span class="number">2.</span>, <span class="number">2.</span>, <span class="number">2.</span>, <span class="number">2.</span>],</span><br><span class="line">         [<span class="number">2.</span>, <span class="number">3.</span>, <span class="number">3.</span>, <span class="number">3.</span>]],</span><br><span class="line"> </span><br><span class="line">        [[<span class="number">3.</span>, <span class="number">3.</span>, <span class="number">3.</span>, <span class="number">3.</span>],</span><br><span class="line">         [<span class="number">4.</span>, <span class="number">4.</span>, <span class="number">4.</span>, <span class="number">4.</span>],</span><br><span class="line">         [<span class="number">4.</span>, <span class="number">4.</span>, <span class="number">4.</span>, <span class="number">4.</span>]]]))</span><br></pre></td></tr></table></figure><h5 id="数组与标量"><a href="#数组与标量" class="headerlink" title="数组与标量"></a>数组与标量</h5><p>实例：计算数组a与元素平均值的商</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">14</span>]: a = np.arange(<span class="number">24</span>).reshape((<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">15</span>]: a</span><br><span class="line">Out[<span class="number">15</span>]: </span><br><span class="line">array([[[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">        [ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">        [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>],</span><br><span class="line">        [<span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">        [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">16</span>]: a_mean = a.mean()</span><br><span class="line"></span><br><span class="line">In [<span class="number">17</span>]: a_mean</span><br><span class="line">Out[<span class="number">17</span>]: <span class="number">11.5</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">18</span>]: a = a / a_mean</span><br><span class="line"></span><br><span class="line">In [<span class="number">19</span>]: a</span><br><span class="line">Out[<span class="number">19</span>]: </span><br><span class="line">array([[[<span class="number">0.</span>        , <span class="number">0.08695652</span>, <span class="number">0.17391304</span>, <span class="number">0.26086957</span>],</span><br><span class="line">        [<span class="number">0.34782609</span>, <span class="number">0.43478261</span>, <span class="number">0.52173913</span>, <span class="number">0.60869565</span>],</span><br><span class="line">        [<span class="number">0.69565217</span>, <span class="number">0.7826087</span> , <span class="number">0.86956522</span>, <span class="number">0.95652174</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">1.04347826</span>, <span class="number">1.13043478</span>, <span class="number">1.2173913</span> , <span class="number">1.30434783</span>],</span><br><span class="line">        [<span class="number">1.39130435</span>, <span class="number">1.47826087</span>, <span class="number">1.56521739</span>, <span class="number">1.65217391</span>],</span><br><span class="line">        [<span class="number">1.73913043</span>, <span class="number">1.82608696</span>, <span class="number">1.91304348</span>, <span class="number">2.</span>        ]]])</span><br></pre></td></tr></table></figure><h5 id="数组间运算"><a href="#数组间运算" class="headerlink" title="数组间运算"></a>数组间运算</h5><blockquote><p>若参与运算的两个数组中的元素类型(dtype)不同，则会将元素类型向上转换</p></blockquote><div class="table-container"><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td><code>+,-,*,/,**</code></td><td>两个数组各元素进行对应运算</td></tr><tr><td><code>np.maximum(x,y)</code> , <code>np.fmax()</code><br><code>np.minimum(x,y)</code> , <code>np.fmin()</code></td><td>元素级的最大值/最小值计算<br>fmax会忽略NAN，maximum会传播NAN</td></tr><tr><td><code>np.mod(x,y)</code></td><td>元素级模运算</td></tr><tr><td><code>np.copysign(x,y)</code></td><td>将y数组中各元素的值符号赋值给数组x对应元素</td></tr><tr><td><code>&gt;,&lt;,&gt; = ,&lt; = ,==,! =</code></td><td>算数比较，产生布尔类型数组</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">35</span>]: a = np.arange(<span class="number">24</span>).reshape((<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">36</span>]: b</span><br><span class="line">Out[<span class="number">36</span>]: </span><br><span class="line">array([[[<span class="number">0.</span>        , <span class="number">1.</span>        , <span class="number">1.41421356</span>, <span class="number">1.73205081</span>],</span><br><span class="line">        [<span class="number">2.</span>        , <span class="number">2.23606798</span>, <span class="number">2.44948974</span>, <span class="number">2.64575131</span>],</span><br><span class="line">        [<span class="number">2.82842712</span>, <span class="number">3.</span>        , <span class="number">3.16227766</span>, <span class="number">3.31662479</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">3.46410162</span>, <span class="number">3.60555128</span>, <span class="number">3.74165739</span>, <span class="number">3.87298335</span>],</span><br><span class="line">        [<span class="number">4.</span>        , <span class="number">4.12310563</span>, <span class="number">4.24264069</span>, <span class="number">4.35889894</span>],</span><br><span class="line">        [<span class="number">4.47213595</span>, <span class="number">4.58257569</span>, <span class="number">4.69041576</span>, <span class="number">4.79583152</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">37</span>]: a = np.arange(<span class="number">24</span>).reshape((<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">38</span>]: b = np.sqrt(a)</span><br><span class="line"></span><br><span class="line">In [<span class="number">39</span>]: np.minimum(a,b)</span><br><span class="line">Out[<span class="number">39</span>]: </span><br><span class="line">array([[[<span class="number">0.</span>        , <span class="number">1.</span>        , <span class="number">1.41421356</span>, <span class="number">1.73205081</span>],</span><br><span class="line">        [<span class="number">2.</span>        , <span class="number">2.23606798</span>, <span class="number">2.44948974</span>, <span class="number">2.64575131</span>],</span><br><span class="line">        [<span class="number">2.82842712</span>, <span class="number">3.</span>        , <span class="number">3.16227766</span>, <span class="number">3.31662479</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">3.46410162</span>, <span class="number">3.60555128</span>, <span class="number">3.74165739</span>, <span class="number">3.87298335</span>],</span><br><span class="line">        [<span class="number">4.</span>        , <span class="number">4.12310563</span>, <span class="number">4.24264069</span>, <span class="number">4.35889894</span>],</span><br><span class="line">        [<span class="number">4.47213595</span>, <span class="number">4.58257569</span>, <span class="number">4.69041576</span>, <span class="number">4.79583152</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">40</span>]: a &gt; b</span><br><span class="line">Out[<span class="number">40</span>]: </span><br><span class="line">array([[[<span class="literal">False</span>, <span class="literal">False</span>,  <span class="literal">True</span>,  <span class="literal">True</span>],</span><br><span class="line">        [ <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>],</span><br><span class="line">        [ <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>]],</span><br><span class="line"></span><br><span class="line">       [[ <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>],</span><br><span class="line">        [ <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>],</span><br><span class="line">        [ <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>]]])</span><br></pre></td></tr></table></figure><h2 id="2-3-文件中读取数据"><a href="#2-3-文件中读取数据" class="headerlink" title="2.3 文件中读取数据"></a>2.3 文件中读取数据</h2><h3 id="2-3-1-一-二维数据——CSV文件"><a href="#2-3-1-一-二维数据——CSV文件" class="headerlink" title="2.3.1 一/二维数据——CSV文件"></a>2.3.1 一/二维数据——CSV文件</h3><blockquote><p>CSV文件(Comma-Separated Value，逗号分隔值)，常用于批量存储数据</p></blockquote><p><img src="/posts/4103897705/image-20231219194712437.png" alt="image-20231219194712437"></p><p><strong>适用数据类型</strong></p><p>CSV只能有效存储一维和二维数组</p><h4 id="写入csv文件"><a href="#写入csv文件" class="headerlink" title="写入csv文件"></a>写入csv文件</h4><p><code>np.savetxt(frame,array,fmt=&#39;%.18e&#39;,delimiter=None)</code></p><ul><li><p>frame：文件、字符串或产生器，可以是.gz或.bz2的压缩文件</p></li><li><p>array：存储文件的数组</p></li><li><p>fmt：写入文件的数据格式，例如：<code>%d %.2f %.18e</code></p><p><code>%.18e</code> 是科学计数法，保留18位小数</p></li><li><p>delimiter：分割字符串，默认是任何空格</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">41</span>]: a = np.arange(<span class="number">100</span>).reshape(<span class="number">5</span>,<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">42</span>]: a</span><br><span class="line">Out[<span class="number">42</span>]: </span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>,</span><br><span class="line">        <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">       [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>, <span class="number">35</span>,</span><br><span class="line">        <span class="number">36</span>, <span class="number">37</span>, <span class="number">38</span>, <span class="number">39</span>],</span><br><span class="line">       [<span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>, <span class="number">44</span>, <span class="number">45</span>, <span class="number">46</span>, <span class="number">47</span>, <span class="number">48</span>, <span class="number">49</span>, <span class="number">50</span>, <span class="number">51</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">54</span>, <span class="number">55</span>,</span><br><span class="line">        <span class="number">56</span>, <span class="number">57</span>, <span class="number">58</span>, <span class="number">59</span>],</span><br><span class="line">       [<span class="number">60</span>, <span class="number">61</span>, <span class="number">62</span>, <span class="number">63</span>, <span class="number">64</span>, <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>, <span class="number">69</span>, <span class="number">70</span>, <span class="number">71</span>, <span class="number">72</span>, <span class="number">73</span>, <span class="number">74</span>, <span class="number">75</span>,</span><br><span class="line">        <span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>],</span><br><span class="line">       [<span class="number">80</span>, <span class="number">81</span>, <span class="number">82</span>, <span class="number">83</span>, <span class="number">84</span>, <span class="number">85</span>, <span class="number">86</span>, <span class="number">87</span>, <span class="number">88</span>, <span class="number">89</span>, <span class="number">90</span>, <span class="number">91</span>, <span class="number">92</span>, <span class="number">93</span>, <span class="number">94</span>, <span class="number">95</span>,</span><br><span class="line">        <span class="number">96</span>, <span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">43</span>]: np.savetxt(<span class="string">&#x27;a.csv&#x27;</span>,a,fmt=<span class="string">&#x27;%d&#x27;</span>,delimiter=<span class="string">&#x27;,&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231219195900800.png" alt="image-20231219195900800"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">44</span>]: np.savetxt(<span class="string">&#x27;a.csv&#x27;</span>,a,fmt=<span class="string">&#x27;%.1f&#x27;</span>,delimiter=<span class="string">&#x27;,&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231219195952351.png" alt="image-20231219195952351"></p><h4 id="读取csv文件"><a href="#读取csv文件" class="headerlink" title="读取csv文件"></a>读取csv文件</h4><p><code>np.loadtxt(frame,dtype=np.float32,delimiter=None,unpack=False)</code></p><ul><li>frame：文件、字符串或产生器，可以是.gz或.bz2的压缩文件</li><li>dtype：数据类型，可选</li><li>delimiter：指定数据的分割字符串，默认是任何空格</li><li>unpack：如果是True，读入属性将分别写入不同变量</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">46</span>]: b = np.loadtxt(<span class="string">&#x27;a.csv&#x27;</span>,delimiter=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">47</span>]: b</span><br><span class="line">Out[<span class="number">47</span>]: </span><br><span class="line">array([[ <span class="number">0.</span>,  <span class="number">1.</span>,  <span class="number">2.</span>,  <span class="number">3.</span>,  <span class="number">4.</span>,  <span class="number">5.</span>,  <span class="number">6.</span>,  <span class="number">7.</span>,  <span class="number">8.</span>,  <span class="number">9.</span>, <span class="number">10.</span>, <span class="number">11.</span>, <span class="number">12.</span>,</span><br><span class="line">        <span class="number">13.</span>, <span class="number">14.</span>, <span class="number">15.</span>, <span class="number">16.</span>, <span class="number">17.</span>, <span class="number">18.</span>, <span class="number">19.</span>],</span><br><span class="line">       [<span class="number">20.</span>, <span class="number">21.</span>, <span class="number">22.</span>, <span class="number">23.</span>, <span class="number">24.</span>, <span class="number">25.</span>, <span class="number">26.</span>, <span class="number">27.</span>, <span class="number">28.</span>, <span class="number">29.</span>, <span class="number">30.</span>, <span class="number">31.</span>, <span class="number">32.</span>,</span><br><span class="line">        <span class="number">33.</span>, <span class="number">34.</span>, <span class="number">35.</span>, <span class="number">36.</span>, <span class="number">37.</span>, <span class="number">38.</span>, <span class="number">39.</span>],</span><br><span class="line">       [<span class="number">40.</span>, <span class="number">41.</span>, <span class="number">42.</span>, <span class="number">43.</span>, <span class="number">44.</span>, <span class="number">45.</span>, <span class="number">46.</span>, <span class="number">47.</span>, <span class="number">48.</span>, <span class="number">49.</span>, <span class="number">50.</span>, <span class="number">51.</span>, <span class="number">52.</span>,</span><br><span class="line">        <span class="number">53.</span>, <span class="number">54.</span>, <span class="number">55.</span>, <span class="number">56.</span>, <span class="number">57.</span>, <span class="number">58.</span>, <span class="number">59.</span>],</span><br><span class="line">       [<span class="number">60.</span>, <span class="number">61.</span>, <span class="number">62.</span>, <span class="number">63.</span>, <span class="number">64.</span>, <span class="number">65.</span>, <span class="number">66.</span>, <span class="number">67.</span>, <span class="number">68.</span>, <span class="number">69.</span>, <span class="number">70.</span>, <span class="number">71.</span>, <span class="number">72.</span>,</span><br><span class="line">        <span class="number">73.</span>, <span class="number">74.</span>, <span class="number">75.</span>, <span class="number">76.</span>, <span class="number">77.</span>, <span class="number">78.</span>, <span class="number">79.</span>],</span><br><span class="line">       [<span class="number">80.</span>, <span class="number">81.</span>, <span class="number">82.</span>, <span class="number">83.</span>, <span class="number">84.</span>, <span class="number">85.</span>, <span class="number">86.</span>, <span class="number">87.</span>, <span class="number">88.</span>, <span class="number">89.</span>, <span class="number">90.</span>, <span class="number">91.</span>, <span class="number">92.</span>,</span><br><span class="line">        <span class="number">93.</span>, <span class="number">94.</span>, <span class="number">95.</span>, <span class="number">96.</span>, <span class="number">97.</span>, <span class="number">98.</span>, <span class="number">99.</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">49</span>]: b = np.loadtxt(<span class="string">&#x27;a.csv&#x27;</span>,dtype=np.int32,delimiter=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">..\ipykernel_25716\<span class="number">1206317582.</span>py:<span class="number">1</span>: DeprecationWarning: loadtxt(): Parsing an integer via a <span class="built_in">float</span> <span class="keyword">is</span> deprecated.  To avoid this warning, you can:</span><br><span class="line">    * make sure the original data <span class="keyword">is</span> stored <span class="keyword">as</span> integers.</span><br><span class="line">    * use the `converters=` keyword argument.  If you only use</span><br><span class="line">      NumPy <span class="number">1.23</span> <span class="keyword">or</span> later, `converters=<span class="built_in">float</span>` will normally work.</span><br><span class="line">    * Use `np.loadtxt(...).astype(np.int64)` parsing the file <span class="keyword">as</span></span><br><span class="line">      floating point <span class="keyword">and</span> then convert it.  (On <span class="built_in">all</span> NumPy versions.)</span><br><span class="line">  (Deprecated NumPy <span class="number">1.23</span>)</span><br><span class="line">  b = np.loadtxt(<span class="string">&#x27;a.csv&#x27;</span>,dtype=np.int32,delimiter=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">50</span>]: b</span><br><span class="line">Out[<span class="number">50</span>]: </span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>,</span><br><span class="line">        <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">       [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>, <span class="number">35</span>,</span><br><span class="line">        <span class="number">36</span>, <span class="number">37</span>, <span class="number">38</span>, <span class="number">39</span>],</span><br><span class="line">       [<span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>, <span class="number">44</span>, <span class="number">45</span>, <span class="number">46</span>, <span class="number">47</span>, <span class="number">48</span>, <span class="number">49</span>, <span class="number">50</span>, <span class="number">51</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">54</span>, <span class="number">55</span>,</span><br><span class="line">        <span class="number">56</span>, <span class="number">57</span>, <span class="number">58</span>, <span class="number">59</span>],</span><br><span class="line">       [<span class="number">60</span>, <span class="number">61</span>, <span class="number">62</span>, <span class="number">63</span>, <span class="number">64</span>, <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>, <span class="number">69</span>, <span class="number">70</span>, <span class="number">71</span>, <span class="number">72</span>, <span class="number">73</span>, <span class="number">74</span>, <span class="number">75</span>,</span><br><span class="line">        <span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>],</span><br><span class="line">       [<span class="number">80</span>, <span class="number">81</span>, <span class="number">82</span>, <span class="number">83</span>, <span class="number">84</span>, <span class="number">85</span>, <span class="number">86</span>, <span class="number">87</span>, <span class="number">88</span>, <span class="number">89</span>, <span class="number">90</span>, <span class="number">91</span>, <span class="number">92</span>, <span class="number">93</span>, <span class="number">94</span>, <span class="number">95</span>,</span><br><span class="line">        <span class="number">96</span>, <span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>]])</span><br></pre></td></tr></table></figure><h3 id="2-3-2-多维数据"><a href="#2-3-2-多维数据" class="headerlink" title="2.3.2 多维数据"></a>2.3.2 多维数据</h3><p>需要知道 <strong>数据类型</strong> 与 <strong>数组维度信息</strong></p><h4 id="写入文件"><a href="#写入文件" class="headerlink" title="写入文件"></a>写入文件</h4><p><code>ndarry_obj.tofile(frame,sep=&#39;&#39;,format=&#39;%s&#39;)</code></p><ul><li>frame：文件、字符串</li><li>sep：数据分割字符串，如果是空串，写入文件为二进制</li><li>format：写入数据的格式</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">54</span>]: a = np.arange(<span class="number">100</span>).reshape(<span class="number">2</span>,<span class="number">5</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">55</span>]: a</span><br><span class="line">Out[<span class="number">55</span>]: </span><br><span class="line">array([[[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>],</span><br><span class="line">        [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">        [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>],</span><br><span class="line">        [<span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>, <span class="number">35</span>, <span class="number">36</span>, <span class="number">37</span>, <span class="number">38</span>, <span class="number">39</span>],</span><br><span class="line">        [<span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>, <span class="number">44</span>, <span class="number">45</span>, <span class="number">46</span>, <span class="number">47</span>, <span class="number">48</span>, <span class="number">49</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">50</span>, <span class="number">51</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">54</span>, <span class="number">55</span>, <span class="number">56</span>, <span class="number">57</span>, <span class="number">58</span>, <span class="number">59</span>],</span><br><span class="line">        [<span class="number">60</span>, <span class="number">61</span>, <span class="number">62</span>, <span class="number">63</span>, <span class="number">64</span>, <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>, <span class="number">69</span>],</span><br><span class="line">        [<span class="number">70</span>, <span class="number">71</span>, <span class="number">72</span>, <span class="number">73</span>, <span class="number">74</span>, <span class="number">75</span>, <span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>],</span><br><span class="line">        [<span class="number">80</span>, <span class="number">81</span>, <span class="number">82</span>, <span class="number">83</span>, <span class="number">84</span>, <span class="number">85</span>, <span class="number">86</span>, <span class="number">87</span>, <span class="number">88</span>, <span class="number">89</span>],</span><br><span class="line">        [<span class="number">90</span>, <span class="number">91</span>, <span class="number">92</span>, <span class="number">93</span>, <span class="number">94</span>, <span class="number">95</span>, <span class="number">96</span>, <span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">56</span>]: a.tofile(<span class="string">&#x27;a.dat&#x27;</span>,sep=<span class="string">&#x27;,&#x27;</span>,<span class="built_in">format</span>=<span class="string">&#x27;%d&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231219202353080.png" alt="image-20231219202353080"></p><p>若不指定分割符 <code>sep</code>，则生成二进制文件</p><ul><li>二进制文件占用空间小比文本文件小</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">57</span>]: a.tofile(<span class="string">&#x27;a.dat&#x27;</span>,<span class="built_in">format</span>=<span class="string">&#x27;%d&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231219202835796.png" alt="image-20231219202835796"></p><h4 id="读取文件"><a href="#读取文件" class="headerlink" title="读取文件"></a>读取文件</h4><p><code>np.fromfile(frame,dtype=float32,count=-1,sep=&#39;&#39;)</code></p><ul><li>frame：文件、字符串</li><li>dtype：读取文件的数据类型</li><li>count：读元素个数，默认-1表示读入整个文件</li><li>sep：数据分割支持字符串，如果是空串，则写入文件为二进制文件</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 文本文件的读写</span></span><br><span class="line">In [<span class="number">58</span>]: a = np.arange(<span class="number">100</span>).reshape(<span class="number">2</span>,<span class="number">5</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">59</span>]: a</span><br><span class="line">Out[<span class="number">59</span>]: </span><br><span class="line">array([[[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>],</span><br><span class="line">        [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">        [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>],</span><br><span class="line">        [<span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>, <span class="number">35</span>, <span class="number">36</span>, <span class="number">37</span>, <span class="number">38</span>, <span class="number">39</span>],</span><br><span class="line">        [<span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>, <span class="number">44</span>, <span class="number">45</span>, <span class="number">46</span>, <span class="number">47</span>, <span class="number">48</span>, <span class="number">49</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">50</span>, <span class="number">51</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">54</span>, <span class="number">55</span>, <span class="number">56</span>, <span class="number">57</span>, <span class="number">58</span>, <span class="number">59</span>],</span><br><span class="line">        [<span class="number">60</span>, <span class="number">61</span>, <span class="number">62</span>, <span class="number">63</span>, <span class="number">64</span>, <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>, <span class="number">69</span>],</span><br><span class="line">        [<span class="number">70</span>, <span class="number">71</span>, <span class="number">72</span>, <span class="number">73</span>, <span class="number">74</span>, <span class="number">75</span>, <span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>],</span><br><span class="line">        [<span class="number">80</span>, <span class="number">81</span>, <span class="number">82</span>, <span class="number">83</span>, <span class="number">84</span>, <span class="number">85</span>, <span class="number">86</span>, <span class="number">87</span>, <span class="number">88</span>, <span class="number">89</span>],</span><br><span class="line">        [<span class="number">90</span>, <span class="number">91</span>, <span class="number">92</span>, <span class="number">93</span>, <span class="number">94</span>, <span class="number">95</span>, <span class="number">96</span>, <span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">60</span>]: a.tofile(<span class="string">&#x27;a.dat&#x27;</span>,sep=<span class="string">&#x27;,&#x27;</span>,<span class="built_in">format</span>=<span class="string">&#x27;%d&#x27;</span>) <span class="comment"># 写入文本文件</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">61</span>]: c = np.fromfile(<span class="string">&#x27;a.dat&#x27;</span>,dtype=np.int32,sep=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">62</span>]: c</span><br><span class="line">Out[<span class="number">62</span>]: </span><br><span class="line">array([ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>,</span><br><span class="line">       <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>,</span><br><span class="line">       <span class="number">34</span>, <span class="number">35</span>, <span class="number">36</span>, <span class="number">37</span>, <span class="number">38</span>, <span class="number">39</span>, <span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>, <span class="number">44</span>, <span class="number">45</span>, <span class="number">46</span>, <span class="number">47</span>, <span class="number">48</span>, <span class="number">49</span>, <span class="number">50</span>,</span><br><span class="line">       <span class="number">51</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">54</span>, <span class="number">55</span>, <span class="number">56</span>, <span class="number">57</span>, <span class="number">58</span>, <span class="number">59</span>, <span class="number">60</span>, <span class="number">61</span>, <span class="number">62</span>, <span class="number">63</span>, <span class="number">64</span>, <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>,</span><br><span class="line">       <span class="number">68</span>, <span class="number">69</span>, <span class="number">70</span>, <span class="number">71</span>, <span class="number">72</span>, <span class="number">73</span>, <span class="number">74</span>, <span class="number">75</span>, <span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>, <span class="number">80</span>, <span class="number">81</span>, <span class="number">82</span>, <span class="number">83</span>, <span class="number">84</span>,</span><br><span class="line">       <span class="number">85</span>, <span class="number">86</span>, <span class="number">87</span>, <span class="number">88</span>, <span class="number">89</span>, <span class="number">90</span>, <span class="number">91</span>, <span class="number">92</span>, <span class="number">93</span>, <span class="number">94</span>, <span class="number">95</span>, <span class="number">96</span>, <span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">63</span>]: c = np.fromfile(<span class="string">&#x27;a.dat&#x27;</span>,dtype=np.int32,sep=<span class="string">&#x27;,&#x27;</span>).reshape(<span class="number">2</span>,<span class="number">5</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">64</span>]: c</span><br><span class="line">Out[<span class="number">64</span>]: </span><br><span class="line">array([[[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>],</span><br><span class="line">        [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">        [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>],</span><br><span class="line">        [<span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>, <span class="number">35</span>, <span class="number">36</span>, <span class="number">37</span>, <span class="number">38</span>, <span class="number">39</span>],</span><br><span class="line">        [<span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>, <span class="number">44</span>, <span class="number">45</span>, <span class="number">46</span>, <span class="number">47</span>, <span class="number">48</span>, <span class="number">49</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">50</span>, <span class="number">51</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">54</span>, <span class="number">55</span>, <span class="number">56</span>, <span class="number">57</span>, <span class="number">58</span>, <span class="number">59</span>],</span><br><span class="line">        [<span class="number">60</span>, <span class="number">61</span>, <span class="number">62</span>, <span class="number">63</span>, <span class="number">64</span>, <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>, <span class="number">69</span>],</span><br><span class="line">        [<span class="number">70</span>, <span class="number">71</span>, <span class="number">72</span>, <span class="number">73</span>, <span class="number">74</span>, <span class="number">75</span>, <span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>],</span><br><span class="line">        [<span class="number">80</span>, <span class="number">81</span>, <span class="number">82</span>, <span class="number">83</span>, <span class="number">84</span>, <span class="number">85</span>, <span class="number">86</span>, <span class="number">87</span>, <span class="number">88</span>, <span class="number">89</span>],</span><br><span class="line">        [<span class="number">90</span>, <span class="number">91</span>, <span class="number">92</span>, <span class="number">93</span>, <span class="number">94</span>, <span class="number">95</span>, <span class="number">96</span>, <span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>]]])</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 二进制文件的读写</span></span><br><span class="line">In [<span class="number">65</span>]: a = np.arange(<span class="number">100</span>).reshape(<span class="number">2</span>,<span class="number">5</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">66</span>]: a.tofile(<span class="string">&#x27;a.dat&#x27;</span>,<span class="built_in">format</span>=<span class="string">&#x27;%d&#x27;</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">67</span>]: c = np.fromfile(<span class="string">&#x27;a.dat&#x27;</span>,dtype=np.int32).reshape(<span class="number">2</span>,<span class="number">5</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">68</span>]: c</span><br><span class="line">Out[<span class="number">68</span>]: </span><br><span class="line">array([[[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>],</span><br><span class="line">        [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">        [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>],</span><br><span class="line">        [<span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>, <span class="number">35</span>, <span class="number">36</span>, <span class="number">37</span>, <span class="number">38</span>, <span class="number">39</span>],</span><br><span class="line">        [<span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>, <span class="number">44</span>, <span class="number">45</span>, <span class="number">46</span>, <span class="number">47</span>, <span class="number">48</span>, <span class="number">49</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">50</span>, <span class="number">51</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">54</span>, <span class="number">55</span>, <span class="number">56</span>, <span class="number">57</span>, <span class="number">58</span>, <span class="number">59</span>],</span><br><span class="line">        [<span class="number">60</span>, <span class="number">61</span>, <span class="number">62</span>, <span class="number">63</span>, <span class="number">64</span>, <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>, <span class="number">69</span>],</span><br><span class="line">        [<span class="number">70</span>, <span class="number">71</span>, <span class="number">72</span>, <span class="number">73</span>, <span class="number">74</span>, <span class="number">75</span>, <span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>],</span><br><span class="line">        [<span class="number">80</span>, <span class="number">81</span>, <span class="number">82</span>, <span class="number">83</span>, <span class="number">84</span>, <span class="number">85</span>, <span class="number">86</span>, <span class="number">87</span>, <span class="number">88</span>, <span class="number">89</span>],</span><br><span class="line">        [<span class="number">90</span>, <span class="number">91</span>, <span class="number">92</span>, <span class="number">93</span>, <span class="number">94</span>, <span class="number">95</span>, <span class="number">96</span>, <span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">69</span>]: c = np.fromfile(<span class="string">&#x27;a.dat&#x27;</span>,dtype=np.int32)</span><br><span class="line"></span><br><span class="line">In [<span class="number">70</span>]: c</span><br><span class="line">Out[<span class="number">70</span>]: </span><br><span class="line">array([ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>,</span><br><span class="line">       <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>,</span><br><span class="line">       <span class="number">34</span>, <span class="number">35</span>, <span class="number">36</span>, <span class="number">37</span>, <span class="number">38</span>, <span class="number">39</span>, <span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>, <span class="number">44</span>, <span class="number">45</span>, <span class="number">46</span>, <span class="number">47</span>, <span class="number">48</span>, <span class="number">49</span>, <span class="number">50</span>,</span><br><span class="line">       <span class="number">51</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">54</span>, <span class="number">55</span>, <span class="number">56</span>, <span class="number">57</span>, <span class="number">58</span>, <span class="number">59</span>, <span class="number">60</span>, <span class="number">61</span>, <span class="number">62</span>, <span class="number">63</span>, <span class="number">64</span>, <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>,</span><br><span class="line">       <span class="number">68</span>, <span class="number">69</span>, <span class="number">70</span>, <span class="number">71</span>, <span class="number">72</span>, <span class="number">73</span>, <span class="number">74</span>, <span class="number">75</span>, <span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>, <span class="number">80</span>, <span class="number">81</span>, <span class="number">82</span>, <span class="number">83</span>, <span class="number">84</span>,</span><br><span class="line">       <span class="number">85</span>, <span class="number">86</span>, <span class="number">87</span>, <span class="number">88</span>, <span class="number">89</span>, <span class="number">90</span>, <span class="number">91</span>, <span class="number">92</span>, <span class="number">93</span>, <span class="number">94</span>, <span class="number">95</span>, <span class="number">96</span>, <span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>])</span><br></pre></td></tr></table></figure><h3 id="2-3-3-NumPy便捷文件存取"><a href="#2-3-3-NumPy便捷文件存取" class="headerlink" title="2.3.3 NumPy便捷文件存取"></a>2.3.3 NumPy便捷文件存取</h3><p><code>np.save(frame,ndarray)</code> 或 <code>np.savez(frame,ndarray)</code></p><ul><li>frame：文件名，以 .npy 为扩展名，压缩扩展名为 .npz</li><li>array：数组变量</li></ul><p><code>np.load(fname)</code></p><ul><li>fname：文件名，以 .npy 或 .npz 为扩展名</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">71</span>]: a = np.arange(<span class="number">100</span>).reshape(<span class="number">2</span>,<span class="number">5</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">72</span>]: np.save(<span class="string">&#x27;a.npy&#x27;</span>,a)</span><br><span class="line"></span><br><span class="line">In [<span class="number">73</span>]: b = np.load(<span class="string">&#x27;a.npy&#x27;</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">74</span>]: b</span><br><span class="line">Out[<span class="number">74</span>]: </span><br><span class="line">array([[[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>],</span><br><span class="line">        [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">        [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>],</span><br><span class="line">        [<span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>, <span class="number">35</span>, <span class="number">36</span>, <span class="number">37</span>, <span class="number">38</span>, <span class="number">39</span>],</span><br><span class="line">        [<span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>, <span class="number">44</span>, <span class="number">45</span>, <span class="number">46</span>, <span class="number">47</span>, <span class="number">48</span>, <span class="number">49</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">50</span>, <span class="number">51</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">54</span>, <span class="number">55</span>, <span class="number">56</span>, <span class="number">57</span>, <span class="number">58</span>, <span class="number">59</span>],</span><br><span class="line">        [<span class="number">60</span>, <span class="number">61</span>, <span class="number">62</span>, <span class="number">63</span>, <span class="number">64</span>, <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>, <span class="number">69</span>],</span><br><span class="line">        [<span class="number">70</span>, <span class="number">71</span>, <span class="number">72</span>, <span class="number">73</span>, <span class="number">74</span>, <span class="number">75</span>, <span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>],</span><br><span class="line">        [<span class="number">80</span>, <span class="number">81</span>, <span class="number">82</span>, <span class="number">83</span>, <span class="number">84</span>, <span class="number">85</span>, <span class="number">86</span>, <span class="number">87</span>, <span class="number">88</span>, <span class="number">89</span>],</span><br><span class="line">        [<span class="number">90</span>, <span class="number">91</span>, <span class="number">92</span>, <span class="number">93</span>, <span class="number">94</span>, <span class="number">95</span>, <span class="number">96</span>, <span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>]]])</span><br></pre></td></tr></table></figure><p>npy将数组元信息写入第一行</p><p><img src="/posts/4103897705/image-20231219204717514.png" alt="image-20231219204717514"></p><p>若数据只存在与py文件中，则考虑.npy文件</p><p>若数据需要与其他程序交互，则考虑csv或dat文件</p><h2 id="2-4-NumPy常用函数"><a href="#2-4-NumPy常用函数" class="headerlink" title="2.4 NumPy常用函数"></a>2.4 NumPy常用函数</h2><h3 id="2-4-1-随机数生成"><a href="#2-4-1-随机数生成" class="headerlink" title="2.4.1 随机数生成"></a>2.4.1 随机数生成</h3><p>NumPy的random子库中的函数为ndarray提供随机数</p><p><code>np.random.*</code></p><div class="table-container"><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td><code>rand(d0,d1,...,dn)</code></td><td>根据维度信息d0-dn，创建随机浮点数数组，[0,1)均匀分布<br>每个元素从均匀分布总体中选取出来，即每个元素被抽取的概率相同</td></tr><tr><td><code>randn(d0,d1,...,dn)</code></td><td>根据维度信息d0-dn创建随机数组，标准正态分布<br>每个元素从正态分布总体中选取出来</td></tr><tr><td><code>randint(low,[high,shape])</code></td><td>创建随机整数数组，范围为 [low,high)</td></tr><tr><td><code>seed(s)</code></td><td>随机数种子，s是给定的种子值</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">75</span>]:  a = np.random.rand(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">76</span>]: a</span><br><span class="line">Out[<span class="number">76</span>]: </span><br><span class="line">array([[[<span class="number">0.45837884</span>, <span class="number">0.82893806</span>, <span class="number">0.18047275</span>, <span class="number">0.03248048</span>],</span><br><span class="line">        [<span class="number">0.93020038</span>, <span class="number">0.94885799</span>, <span class="number">0.39227657</span>, <span class="number">0.45814434</span>],</span><br><span class="line">        [<span class="number">0.13152265</span>, <span class="number">0.37268271</span>, <span class="number">0.22214262</span>, <span class="number">0.49515611</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">0.81851534</span>, <span class="number">0.32840865</span>, <span class="number">0.07799763</span>, <span class="number">0.57159495</span>],</span><br><span class="line">        [<span class="number">0.58134676</span>, <span class="number">0.45702106</span>, <span class="number">0.75713087</span>, <span class="number">0.81451658</span>],</span><br><span class="line">        [<span class="number">0.11602932</span>, <span class="number">0.19518582</span>, <span class="number">0.53516332</span>, <span class="number">0.05679252</span>]]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">78</span>]: a = np.random.randn(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">79</span>]: a</span><br><span class="line">Out[<span class="number">79</span>]: </span><br><span class="line">array([[[ <span class="number">1.19039369</span>, -<span class="number">0.50135829</span>, -<span class="number">1.34244396</span>,  <span class="number">0.91445294</span>],</span><br><span class="line">        [-<span class="number">0.55127657</span>, -<span class="number">0.36359796</span>, -<span class="number">0.36445161</span>,  <span class="number">1.32271641</span>],</span><br><span class="line">        [ <span class="number">1.26946294</span>,  <span class="number">1.40557906</span>,  <span class="number">0.08226739</span>, -<span class="number">0.58369293</span>]],</span><br><span class="line"></span><br><span class="line">       [[-<span class="number">0.48358501</span>, -<span class="number">0.19845588</span>,  <span class="number">1.48634899</span>,  <span class="number">0.0732427</span> ],</span><br><span class="line">        [ <span class="number">0.74060483</span>,  <span class="number">2.22572113</span>, -<span class="number">0.79883423</span>, -<span class="number">0.94264226</span>],</span><br><span class="line">        [-<span class="number">1.65189778</span>,  <span class="number">1.42670806</span>, -<span class="number">0.04063335</span>, -<span class="number">0.99500735</span>]]])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">In [<span class="number">80</span>]: b = np.random.randint(<span class="number">100</span>,<span class="number">200</span>,(<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">81</span>]: b</span><br><span class="line">Out[<span class="number">81</span>]: </span><br><span class="line">array([[<span class="number">172</span>, <span class="number">106</span>, <span class="number">197</span>],</span><br><span class="line">       [<span class="number">179</span>, <span class="number">118</span>, <span class="number">158</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">82</span>]: np.random.seed(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">83</span>]: np.random.randint(<span class="number">100</span>,<span class="number">200</span>,(<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line">Out[<span class="number">83</span>]: </span><br><span class="line">array([[<span class="number">109</span>, <span class="number">115</span>, <span class="number">164</span>],</span><br><span class="line">       [<span class="number">128</span>, <span class="number">189</span>, <span class="number">193</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">84</span>]: np.random.seed(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">85</span>]: np.random.randint(<span class="number">100</span>,<span class="number">200</span>,(<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line">Out[<span class="number">85</span>]: </span><br><span class="line">array([[<span class="number">109</span>, <span class="number">115</span>, <span class="number">164</span>],</span><br><span class="line">       [<span class="number">128</span>, <span class="number">189</span>, <span class="number">193</span>]])</span><br></pre></td></tr></table></figure><ul><li>当指定种子后，会生成相同的随机数序列</li></ul><div class="table-container"><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td><code>shuffle(obj)</code></td><td>将数组obj的第0轴最外层维度进行随机排列，改变数组obj</td></tr><tr><td><code>permutation(obj)</code></td><td>将数组obj的第0轴最外层维度随机排列，产生新的乱序数组，不改变obj</td></tr><tr><td><code>choice(obj[,size,replace,p])</code></td><td>从一维数组obj中以概率p抽取元素，形成size形状的新数组，replace表示是否可重用元素，默认为True</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">86</span>]: a = np.random.randint(<span class="number">100</span>,<span class="number">200</span>,(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">87</span>]: a</span><br><span class="line">Out[<span class="number">87</span>]: </span><br><span class="line">array([[<span class="number">129</span>, <span class="number">108</span>, <span class="number">173</span>, <span class="number">100</span>],</span><br><span class="line">       [<span class="number">140</span>, <span class="number">136</span>, <span class="number">116</span>, <span class="number">111</span>],</span><br><span class="line">       [<span class="number">154</span>, <span class="number">188</span>, <span class="number">162</span>, <span class="number">133</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">88</span>]: np.random.shuffle(a)</span><br><span class="line"></span><br><span class="line">In [<span class="number">89</span>]: a</span><br><span class="line">Out[<span class="number">89</span>]: </span><br><span class="line">array([[<span class="number">140</span>, <span class="number">136</span>, <span class="number">116</span>, <span class="number">111</span>],</span><br><span class="line">       [<span class="number">154</span>, <span class="number">188</span>, <span class="number">162</span>, <span class="number">133</span>],</span><br><span class="line">       [<span class="number">129</span>, <span class="number">108</span>, <span class="number">173</span>, <span class="number">100</span>]])</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">94</span>]: a = np.random.randint(<span class="number">100</span>,<span class="number">200</span>,(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">95</span>]: a</span><br><span class="line">Out[<span class="number">95</span>]: </span><br><span class="line">array([[<span class="number">112</span>, <span class="number">165</span>, <span class="number">131</span>, <span class="number">157</span>],</span><br><span class="line">       [<span class="number">136</span>, <span class="number">127</span>, <span class="number">118</span>, <span class="number">193</span>],</span><br><span class="line">       [<span class="number">177</span>, <span class="number">122</span>, <span class="number">123</span>, <span class="number">194</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">96</span>]: np.random.permutation(a)</span><br><span class="line">Out[<span class="number">96</span>]: </span><br><span class="line">array([[<span class="number">177</span>, <span class="number">122</span>, <span class="number">123</span>, <span class="number">194</span>],</span><br><span class="line">       [<span class="number">136</span>, <span class="number">127</span>, <span class="number">118</span>, <span class="number">193</span>],</span><br><span class="line">       [<span class="number">112</span>, <span class="number">165</span>, <span class="number">131</span>, <span class="number">157</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">97</span>]: a</span><br><span class="line">Out[<span class="number">97</span>]: </span><br><span class="line">array([[<span class="number">112</span>, <span class="number">165</span>, <span class="number">131</span>, <span class="number">157</span>],</span><br><span class="line">       [<span class="number">136</span>, <span class="number">127</span>, <span class="number">118</span>, <span class="number">193</span>],</span><br><span class="line">       [<span class="number">177</span>, <span class="number">122</span>, <span class="number">123</span>, <span class="number">194</span>]])</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">98</span>]: a  = np.random.randint(<span class="number">100</span>,<span class="number">200</span>,<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">99</span>]: a</span><br><span class="line">Out[<span class="number">99</span>]: array([<span class="number">128</span>, <span class="number">174</span>, <span class="number">188</span>, <span class="number">109</span>, <span class="number">115</span>, <span class="number">118</span>, <span class="number">180</span>, <span class="number">171</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">100</span>]: np.random.choice(a,(<span class="number">3</span>,<span class="number">2</span>))</span><br><span class="line">Out[<span class="number">100</span>]: </span><br><span class="line">array([[<span class="number">128</span>, <span class="number">109</span>],</span><br><span class="line">       [<span class="number">174</span>, <span class="number">180</span>],</span><br><span class="line">       [<span class="number">171</span>, <span class="number">109</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">101</span>]: np.random.choice(a,(<span class="number">3</span>,<span class="number">2</span>),replace=<span class="literal">False</span>)</span><br><span class="line">Out[<span class="number">101</span>]: </span><br><span class="line">array([[<span class="number">180</span>, <span class="number">118</span>],</span><br><span class="line">       [<span class="number">109</span>, <span class="number">128</span>],</span><br><span class="line">       [<span class="number">188</span>, <span class="number">171</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">102</span>]: np.random.choice(a,(<span class="number">3</span>,<span class="number">2</span>),p=a/np.<span class="built_in">sum</span>(a)) <span class="comment"># 元素值越大，被抽取的概率越高</span></span><br><span class="line">Out[<span class="number">102</span>]: </span><br><span class="line">array([[<span class="number">171</span>, <span class="number">188</span>],</span><br><span class="line">       [<span class="number">180</span>, <span class="number">188</span>],</span><br><span class="line">       [<span class="number">171</span>, <span class="number">188</span>]])</span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>uniform(low,high,size)</td><td>元素服从指定均匀分布的数组,[low,high],size形状</td></tr><tr><td>normal(loc,scale,size)</td><td>元素服从指定正态分布的数组，loc均值,scale标准差，size形状</td></tr><tr><td>poisson(lam,size)</td><td>元素服从指定泊松分布的数组，lam为随机事件发生率,size形状</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">103</span>]: np.random.normal(<span class="number">0</span>,<span class="number">1</span>,(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">Out[<span class="number">103</span>]: </span><br><span class="line">array([[-<span class="number">0.36225179</span>, -<span class="number">1.12913125</span>, -<span class="number">0.34971048</span>, -<span class="number">1.05272652</span>],</span><br><span class="line">       [ <span class="number">1.28227668</span>, -<span class="number">0.17180538</span>,  <span class="number">0.57765806</span>, -<span class="number">1.47497488</span>],</span><br><span class="line">       [ <span class="number">0.07878845</span>,  <span class="number">0.91841365</span>, -<span class="number">0.49269736</span>,  <span class="number">0.09646237</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">104</span>]: np.random.uniform(<span class="number">0</span>,<span class="number">10</span>,(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">Out[<span class="number">104</span>]: </span><br><span class="line">array([[<span class="number">3.57181759</span>, <span class="number">0.7961309</span> , <span class="number">3.05459918</span>, <span class="number">3.30719312</span>],</span><br><span class="line">       [<span class="number">7.73830296</span>, <span class="number">0.39959209</span>, <span class="number">4.29492178</span>, <span class="number">3.14926872</span>],</span><br><span class="line">       [<span class="number">6.36491143</span>, <span class="number">3.4634715</span> , <span class="number">0.43097356</span>, <span class="number">8.79915175</span>]])</span><br></pre></td></tr></table></figure><h3 id="2-4-2-统计函数"><a href="#2-4-2-统计函数" class="headerlink" title="2.4.2 统计函数"></a>2.4.2 统计函数</h3><blockquote><p>对数组中信息进行统计</p></blockquote><p><code>np.*</code> 调用</p><div class="table-container"><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td><code>sum(a,axis=None)</code></td><td>计算数组a在给定轴axis上元素的和，axis整数或元组</td></tr><tr><td><code>mean(a,axis=None)</code></td><td>计算数组a在给定轴axis上元素的期望，axis整数或元组</td></tr><tr><td><code>average(a,axis=None,weights=None)</code></td><td>计算数组a在给定轴axis上元素的加权平均值</td></tr><tr><td><code>std(a,axis=None)</code></td><td>计算数组a在给定轴axis上元素的标准差</td></tr><tr><td><code>var(a,axis=None)</code></td><td>计算数组a在给定轴axis上元素的方差</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">13</span>]: a = np.arange(<span class="number">15</span>).reshape(<span class="number">3</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">14</span>]: a</span><br><span class="line">Out[<span class="number">14</span>]: </span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>],</span><br><span class="line">       [ <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>],</span><br><span class="line">       [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">15</span>]: np.<span class="built_in">sum</span>(a)</span><br><span class="line">Out[<span class="number">15</span>]: <span class="number">105</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">16</span>]: np.<span class="built_in">sum</span>(a,axis=(<span class="number">0</span>,<span class="number">1</span>))</span><br><span class="line">Out[<span class="number">16</span>]: <span class="number">105</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">17</span>]: np.<span class="built_in">sum</span>(a,axis=<span class="number">0</span>)</span><br><span class="line">Out[<span class="number">17</span>]: array([<span class="number">15</span>, <span class="number">18</span>, <span class="number">21</span>, <span class="number">24</span>, <span class="number">27</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">18</span>]: np.mean(a)</span><br><span class="line">Out[<span class="number">18</span>]: <span class="number">7.0</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">19</span>]: np.mean(a,axis=<span class="number">0</span>)</span><br><span class="line">Out[<span class="number">19</span>]: array([<span class="number">5.</span>, <span class="number">6.</span>, <span class="number">7.</span>, <span class="number">8.</span>, <span class="number">9.</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">20</span>]: np.mean(a,axis=<span class="number">1</span>)</span><br><span class="line">Out[<span class="number">20</span>]: array([ <span class="number">2.</span>,  <span class="number">7.</span>, <span class="number">12.</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">21</span>]: np.average(a,axis=<span class="number">0</span>,weights=[<span class="number">10</span>,<span class="number">5</span>,<span class="number">1</span>])</span><br><span class="line">Out[<span class="number">21</span>]: array([<span class="number">2.1875</span>, <span class="number">3.1875</span>, <span class="number">4.1875</span>, <span class="number">5.1875</span>, <span class="number">6.1875</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">22</span>]: np.std(a)</span><br><span class="line">Out[<span class="number">22</span>]: <span class="number">4.320493798938574</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">23</span>]: np.var(a)</span><br><span class="line">Out[<span class="number">23</span>]: <span class="number">18.666666666666668</span></span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td><code>min(a)</code> , <code>max(a)</code></td><td>计算数组a中元素的最小值、最大值</td></tr><tr><td><code>argmin(a)</code> , <code>argmax(a)</code></td><td>计算数组a中元素最小值，最大值的扁平化后下标</td></tr><tr><td><code>unravel_index(index,shape)</code></td><td>根据shape将扁平化后下标index重塑为多维下标</td></tr><tr><td><code>ptp(a)</code></td><td>计算数组a中元素最大值与最小值的差</td></tr><tr><td><code>median(a)</code></td><td>计算数组a中元素的中位数</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">123</span>]: b = np.arange(<span class="number">15</span>,<span class="number">0</span>,-<span class="number">1</span>).reshape(<span class="number">3</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">124</span>]: b</span><br><span class="line">Out[<span class="number">124</span>]: </span><br><span class="line">array([[<span class="number">15</span>, <span class="number">14</span>, <span class="number">13</span>, <span class="number">12</span>, <span class="number">11</span>],</span><br><span class="line">       [<span class="number">10</span>,  <span class="number">9</span>,  <span class="number">8</span>,  <span class="number">7</span>,  <span class="number">6</span>],</span><br><span class="line">       [ <span class="number">5</span>,  <span class="number">4</span>,  <span class="number">3</span>,  <span class="number">2</span>,  <span class="number">1</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">125</span>]: np.<span class="built_in">max</span>(b)</span><br><span class="line">Out[<span class="number">125</span>]: <span class="number">15</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">126</span>]: np.argmax(b)</span><br><span class="line">Out[<span class="number">126</span>]: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">127</span>]: np.unravel_index(np.argmax(b),b.shape)</span><br><span class="line">Out[<span class="number">127</span>]: (<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">128</span>]: np.ptp(b)</span><br><span class="line">Out[<span class="number">128</span>]: <span class="number">14</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">129</span>]: np.median(b)</span><br><span class="line">Out[<span class="number">129</span>]: <span class="number">8.0</span></span><br></pre></td></tr></table></figure><h3 id="2-4-3-梯度函数"><a href="#2-4-3-梯度函数" class="headerlink" title="2.4.3 梯度函数"></a>2.4.3 梯度函数</h3><p><code>np.gradient(f)</code> 计算数组f中元素的梯度</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">130</span>]: a = np.random.randint(<span class="number">0</span>,<span class="number">20</span>,(<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">131</span>]: a</span><br><span class="line">Out[<span class="number">131</span>]: array([ <span class="number">9</span>, <span class="number">12</span>, <span class="number">18</span>, <span class="number">17</span>, <span class="number">17</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">132</span>]: np.gradient(a)</span><br><span class="line">Out[<span class="number">132</span>]: array([ <span class="number">3.</span> ,  <span class="number">4.5</span>,  <span class="number">2.5</span>, -<span class="number">0.5</span>,  <span class="number">0.</span> ])</span><br></pre></td></tr></table></figure><ul><li>对于4.5，$\frac{(18-9)}{2}=4.5$</li><li>对于3，$\frac{12-9}{1=3}$</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">134</span>]: a</span><br><span class="line">Out[<span class="number">134</span>]: </span><br><span class="line">array([[<span class="number">16</span>,  <span class="number">0</span>, <span class="number">31</span>, <span class="number">37</span>,  <span class="number">9</span>],</span><br><span class="line">       [ <span class="number">0</span>, <span class="number">38</span>, <span class="number">22</span>, <span class="number">32</span>,  <span class="number">2</span>],</span><br><span class="line">       [ <span class="number">3</span>, <span class="number">31</span>, <span class="number">35</span>, <span class="number">27</span>, <span class="number">18</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">135</span>]: np.gradient(a)</span><br><span class="line">Out[<span class="number">135</span>]: </span><br><span class="line">[array([[-<span class="number">16.</span> ,  <span class="number">38.</span> ,  -<span class="number">9.</span> ,  -<span class="number">5.</span> ,  -<span class="number">7.</span> ],<span class="comment">#0轴梯度</span></span><br><span class="line">        [ -<span class="number">6.5</span>,  <span class="number">15.5</span>,   <span class="number">2.</span> ,  -<span class="number">5.</span> ,   <span class="number">4.5</span>],</span><br><span class="line">        [  <span class="number">3.</span> ,  -<span class="number">7.</span> ,  <span class="number">13.</span> ,  -<span class="number">5.</span> ,  <span class="number">16.</span> ]]),</span><br><span class="line"> array([[-<span class="number">16.</span> ,   <span class="number">7.5</span>,  <span class="number">18.5</span>, -<span class="number">11.</span> , -<span class="number">28.</span> ],<span class="comment">#1轴梯度</span></span><br><span class="line">        [ <span class="number">38.</span> ,  <span class="number">11.</span> ,  -<span class="number">3.</span> , -<span class="number">10.</span> , -<span class="number">30.</span> ],</span><br><span class="line">        [ <span class="number">28.</span> ,  <span class="number">16.</span> ,  -<span class="number">2.</span> ,  -<span class="number">8.5</span>,  -<span class="number">9.</span> ]])]</span><br></pre></td></tr></table></figure><h2 id="2-5-图像与numpy"><a href="#2-5-图像与numpy" class="headerlink" title="2.5 图像与numpy"></a>2.5 图像与numpy</h2><h3 id="2-5-1-图像的数组表示"><a href="#2-5-1-图像的数组表示" class="headerlink" title="2.5.1 图像的数组表示"></a>2.5.1 图像的数组表示</h3><p>RGB色彩模式，形成三个通道，三个颜色通道的变化与叠加得到各种颜色</p><ul><li>R：图像上每个像素点红色通道取值范围，0-255</li><li>G：图像上每个像素点绿色通道取值范围，0-255</li><li>B：图像上每个像素点蓝色通道取值范围，0-255</li></ul><h4 id="PIL库"><a href="#PIL库" class="headerlink" title="PIL库"></a>PIL库</h4><blockquote><p>用于处理图像的第三方Python库，Python Image Library</p></blockquote><p>安装：<code>pip install pillow</code></p><p>导入：<code>from PIL import Image</code></p><ul><li>Image为PIL库中一个图像的类</li></ul><h4 id="图像的数组表示"><a href="#图像的数组表示" class="headerlink" title="图像的数组表示"></a>图像的数组表示</h4><p>图像是一个由像素组成的二维矩阵，每个元素是一个RGB值(三个字节表示一个像素点的RGB)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">32</span>]: <span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line">In [<span class="number">33</span>]: <span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">In [<span class="number">34</span>]: im = np.array(Image.<span class="built_in">open</span>(<span class="string">&quot;C:/Users/AmosTian/Pictures/1.png&quot;</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">35</span>]: <span class="built_in">print</span>(im.shape,im.dtype)</span><br><span class="line">(<span class="number">717</span>, <span class="number">717</span>, <span class="number">3</span>) uint8</span><br><span class="line"><span class="comment"># 高度axis=0</span></span><br><span class="line"><span class="comment"># 宽度axis=1</span></span><br><span class="line"><span class="comment"># RGB值axis=2</span></span><br><span class="line">In [<span class="number">36</span>]: im</span><br><span class="line">Out[<span class="number">36</span>]: </span><br><span class="line">array([<span class="comment">#717&lt;高&gt;*717&lt;宽&gt;*3&lt;RGB&gt;</span></span><br><span class="line">    [	</span><br><span class="line">        [ <span class="number">96</span>, <span class="number">116</span>, <span class="number">177</span>],</span><br><span class="line">        [ <span class="number">94</span>, <span class="number">114</span>, <span class="number">175</span>],</span><br><span class="line">        [ <span class="number">95</span>, <span class="number">115</span>, <span class="number">176</span>],</span><br><span class="line">        ...,</span><br><span class="line">        [ <span class="number">61</span>,  <span class="number">96</span>, <span class="number">164</span>],</span><br><span class="line">        [ <span class="number">62</span>,  <span class="number">97</span>, <span class="number">165</span>],</span><br><span class="line">        [ <span class="number">59</span>,  <span class="number">94</span>, <span class="number">162</span>]</span><br><span class="line">    ],</span><br><span class="line">    [	[ <span class="number">97</span>, <span class="number">117</span>, <span class="number">178</span>],</span><br><span class="line">        [ <span class="number">94</span>, <span class="number">114</span>, <span class="number">175</span>],</span><br><span class="line">        [ <span class="number">95</span>, <span class="number">115</span>, <span class="number">176</span>],</span><br><span class="line">        ...,</span><br><span class="line">        [ <span class="number">60</span>,  <span class="number">95</span>, <span class="number">163</span>],</span><br><span class="line">        [ <span class="number">61</span>,  <span class="number">96</span>, <span class="number">164</span>],</span><br><span class="line">        [ <span class="number">59</span>,  <span class="number">94</span>, <span class="number">162</span>]</span><br><span class="line">    ],</span><br><span class="line">   ...,</span><br><span class="line">    [	[ <span class="number">23</span>,  <span class="number">24</span>,  <span class="number">22</span>],</span><br><span class="line">        [ <span class="number">22</span>,  <span class="number">24</span>,  <span class="number">22</span>],</span><br><span class="line">        [ <span class="number">23</span>,  <span class="number">23</span>,  <span class="number">26</span>],</span><br><span class="line">        ...,</span><br><span class="line">        [ <span class="number">23</span>,  <span class="number">46</span>,  <span class="number">88</span>],</span><br><span class="line">        [ <span class="number">23</span>,  <span class="number">46</span>,  <span class="number">88</span>],</span><br><span class="line">        [ <span class="number">23</span>,  <span class="number">46</span>,  <span class="number">88</span>]</span><br><span class="line">    ],</span><br><span class="line">    [	[ <span class="number">16</span>,  <span class="number">18</span>,  <span class="number">15</span>],</span><br><span class="line">        [ <span class="number">19</span>,  <span class="number">21</span>,  <span class="number">20</span>],</span><br><span class="line">        [ <span class="number">22</span>,  <span class="number">23</span>,  <span class="number">26</span>],</span><br><span class="line">        ...,</span><br><span class="line">        [ <span class="number">19</span>,  <span class="number">42</span>,  <span class="number">84</span>],</span><br><span class="line">        [ <span class="number">20</span>,  <span class="number">43</span>,  <span class="number">85</span>],</span><br><span class="line">        [ <span class="number">21</span>,  <span class="number">44</span>,  <span class="number">86</span>]</span><br><span class="line">    ]</span><br><span class="line">], dtype=uint8)</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220105007664.png" alt="image-20231220105007664"></p><h3 id="2-5-2-图像的变换"><a href="#2-5-2-图像的变换" class="headerlink" title="2.5.2 图像的变换"></a>2.5.2 图像的变换</h3><blockquote><p>读入图像后，获取RGB值，保存为新的文件</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">47</span>]: <span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line">In [<span class="number">48</span>]: <span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">In [<span class="number">49</span>]: a = np.array(Image.<span class="built_in">open</span>(<span class="string">&quot;C:/Users/AmosTian/Pictures/1.png&quot;</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">50</span>]: a</span><br><span class="line">Out[<span class="number">50</span>]: </span><br><span class="line">array([[[ <span class="number">96</span>, <span class="number">116</span>, <span class="number">177</span>],</span><br><span class="line">        [ <span class="number">94</span>, <span class="number">114</span>, <span class="number">175</span>],</span><br><span class="line">        [ <span class="number">95</span>, <span class="number">115</span>, <span class="number">176</span>],</span><br><span class="line">        ...,</span><br><span class="line">        [ <span class="number">61</span>,  <span class="number">96</span>, <span class="number">164</span>],</span><br><span class="line">        [ <span class="number">62</span>,  <span class="number">97</span>, <span class="number">165</span>],</span><br><span class="line">        [ <span class="number">59</span>,  <span class="number">94</span>, <span class="number">162</span>]],</span><br><span class="line">       ...,</span><br><span class="line"></span><br><span class="line">       [[ <span class="number">19</span>,  <span class="number">21</span>,  <span class="number">17</span>],</span><br><span class="line">        [ <span class="number">20</span>,  <span class="number">22</span>,  <span class="number">21</span>],</span><br><span class="line">        [ <span class="number">24</span>,  <span class="number">25</span>,  <span class="number">27</span>],</span><br><span class="line">        ...,</span><br><span class="line">        [ <span class="number">23</span>,  <span class="number">46</span>,  <span class="number">88</span>],</span><br><span class="line">        [ <span class="number">23</span>,  <span class="number">46</span>,  <span class="number">88</span>],</span><br><span class="line">        [ <span class="number">23</span>,  <span class="number">46</span>,  <span class="number">88</span>]],</span><br><span class="line">       [[ <span class="number">16</span>,  <span class="number">18</span>,  <span class="number">15</span>],</span><br><span class="line">        [ <span class="number">19</span>,  <span class="number">21</span>,  <span class="number">20</span>],</span><br><span class="line">        [ <span class="number">22</span>,  <span class="number">23</span>,  <span class="number">26</span>],</span><br><span class="line">        ...,</span><br><span class="line">        [ <span class="number">19</span>,  <span class="number">42</span>,  <span class="number">84</span>],</span><br><span class="line">        [ <span class="number">20</span>,  <span class="number">43</span>,  <span class="number">85</span>],</span><br><span class="line">        [ <span class="number">21</span>,  <span class="number">44</span>,  <span class="number">86</span>]]], dtype=uint8)</span><br><span class="line"></span><br><span class="line">In [<span class="number">51</span>]: <span class="built_in">print</span>(a.shape,a.dtype)</span><br><span class="line">(<span class="number">1368</span>, <span class="number">2560</span>, <span class="number">3</span>) uint8</span><br><span class="line"></span><br><span class="line">In [<span class="number">52</span>]: b = [<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>]-a</span><br><span class="line"></span><br><span class="line">In [<span class="number">53</span>]: im = Image.fromarray(b.astype(<span class="string">&#x27;uint8&#x27;</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">54</span>]: im.save(<span class="string">&quot;C:/Users/AmosTian/Pictures/ch-1.png&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220125438850.png" alt="image-20231220125438850"></p><h4 id="灰度图变换"><a href="#灰度图变换" class="headerlink" title="灰度图变换"></a>灰度图变换</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">59</span>]: <span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line">In [<span class="number">60</span>]: <span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">In [<span class="number">61</span>]: a = np.array(Image.<span class="built_in">open</span>(<span class="string">&quot;C:/Users/AmosTian/Pictures/1.png&quot;</span>).convert(<span class="string">&quot;L&quot;</span>))<span class="comment"># 将图像导入并转换为灰度图，并将其用数组表示</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">62</span>]: b = <span class="number">255</span>-a</span><br><span class="line"></span><br><span class="line">In [<span class="number">63</span>]: im = Image.fromarray(b.astype(<span class="string">&#x27;uint8&#x27;</span>))<span class="comment">#将数组转换为图像</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">64</span>]: im.save(<span class="string">&quot;C:/Users/AmosTian/Pictures/ch-2.png&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220125727055.png" alt="image-20231220125727055"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">65</span>]: c = (<span class="number">100</span>/<span class="number">255</span>)*a+<span class="number">150</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">66</span>]: im = Image.fromarray(c.astype(<span class="string">&#x27;uint8&#x27;</span>))<span class="comment">#将数组转换为图像</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">67</span>]: im.save(<span class="string">&quot;C:/Users/AmosTian/Pictures/ch-3.png&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220125927824.png" alt="image-20231220125927824"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">68</span>]: d = <span class="number">255</span>*(a/<span class="number">255</span>)**<span class="number">2</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">69</span>]: im = Image.fromarray(b.astype(<span class="string">&#x27;uint8&#x27;</span>))<span class="comment">#将数组转换为图像</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">70</span>]: im.save(<span class="string">&quot;C:/Users/AmosTian/Pictures/ch-4.png&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220130101535.png" alt="image-20231220130101535"></p><h4 id="手绘效果"><a href="#手绘效果" class="headerlink" title="手绘效果"></a>手绘效果</h4><p>特征分析：</p><ul><li>黑白灰色</li><li>边界线重</li><li>相同或相近色彩趋于白色</li><li>略有光源效果</li></ul><p>利用像素之间的梯度值和虚拟深度值对图像进行重构，根据灰度变换来模拟人类视觉明暗程度</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array(Image.<span class="built_in">open</span>(<span class="string">&quot;C:/Users/AmosTian/Pictures/1.png&quot;</span>).convert(<span class="string">&quot;L&quot;</span>)).astype(<span class="string">&#x27;float&#x27;</span>)<span class="comment"># 转换为灰度图像</span></span><br><span class="line"></span><br><span class="line">depth=<span class="number">10.</span></span><br><span class="line">grad = np.gradient(a) <span class="comment">#取灰度图像的梯度值</span></span><br><span class="line">grad_x,grad_y=grad <span class="comment">#分别取横纵图像梯度值</span></span><br><span class="line">grad_x = grad_x*depth/<span class="number">100.</span>		<span class="comment">#根据深度调整x和y方向的梯度值</span></span><br><span class="line">grad_y = grad_y*depth/<span class="number">100.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 构造x和y轴梯度的三位归一化单位坐标轴</span></span><br><span class="line">A = np.sqrt(grad_x**<span class="number">2</span> + grad_y**<span class="number">2</span> + <span class="number">1.</span>)</span><br><span class="line">uni_x = grad_x/A</span><br><span class="line">uni_y = grad_y/A</span><br><span class="line">uni_z = <span class="number">1.</span>/A</span><br><span class="line"></span><br><span class="line"><span class="comment"># 光源效果</span></span><br><span class="line">vec_el = np.pi/<span class="number">2.2</span> <span class="comment">#光源的俯视角度，弧度值</span></span><br><span class="line">vec_az= np.pi/<span class="number">4.</span> <span class="comment">#光源的方位角度，弧度值</span></span><br><span class="line">dx = np.cos(vec_el)*np.cos(vec_az) <span class="comment">#光源对x轴的影响</span></span><br><span class="line">dy = np.cos(vec_el)*np.sin(vec_az) <span class="comment">#光源对y轴的影响</span></span><br><span class="line">dz = np.sin(vec_el)					<span class="comment">#光源对z轴的影响</span></span><br><span class="line"><span class="comment">#梯度与光源相互作用，将梯度转换为灰度</span></span><br><span class="line">b = <span class="number">255</span>*(dx*uni_x+dy*uni_y+dz*uni_z)</span><br><span class="line">b.clip(<span class="number">0</span>,<span class="number">255</span>)</span><br><span class="line"></span><br><span class="line">im = Image.fromarray(b.astype(<span class="string">&#x27;uint8&#x27;</span>))</span><br><span class="line">im.save(<span class="string">&quot;C:/Users/AmosTian/Pictures/shouhui-1.png&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220131320649.png" alt="image-20231220131320649"></p><h1 id="3-Matplotlib"><a href="#3-Matplotlib" class="headerlink" title="3. Matplotlib"></a>3. Matplotlib</h1><h2 id="3-1-介绍"><a href="#3-1-介绍" class="headerlink" title="3.1 介绍"></a>3.1 介绍</h2><blockquote><p>由各种可视化类构成，<code>matplotlib.pyplot</code> 是各类可视化图形的命令子库，相当于快捷方式</p></blockquote><p>导入 <code>import matplotlib.pyplot as plt</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.plot([<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">2</span>])</span><br><span class="line">plt.ylabel(<span class="string">&quot;grade&quot;</span>)</span><br><span class="line">plt.savefig(<span class="string">&#x27;test&#x27;</span>,dpi=<span class="number">600</span>) <span class="comment">#将图片保存为文件，默认为PNG，通过dpi修改图片质量</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>默认情况下，若输入是一维数组，则将其当做y轴数据，相应的x轴数据为其索引</p><p><img src="/posts/4103897705/image-20231220153114880.png" alt="image-20231220153114880"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 同时控制x,y轴的值与范围</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.plot([<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>],[<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">2</span>]) <span class="comment">#当plot()有两个参数，arg1表示X轴，arg2表示Y轴</span></span><br><span class="line">plt.ylabel(<span class="string">&quot;grade&quot;</span>)</span><br><span class="line">plt.axis([-<span class="number">1</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">6</span>]) <span class="comment">#-1,10表示X轴区间，0,6表示Y轴区间</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220153603412.png" alt="image-20231220153603412"></p><h2 id="3-2-plot"><a href="#3-2-plot" class="headerlink" title="3.2 plot()"></a>3.2 plot()</h2><p><code>plt.plot(x,y,format_string,**kwargs)</code></p><ul><li><p>x：X轴数据，列表或数组</p></li><li><p>y：Y轴数据，列表或数组</p></li><li><p>format_string：控制曲线的格式字符串，可选</p></li><li><p>**kwargs：第二组或更多(x,y,format_string)</p><p>当绘制多条曲线时，各条曲线的参数x不能省略</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">plt.plot(a,a*<span class="number">1</span>,a,a*<span class="number">2</span>,a,a*<span class="number">3</span>,a,a*<span class="number">4</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220184304486.png" alt="image-20231220184304486"></p><h3 id="3-2-1-格式控制符format-string"><a href="#3-2-1-格式控制符format-string" class="headerlink" title="3.2.1 格式控制符format_string"></a>3.2.1 格式控制符format_string</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">plt.plot(a,a*<span class="number">1</span>,<span class="string">&#x27;go-&#x27;</span>,a,a*<span class="number">2</span>,<span class="string">&#x27;rx&#x27;</span>,a,a*<span class="number">3</span>,<span class="string">&#x27;*&#x27;</span>,a,a*<span class="number">4</span>,<span class="string">&#x27;b-.&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220192758148.png" alt="image-20231220192758148"></p><h4 id="颜色字符"><a href="#颜色字符" class="headerlink" title="颜色字符"></a>颜色字符</h4><div class="table-container"><table><thead><tr><th>颜色字符</th><th>说明</th></tr></thead><tbody><tr><td><code>&#39;b&#39;</code></td><td>蓝色</td></tr><tr><td><code>&#39;g&#39;</code></td><td>绿色</td></tr><tr><td><code>&#39;r&#39;</code></td><td>红色</td></tr><tr><td><code>&#39;c&#39;</code></td><td>青绿色cyan</td></tr><tr><td><code>&#39;m&#39;</code></td><td>洋红色 magenta</td></tr><tr><td><code>&#39;y&#39;</code></td><td>黄色</td></tr><tr><td><code>&#39;k&#39;</code></td><td>黑色</td></tr><tr><td><code>&#39;w&#39;</code></td><td>白色</td></tr><tr><td><code>&#39;#008000&#39;</code></td><td>RGB颜色</td></tr><tr><td><code>&#39;0.8&#39;</code></td><td>灰度值字符串</td></tr></tbody></table></div><h4 id="点标记"><a href="#点标记" class="headerlink" title="点标记"></a>点标记</h4><div class="table-container"><table><thead><tr><th>标记字符</th><th>说明</th></tr></thead><tbody><tr><td><code>.</code></td><td>点标记</td></tr><tr><td><code>,</code></td><td>像素标记(极小点)</td></tr><tr><td><code>o</code></td><td>实心圈标记</td></tr><tr><td><code>v</code></td><td>倒三角标记</td></tr><tr><td><code>^</code></td><td>上三角标记</td></tr><tr><td><code>&gt;</code></td><td>右三角标记</td></tr><tr><td><code>&lt;</code></td><td>左三角标记</td></tr><tr><td><code>1</code></td><td>下花三角标记</td></tr><tr><td><code>2</code></td><td>上花三角标记</td></tr><tr><td><code>3</code></td><td>左花三角标记</td></tr><tr><td><code>4</code></td><td>右花三角标记</td></tr><tr><td><code>s</code></td><td>实心方形标记</td></tr><tr><td><code>p</code></td><td>实心五角标记</td></tr><tr><td><code>*</code></td><td>星形标记</td></tr><tr><td><code>h</code></td><td>竖六边形标记</td></tr><tr><td><code>H</code></td><td>横六边形标记</td></tr><tr><td><code>+</code></td><td>十字标记</td></tr><tr><td><code>x</code></td><td>x标记</td></tr><tr><td><code>D</code></td><td>菱形标记</td></tr><tr><td><code>d</code></td><td>瘦菱形标记</td></tr><tr><td>`</td><td>`</td><td>垂直线标记</td></tr></tbody></table></div><h4 id="风格字符"><a href="#风格字符" class="headerlink" title="风格字符"></a>风格字符</h4><div class="table-container"><table><thead><tr><th>风格字符</th><th>说明</th></tr></thead><tbody><tr><td><code>&#39;-&#39;</code></td><td>实线</td></tr><tr><td><code>&#39;--&#39;</code></td><td>破折线</td></tr><tr><td><code>&#39;-.&#39;</code></td><td>点划线</td></tr><tr><td><code>&#39;:&#39;</code></td><td>虚线</td></tr><tr><td><code>&#39;&#39;&#39;&#39;</code></td><td>无线条</td></tr></tbody></table></div><h3 id="3-2-2-其他格式控制符"><a href="#3-2-2-其他格式控制符" class="headerlink" title="3.2.2 其他格式控制符"></a>3.2.2 其他格式控制符</h3><div class="table-container"><table><thead><tr><th>关键字参数</th><th>说明</th></tr></thead><tbody><tr><td><code>color=&#39;green&#39;</code></td><td>控制颜色</td></tr><tr><td><code>linestyle=&#39;dashed&#39;</code></td><td>线条风格</td></tr><tr><td><code>marker=&#39;0&#39;</code></td><td>标记风格</td></tr><tr><td><code>markerfacecolor=&#39;blue&#39;</code></td><td>标记颜色</td></tr><tr><td><code>markersize=20</code></td><td>标记尺寸</td></tr></tbody></table></div><h2 id="3-3-中文显示"><a href="#3-3-中文显示" class="headerlink" title="3.3 中文显示"></a>3.3 中文显示</h2><blockquote><p>pyplot不支持中文，需要引入第三方库</p></blockquote><h3 id="3-3-1-改变matplot的全局字体"><a href="#3-3-1-改变matplot的全局字体" class="headerlink" title="3.3.1 改变matplot的全局字体"></a>3.3.1 改变matplot的全局字体</h3><p><code>matplotlib.rcParams[]</code> 可用于修改全局字体样式</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"></span><br><span class="line">matplotlib.rcParams[<span class="string">&#x27;font.family&#x27;</span>]=<span class="string">&#x27;SimHei&#x27;</span></span><br><span class="line">plt.plot([<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">2</span>])</span><br><span class="line">plt.ylabel(<span class="string">&quot;纵轴(值)&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220194350568.png" alt="image-20231220194350568"></p><h4 id="rcParams属性"><a href="#rcParams属性" class="headerlink" title="rcParams属性"></a>rcParams属性</h4><div class="table-container"><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td><code>&#39;font.family&#39;</code></td><td>用于显示字体名</td></tr><tr><td><code>&#39;font.style&#39;</code></td><td>字体风格，正常 <code>&#39;normal&#39;</code> 或斜体 <code>&#39;italic&#39;</code></td></tr><tr><td><code>&#39;font.size&#39;</code></td><td>字体大小，整数字号或 <code>&#39;large&#39;</code> 、<code>&#39;x-small&#39;</code></td></tr></tbody></table></div><h5 id="字体备选值"><a href="#字体备选值" class="headerlink" title="字体备选值"></a>字体备选值</h5><div class="table-container"><table><thead><tr><th>中文字体名</th><th>说明·</th></tr></thead><tbody><tr><td><code>&#39;SimHei&#39;</code></td><td>黑体</td></tr><tr><td><code>&#39;Kaiti&#39;</code></td><td>楷体</td></tr><tr><td><code>&#39;LiSu&#39;</code></td><td>隶书</td></tr><tr><td><code>&#39;FangSong&#39;</code></td><td>仿宋</td></tr><tr><td><code>&#39;YouYuann&#39;</code></td><td>幼圆</td></tr><tr><td><code>&#39;STSong&#39;</code></td><td>华文宋体</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">matplotlib.rcParams[<span class="string">&#x27;font.family&#x27;</span>]=<span class="string">&#x27;STSong&#x27;</span></span><br><span class="line">matplotlib.rcParams[<span class="string">&#x27;font.size&#x27;</span>]=<span class="number">20</span></span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">0.0</span>,<span class="number">5.0</span>,<span class="number">0.02</span>)</span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">&#x27;横轴：时间&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;纵轴：振幅&quot;</span>)</span><br><span class="line">plt.plot(a,np.cos(<span class="number">2</span>*np.pi*a),<span class="string">&#x27;ro-.&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220195053946.png" alt="image-20231220195053946"></p><h3 id="3-3-2-通过标签的局部属性"><a href="#3-3-2-通过标签的局部属性" class="headerlink" title="3.3.2 通过标签的局部属性"></a>3.3.2 通过标签的局部属性</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">0.0</span>,<span class="number">5.0</span>,<span class="number">0.02</span>)</span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">&#x27;横轴：时间&#x27;</span>,fontproperties=<span class="string">&#x27;STSong&#x27;</span>,fontsize=<span class="number">20</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;纵轴：振幅&quot;</span>,fontproperties=<span class="string">&#x27;STSong&#x27;</span>,fontsize=<span class="number">20</span>)</span><br><span class="line">plt.plot(a,np.cos(<span class="number">2</span>*np.pi*a),<span class="string">&#x27;rx-.&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220195331337.png" alt="image-20231220195331337"></p><h2 id="3-4-文本显示"><a href="#3-4-文本显示" class="headerlink" title="3.4 文本显示"></a>3.4 文本显示</h2><div class="table-container"><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td><code>plt.xlabel()</code></td><td>对X轴增加文本标签</td></tr><tr><td><code>plt.ylabel()</code></td><td>对Y轴增加文本标签</td></tr><tr><td><code>plt.title()</code></td><td>对图形整体增加文本标题</td></tr><tr><td><code>plt.annotate()</code></td><td>在图形中增加带箭头的注解</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">0.0</span>,<span class="number">5.0</span>,<span class="number">0.02</span>)</span><br><span class="line"></span><br><span class="line">plt.plot(a,np.cos(<span class="number">2</span>*np.pi*a),<span class="string">&#x27;r--&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;横轴：时间&#x27;</span>,fontproperties=<span class="string">&#x27;STSong&#x27;</span>,fontsize=<span class="number">20</span>,color=<span class="string">&#x27;green&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;纵轴：振幅&quot;</span>,fontproperties=<span class="string">&#x27;STSong&#x27;</span>,fontsize=<span class="number">20</span>)</span><br><span class="line">plt.title(<span class="string">r&#x27;正弦波实例 $y=cos(2\pi x)$&#x27;</span>,fontproperties=<span class="string">&#x27;STSong&#x27;</span>,fontsize=<span class="number">25</span>)</span><br><span class="line">plt.text(<span class="number">2</span>,<span class="number">1</span>,<span class="string">r&#x27;$\mu=100$&#x27;</span>,fontsize=<span class="number">15</span>)</span><br><span class="line"></span><br><span class="line">plt.axis([-<span class="number">1</span>,<span class="number">6</span>,-<span class="number">2</span>,<span class="number">2</span>])</span><br><span class="line">plt.grid(<span class="literal">True</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220201616534.png" alt="image-20231220201616534"></p><h4 id="带箭头注解"><a href="#带箭头注解" class="headerlink" title="带箭头注解"></a>带箭头注解</h4><p><code>plt.annotate(text,xy=arrow_crd_tuple,xytext=text_crd_tuple,arrowprops=dict())</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">0.0</span>,<span class="number">5.0</span>,<span class="number">0.02</span>)</span><br><span class="line"></span><br><span class="line">plt.plot(a,np.cos(<span class="number">2</span>*np.pi*a),<span class="string">&#x27;r--&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;横轴：时间&#x27;</span>,fontproperties=<span class="string">&#x27;STSong&#x27;</span>,fontsize=<span class="number">20</span>,color=<span class="string">&#x27;green&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;纵轴：振幅&quot;</span>,fontproperties=<span class="string">&#x27;STSong&#x27;</span>,fontsize=<span class="number">20</span>)</span><br><span class="line">plt.title(<span class="string">r&#x27;正弦波实例 $y=cos(2\pi x)$&#x27;</span>,fontproperties=<span class="string">&#x27;STSong&#x27;</span>,fontsize=<span class="number">25</span>)</span><br><span class="line">plt.annotate(<span class="string">r&#x27;$\mu=100$&#x27;</span>,xy=(<span class="number">2</span>,<span class="number">1</span>),xytext=(<span class="number">3</span>,<span class="number">1.5</span>),arrowprops=<span class="built_in">dict</span>(facecolor=<span class="string">&#x27;black&#x27;</span>,shrink=<span class="number">0.1</span>,width=<span class="number">2</span>))<span class="comment"># shrink表示箭头两侧的空白间距</span></span><br><span class="line"></span><br><span class="line">plt.axis([-<span class="number">1</span>,<span class="number">6</span>,-<span class="number">2</span>,<span class="number">2</span>])</span><br><span class="line">plt.grid(<span class="literal">True</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220203018464.png" alt="image-20231220203018464"></p><h2 id="3-5-子绘图区域"><a href="#3-5-子绘图区域" class="headerlink" title="3.5 子绘图区域"></a>3.5 子绘图区域</h2><h3 id="3-5-1-subplot"><a href="#3-5-1-subplot" class="headerlink" title="3.5.1 subplot"></a>3.5.1 subplot</h3><p><code>plt.subplot(nrows,ncols,plot_number)</code> ：在全局绘图区创建一个分区体系，并定位到 <code>plot_number</code> 指定的子绘图区域</p><p><code>plt.subplot(3,2,4)</code></p><p><img src="/posts/4103897705/image-20231220153945211.png" alt="image-20231220153945211"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="keyword">return</span> np.exp(-t) * np.cos(<span class="number">2</span>*np.pi*t)</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">0.0</span>, <span class="number">5.0</span>, <span class="number">0.02</span>)</span><br><span class="line">plt.subplot(<span class="number">211</span>)</span><br><span class="line">plt.plot(a,f(a))</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">plt.plot(a, np.cos(<span class="number">2</span>*np.pi*a),<span class="string">&#x27;r--&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220154514051.png" alt="image-20231220154514051"></p><h3 id="3-5-2-subplot2grid"><a href="#3-5-2-subplot2grid" class="headerlink" title="3.5.2 subplot2grid"></a>3.5.2 subplot2grid</h3><blockquote><p>理念：设计网格，选中网格，确定选中行列区域数量，网格编号从0开始</p></blockquote><p><code>plt.subplot2grid(gridSpec,CurSpec,colspan=1,rowspan=1)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.subplot2grid((<span class="number">3</span>,<span class="number">3</span>),(<span class="number">0</span>,<span class="number">0</span>),colspan=<span class="number">3</span>) <span class="comment">#表示将绘图区域分为3*3=9个网格，选中从(0.0)开始的网格，占3列网格</span></span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220204905632.png" alt="image-20231220204905632"></p><h3 id="3-5-3-gridspec类"><a href="#3-5-3-gridspec类" class="headerlink" title="3.5.3 gridspec类"></a>3.5.3 gridspec类</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.gridspec <span class="keyword">as</span> gridspec</span><br><span class="line"></span><br><span class="line">gs = gridspec.GridSpec(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">ax1 = plt.subplot(gs[<span class="number">0</span>,:])		<span class="comment">#横向第0行，纵向全部列</span></span><br><span class="line">ax2 = plt.subplot(gs[<span class="number">1</span>,:-<span class="number">1</span>])	<span class="comment">#横向第1行，纵向到最后一列，但不包括最后一列</span></span><br><span class="line">ax3 = plt.subplot(gs[<span class="number">1</span>:,-<span class="number">1</span>])	<span class="comment">#横向第一行开始到结束，纵向最后一列</span></span><br><span class="line">ax4 = plt.subplot(gs[<span class="number">2</span>,<span class="number">0</span>])		<span class="comment">#横向第二行，纵向第1列</span></span><br><span class="line">ax5 = plt.subplot(gs[<span class="number">2</span>，<span class="number">1</span>])		<span class="comment">#横向第2行，纵向第一列</span></span><br></pre></td></tr></table></figure><h2 id="3-6-pyplot图表绘制函数"><a href="#3-6-pyplot图表绘制函数" class="headerlink" title="3.6 pyplot图表绘制函数"></a>3.6 pyplot图表绘制函数</h2><div class="table-container"><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td><code>plt.plot(x,y,fmt,...)</code></td><td>绘制坐标图</td></tr><tr><td><code>plt.boxplot(data,notch,position)</code></td><td>绘制箱形图</td></tr><tr><td><code>plt.bar(left,height,width,bottom)</code></td><td>绘制条形图</td></tr><tr><td><code>plt.barh(width,bottom,left,height)</code></td><td>横向条形图</td></tr><tr><td><code>plt.polar(theta,r)</code></td><td>极坐标图</td></tr><tr><td><code>plt.pie(data,explode)</code></td><td>饼图</td></tr><tr><td><code>plt.psd(x,NFFT=256,pad_to,Fs)</code></td><td>功率谱密度图</td></tr><tr><td><code>plt.specgram(x,NFFT=256,pad_to,F)</code></td><td>谱图</td></tr><tr><td><code>plt.cohere(x,y,NFFT=256,Fs)</code></td><td>X-Y的相关性图像</td></tr><tr><td><code>plt.scatter(x,y)</code></td><td>散点图，x和y相同</td></tr><tr><td><code>plt.step(x,y,where)</code></td><td>步阶图</td></tr><tr><td><code>plt.hist(x,bins,normed)</code></td><td>直方图</td></tr><tr><td><code>plt.contour(X,Y,Z,N)</code></td><td>等值图</td></tr><tr><td><code>plt.vlines()</code></td><td>垂直图</td></tr><tr><td><code>plt.stem(x,y,linefmt,markerfmt)</code></td><td>柴火图</td></tr><tr><td><code>plt.plot_date()</code></td><td>数据日期</td></tr></tbody></table></div><h3 id="3-6-1-饼图"><a href="#3-6-1-饼图" class="headerlink" title="3.6.1 饼图"></a>3.6.1 饼图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">labels = <span class="string">&#x27;Frogs&#x27;</span>,<span class="string">&#x27;Hogs&#x27;</span>,<span class="string">&#x27;Dogs&#x27;</span>,<span class="string">&#x27;Logs&#x27;</span></span><br><span class="line">sizes = [<span class="number">15</span>,<span class="number">30</span>,<span class="number">45</span>,<span class="number">10</span>]</span><br><span class="line">explode = (<span class="number">0</span>,<span class="number">0.1</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">plt.pie(sizes,explode=explode,labels=labels,autopct=<span class="string">&#x27;%1.1f%%&#x27;</span>,shadow=<span class="literal">False</span>,startangle=<span class="number">90</span>)</span><br><span class="line"><span class="comment"># sizes：各部分数据</span></span><br><span class="line"><span class="comment"># explode：各部分突出程度</span></span><br><span class="line"><span class="comment"># labels：各部分标签</span></span><br><span class="line"><span class="comment"># autopic：各部分百分数显示方式</span></span><br><span class="line"><span class="comment"># startangle：起始角度</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220212040014.png" alt="image-20231220212040014"></p><h3 id="3-6-2-直方图"><a href="#3-6-2-直方图" class="headerlink" title="3.6.2 直方图"></a>3.6.2 直方图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">np.random.seed(<span class="number">0</span>)</span><br><span class="line">mu,sigma = <span class="number">100</span>,<span class="number">20</span></span><br><span class="line">a = np.random.normal(mu,sigma,size=<span class="number">100</span>)</span><br><span class="line">plt.hist(a,<span class="number">20</span>,histtype=<span class="string">&#x27;stepfilled&#x27;</span>,facecolor=<span class="string">&#x27;b&#x27;</span>,alpha=<span class="number">0.75</span>)</span><br><span class="line"><span class="comment">#bins：表示直方图中直方的个数，即区间等分的个数</span></span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220213051603.png" alt="image-20231220213051603"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> matplotlib.gridspec <span class="keyword">as</span> gridspec</span><br><span class="line"></span><br><span class="line">gs = gridspec.GridSpec(<span class="number">1</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(gs[<span class="number">0</span>,<span class="number">0</span>])</span><br><span class="line">np.random.seed(<span class="number">0</span>)</span><br><span class="line">mu,sigma = <span class="number">100</span>,<span class="number">20</span></span><br><span class="line">a = np.random.normal(mu,sigma,size=<span class="number">100</span>)</span><br><span class="line">plt.hist(a,<span class="number">20</span>,histtype=<span class="string">&#x27;stepfilled&#x27;</span>,facecolor=<span class="string">&#x27;b&#x27;</span>,alpha=<span class="number">0.75</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plt.subplot(gs[<span class="number">0</span>,<span class="number">1</span>])</span><br><span class="line">np.random.seed(<span class="number">0</span>)</span><br><span class="line">mu,sigma = <span class="number">100</span>,<span class="number">20</span></span><br><span class="line">a = np.random.normal(mu,sigma,size=<span class="number">100</span>)</span><br><span class="line">plt.hist(a,<span class="number">10</span>,histtype=<span class="string">&#x27;stepfilled&#x27;</span>,facecolor=<span class="string">&#x27;b&#x27;</span>,alpha=<span class="number">0.75</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(gs[<span class="number">0</span>,<span class="number">2</span>])</span><br><span class="line">np.random.seed(<span class="number">0</span>)</span><br><span class="line">mu,sigma = <span class="number">100</span>,<span class="number">20</span></span><br><span class="line">a = np.random.normal(mu,sigma,size=<span class="number">100</span>)</span><br><span class="line">plt.hist(a,<span class="number">40</span>,histtype=<span class="string">&#x27;stepfilled&#x27;</span>,facecolor=<span class="string">&#x27;b&#x27;</span>,alpha=<span class="number">0.75</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/posts/4103897705/image-20231220213414899.png" alt="image-20231220213414899"></p><h3 id="3-6-3-极坐标绘制"><a href="#3-6-3-极坐标绘制" class="headerlink" title="3.6.3 极坐标绘制"></a>3.6.3 极坐标绘制</h3><p><img src="/posts/4103897705/image-20231220214121371.png" alt="image-20231220214121371"></p><h3 id="3-6-4-散点图"><a href="#3-6-4-散点图" class="headerlink" title="3.6.4 散点图"></a>3.6.4 散点图</h3><p><img src="/posts/4103897705/image-20231220214426612.png" alt="image-20231220214426612"></p><h1 id="4-pandas"><a href="#4-pandas" class="headerlink" title="4. pandas"></a>4. pandas</h1><blockquote><p>提供高性能易用数据类型和分析工具</p></blockquote><ul><li><p>便于操作数据的数据类型——数据表示</p><p>基于ndarray的数据类型：Seies(一维数据类型)，DataFrame(多维数据类型)</p></li><li><p>提供数据的分析函数和分析工具——数据分析</p><p>基本操作</p><p>运算操作</p><p>特征类操作</p><p>关联类操作</p></li></ul><p><code>import pandas as pd</code></p><ul><li>Pandas基于NumPy实现，常与NumPy和Matplotlib一起使用</li></ul><div class="table-container"><table><thead><tr><th>NumPy</th><th>Pandas</th></tr></thead><tbody><tr><td>基础数据类型</td><td>扩展数据类型</td></tr><tr><td>关注数据的结构表达(数据如何存储为变量)</td><td>关注数据的应用表达</td></tr><tr><td>维度：数据间关系</td><td>数据与索引间关系</td></tr></tbody></table></div><h2 id="4-1-数据类型"><a href="#4-1-数据类型" class="headerlink" title="4.1 数据类型"></a>4.1 数据类型</h2><h3 id="4-1-1-Series类型"><a href="#4-1-1-Series类型" class="headerlink" title="4.1.1 Series类型"></a>4.1.1 Series类型</h3><p>Series=index+values</p><ul><li>index为Index类型，values为ndarray类型</li><li>Series会为每个数据关联索引，可以是自动索引(从0开始)；也可以是自定义索引</li></ul><p><img src="/posts/4103897705/image-20231221100343908.png" alt="image-20231221100343908"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">1</span>]: <span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">In [<span class="number">2</span>]: a = pd.Series([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">3</span>]: a</span><br><span class="line">Out[<span class="number">3</span>]: </span><br><span class="line"><span class="number">0</span>    <span class="number">9</span></span><br><span class="line"><span class="number">1</span>    <span class="number">8</span></span><br><span class="line"><span class="number">2</span>    <span class="number">7</span></span><br><span class="line"><span class="number">3</span>    <span class="number">6</span></span><br><span class="line">dtype: int64</span><br><span class="line">    </span><br><span class="line"><span class="comment">#左侧列为自动索引</span></span><br><span class="line"><span class="comment">#NumPy中的数据类型</span></span><br></pre></td></tr></table></figure><p><strong>支持自定义索引</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">5</span>]: a = pd.Series([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>],index = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">6</span>]: a</span><br><span class="line">Out[<span class="number">6</span>]: </span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">d    <span class="number">6</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure><h4 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h4><ul><li>列表创建：index与列表元素个数一致，index缺省则生成自动索引</li><li>标量创建：index表述Series类型的尺寸，index不能缺省</li><li>字典创建：字典的“键”是index，自定义index从字典中选择值</li><li>ndarray创建：索引和数据都可以通过ndarray类型创建</li></ul><h5 id="标量创建"><a href="#标量创建" class="headerlink" title="标量创建"></a>标量创建</h5><p><strong>标量创建，则索引不能省略</strong> ：Series几个元素构成，需要由索引信息给出</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">9</span>]: s = pd.Series(<span class="number">5</span>,index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">10</span>]: s</span><br><span class="line">Out[<span class="number">10</span>]: </span><br><span class="line">a    <span class="number">5</span></span><br><span class="line">b    <span class="number">5</span></span><br><span class="line">c    <span class="number">5</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure><h5 id="字典创建"><a href="#字典创建" class="headerlink" title="字典创建"></a>字典创建</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">11</span>]: s = pd.Series(&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">9</span>,<span class="string">&#x27;c&#x27;</span>:<span class="number">8</span>,<span class="string">&#x27;e&#x27;</span>:<span class="number">7</span>&#125;)</span><br><span class="line"></span><br><span class="line">In [<span class="number">12</span>]: s</span><br><span class="line">Out[<span class="number">12</span>]: </span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">c    <span class="number">8</span></span><br><span class="line">e    <span class="number">7</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure><p><strong>可以通过自定义索引从字典搜索对应值</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">13</span>]: s = pd.Series(&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">9</span>,<span class="string">&#x27;c&#x27;</span>:<span class="number">8</span>,<span class="string">&#x27;e&#x27;</span>:<span class="number">7</span>&#125;,index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">14</span>]: s</span><br><span class="line">Out[<span class="number">14</span>]: </span><br><span class="line">a    <span class="number">9.0</span></span><br><span class="line">b    NaN</span><br><span class="line">c    <span class="number">8.0</span></span><br><span class="line">d    NaN</span><br><span class="line">e    <span class="number">7.0</span></span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure><h5 id="ndarray创建"><a href="#ndarray创建" class="headerlink" title="ndarray创建"></a>ndarray创建</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">16</span>]: n = pd.Series(np.arange(<span class="number">5</span>),index=np.arange(<span class="number">9</span>,<span class="number">4</span>,-<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">17</span>]: n</span><br><span class="line">Out[<span class="number">17</span>]: </span><br><span class="line"><span class="number">9</span>    <span class="number">0</span></span><br><span class="line"><span class="number">8</span>    <span class="number">1</span></span><br><span class="line"><span class="number">7</span>    <span class="number">2</span></span><br><span class="line"><span class="number">6</span>    <span class="number">3</span></span><br><span class="line"><span class="number">5</span>    <span class="number">4</span></span><br><span class="line">dtype: int32</span><br></pre></td></tr></table></figure><h4 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h4><p>Series整体类似于字典操作，对于values的操作类似与ndarray操作</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">18</span>]: b = pd.Series([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>],index=[<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;b&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">19</span>]: b</span><br><span class="line">Out[<span class="number">19</span>]: </span><br><span class="line">c    <span class="number">9</span></span><br><span class="line">a    <span class="number">8</span></span><br><span class="line">d    <span class="number">7</span></span><br><span class="line">b    <span class="number">6</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">20</span>]: b.index	<span class="comment">#获取index，输出类型为Index类型</span></span><br><span class="line">Out[<span class="number">20</span>]: Index([<span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;b&#x27;</span>], dtype=<span class="string">&#x27;object&#x27;</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">21</span>]: b.values	<span class="comment">#获取values，输出类型为ndarray类型</span></span><br><span class="line">Out[<span class="number">21</span>]: array([<span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>], dtype=int64)</span><br></pre></td></tr></table></figure><p>自动索引与自定义索引并存，但一个操作中不能混用两种索引方式</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">28</span>]: b[<span class="number">2</span>]</span><br><span class="line">Out[<span class="number">28</span>]: <span class="number">7</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">29</span>]: b[<span class="string">&#x27;d&#x27;</span>]</span><br><span class="line">Out[<span class="number">29</span>]: <span class="number">7</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">30</span>]: b[[<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;a&#x27;</span>]]</span><br><span class="line">Out[<span class="number">30</span>]: </span><br><span class="line">c    <span class="number">9</span></span><br><span class="line">d    <span class="number">7</span></span><br><span class="line">a    <span class="number">8</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">31</span>]: b[[<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="number">0</span>]]</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line"></span><br><span class="line">  Cell In[<span class="number">31</span>], line <span class="number">1</span></span><br><span class="line">    b[[<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="number">0</span>]]</span><br><span class="line"></span><br><span class="line">  File D:\anaconda3\lib\site-packages\pandas\core\indexes\base.py:<span class="number">5941</span> <span class="keyword">in</span> _raise_if_missing</span><br><span class="line">    <span class="keyword">raise</span> KeyError(<span class="string">f&quot;<span class="subst">&#123;not_found&#125;</span> not in index&quot;</span>)</span><br><span class="line"></span><br><span class="line">KeyError: <span class="string">&#x27;[0] not in index&#x27;</span></span><br></pre></td></tr></table></figure><h5 id="类似于ndarray的操作"><a href="#类似于ndarray的操作" class="headerlink" title="类似于ndarray的操作"></a>类似于ndarray的操作</h5><ul><li>索引方式都是 <code>[]</code></li><li>运算和操作可用于Series类型</li><li>可通过自定义索引的列表进行切片</li><li>可通过自动索引进行切片，若存在自定义索引，则一同被切片</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">32</span>]: b</span><br><span class="line">Out[<span class="number">32</span>]: </span><br><span class="line">c    <span class="number">9</span></span><br><span class="line">a    <span class="number">8</span></span><br><span class="line">d    <span class="number">7</span></span><br><span class="line">b    <span class="number">6</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">33</span>]: b[<span class="number">3</span>]</span><br><span class="line">Out[<span class="number">33</span>]: <span class="number">6</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">34</span>]: b[:<span class="number">3</span>]</span><br><span class="line">Out[<span class="number">34</span>]: </span><br><span class="line">c    <span class="number">9</span></span><br><span class="line">a    <span class="number">8</span></span><br><span class="line">d    <span class="number">7</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">35</span>]: b[b&gt;b.median()]</span><br><span class="line">Out[<span class="number">35</span>]: </span><br><span class="line">c    <span class="number">9</span></span><br><span class="line">a    <span class="number">8</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">36</span>]: np.exp(b)</span><br><span class="line">Out[<span class="number">36</span>]: </span><br><span class="line">c    <span class="number">8103.083928</span></span><br><span class="line">a    <span class="number">2980.957987</span></span><br><span class="line">d    <span class="number">1096.633158</span></span><br><span class="line">b     <span class="number">403.428793</span></span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure><h5 id="类似于字典的操作"><a href="#类似于字典的操作" class="headerlink" title="类似于字典的操作"></a>类似于字典的操作</h5><ul><li>通过自定义索引访问</li><li>保留字 <code>in</code> 操作：判断键是否在自定义索引列表中</li><li>使用 <code>.get(arg1,arg2)</code> 方法：根据arg1(键)提取值，若不存在则返回arg2</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">37</span>]: b</span><br><span class="line">Out[<span class="number">37</span>]: </span><br><span class="line">c    <span class="number">9</span></span><br><span class="line">a    <span class="number">8</span></span><br><span class="line">d    <span class="number">7</span></span><br><span class="line">b    <span class="number">6</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">38</span>]: b[<span class="string">&#x27;b&#x27;</span>]</span><br><span class="line">Out[<span class="number">38</span>]: <span class="number">6</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">39</span>]: <span class="string">&#x27;c&#x27;</span> <span class="keyword">in</span> b</span><br><span class="line">Out[<span class="number">39</span>]: <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">40</span>]: <span class="number">0</span> <span class="keyword">in</span> b</span><br><span class="line">Out[<span class="number">40</span>]: <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">41</span>]: b.get(<span class="string">&#x27;f&#x27;</span>,-<span class="number">1</span>)</span><br><span class="line">Out[<span class="number">41</span>]: -<span class="number">1</span></span><br></pre></td></tr></table></figure><h5 id="索引对齐操作"><a href="#索引对齐操作" class="headerlink" title="索引对齐操作"></a>索引对齐操作</h5><p>Series+Series：在运算过程中会自动对齐相同索引的数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">44</span>]: a = pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],index=[<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;e&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">45</span>]: b = pd.Series([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>],index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">46</span>]: a+b</span><br><span class="line">Out[<span class="number">46</span>]: </span><br><span class="line">a     NaN</span><br><span class="line">b    <span class="number">10.0</span></span><br><span class="line">c     <span class="number">8.0</span></span><br><span class="line">d     NaN</span><br><span class="line">e     NaN</span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure><h4 id="Series类型的name属性"><a href="#Series类型的name属性" class="headerlink" title="Series类型的name属性"></a>Series类型的name属性</h4><p>Series对象和索引都可以有一个名字，存在 <code>.name</code> 中</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">48</span>]: b.name=<span class="string">&#x27;Series对象&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">49</span>]: b.index.name=<span class="string">&#x27;索引名&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">50</span>]: b</span><br><span class="line">Out[<span class="number">50</span>]: </span><br><span class="line">索引名</span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">d    <span class="number">6</span></span><br><span class="line">Name: Series对象, dtype: int64</span><br></pre></td></tr></table></figure><h4 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h4><p>Series对象可以随时修改并即刻生效</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">51</span>]: b</span><br><span class="line">Out[<span class="number">51</span>]: </span><br><span class="line">索引名</span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">d    <span class="number">6</span></span><br><span class="line">Name: Series对象, dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">52</span>]: b.name=<span class="string">&#x27;New name&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">53</span>]: b</span><br><span class="line">Out[<span class="number">53</span>]: </span><br><span class="line">索引名</span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">d    <span class="number">6</span></span><br><span class="line">Name: New name, dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">54</span>]: b[<span class="string">&#x27;a&#x27;</span>]=<span class="number">10</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">55</span>]: b</span><br><span class="line">Out[<span class="number">55</span>]: </span><br><span class="line">索引名</span><br><span class="line">a    <span class="number">10</span></span><br><span class="line">b     <span class="number">8</span></span><br><span class="line">c     <span class="number">7</span></span><br><span class="line">d     <span class="number">6</span></span><br><span class="line">Name: New name, dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">57</span>]: b[[<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]]=<span class="number">20</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">58</span>]: b</span><br><span class="line">Out[<span class="number">58</span>]: </span><br><span class="line">索引名</span><br><span class="line">a    <span class="number">10</span></span><br><span class="line">b    <span class="number">20</span></span><br><span class="line">c    <span class="number">20</span></span><br><span class="line">d     <span class="number">6</span></span><br><span class="line">Name: New name, dtype: int64</span><br></pre></td></tr></table></figure><h3 id="4-1-2-DataFrame"><a href="#4-1-2-DataFrame" class="headerlink" title="4.1.2 DataFrame"></a>4.1.2 DataFrame</h3><p>DataFrame=行列索引+二维数据</p><blockquote><p>由共用相同索引的一组列组成，每列值类型可以不同</p></blockquote><p><img src="/posts/4103897705/image-20231221110113356.png" alt="image-20231221110113356"></p><h4 id="创建-1"><a href="#创建-1" class="headerlink" title="创建"></a>创建</h4><ul><li>二维ndarray对象</li><li>由一维ndarray、列表、字典、元组或Series构成的字典</li><li>Series类型</li><li>其他DataFrame类型</li></ul><h5 id="ndarray创建-1"><a href="#ndarray创建-1" class="headerlink" title="ndarray创建"></a>ndarray创建</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">61</span>]: d = pd.DataFrame(np.arange(<span class="number">10</span>).reshape(<span class="number">2</span>,<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">62</span>]: d</span><br><span class="line">Out[<span class="number">62</span>]: </span><br><span class="line">   <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span></span><br><span class="line"><span class="number">0</span>  <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span></span><br><span class="line"><span class="number">1</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span> </span><br></pre></td></tr></table></figure><p>生成自动行索引与自动列索引</p><h5 id="字典-Series创建"><a href="#字典-Series创建" class="headerlink" title="字典+Series创建"></a>字典+Series创建</h5><ul><li>将字典中的键转换为列索引，index为行索引</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">74</span>]: dct=&#123;<span class="string">&#x27;one&#x27;</span>:pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]),</span><br><span class="line">    ...: <span class="string">&#x27;two&#x27;</span>:pd.Series([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>],index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])&#125;</span><br><span class="line"></span><br><span class="line">In [<span class="number">75</span>]: d = pd.DataFrame(dct)</span><br><span class="line"></span><br><span class="line">In [<span class="number">76</span>]: d</span><br><span class="line">Out[<span class="number">76</span>]: </span><br><span class="line">   one  two<span class="comment">#列索引 columns</span></span><br><span class="line">a  <span class="number">1.0</span>    <span class="number">9</span></span><br><span class="line">b  <span class="number">2.0</span>    <span class="number">8</span></span><br><span class="line">c  <span class="number">3.0</span>    <span class="number">7</span></span><br><span class="line">d  NaN    <span class="number">6</span></span><br><span class="line"><span class="comment">#行索引index</span></span><br></pre></td></tr></table></figure><p>字典中数据根据行索引index和列索引columns自动补齐</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">79</span>]: pd.DataFrame(dct,index=[<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>],columns=[<span class="string">&#x27;two&#x27;</span>,<span class="string">&#x27;three&#x27;</span>])</span><br><span class="line">Out[<span class="number">79</span>]: </span><br><span class="line">   two three</span><br><span class="line">b    <span class="number">8</span>   NaN</span><br><span class="line">c    <span class="number">7</span>   NaN</span><br><span class="line">d    <span class="number">6</span>   NaN</span><br></pre></td></tr></table></figure><h5 id="字典-列表"><a href="#字典-列表" class="headerlink" title="字典+列表"></a>字典+列表</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">80</span>]: dl = &#123;<span class="string">&#x27;one&#x27;</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],<span class="string">&#x27;two&#x27;</span>:[<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>]&#125;</span><br><span class="line"></span><br><span class="line">In [<span class="number">81</span>]: d = pd.DataFrame(dl,index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">82</span>]: d</span><br><span class="line">Out[<span class="number">82</span>]: </span><br><span class="line">   one  two</span><br><span class="line">a    <span class="number">1</span>    <span class="number">9</span></span><br><span class="line">b    <span class="number">2</span>    <span class="number">8</span></span><br><span class="line">c    <span class="number">3</span>    <span class="number">7</span></span><br><span class="line">d    <span class="number">4</span>    <span class="number">6</span></span><br></pre></td></tr></table></figure><h4 id="基本操作-1"><a href="#基本操作-1" class="headerlink" title="基本操作"></a>基本操作</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">88</span>]: dl = &#123;<span class="string">&quot;环比&quot;</span>:[<span class="number">101.5</span>,<span class="number">101.2</span>,<span class="number">101.3</span>,<span class="number">102.0</span>,<span class="number">100.1</span>],</span><br><span class="line">    ...: <span class="string">&quot;同比&quot;</span>:[<span class="number">120.7</span>,<span class="number">127.3</span>,<span class="number">119.4</span>,<span class="number">140.9</span>,<span class="number">101.4</span>],</span><br><span class="line">    ...: <span class="string">&quot;定基&quot;</span>:[<span class="number">121.4</span>,<span class="number">127.8</span>,<span class="number">120.0</span>,<span class="number">145.5</span>,<span class="number">101.6</span>]&#125;</span><br><span class="line"></span><br><span class="line">In [<span class="number">89</span>]: d = pd.DataFrame(dl,index=[<span class="string">&quot;北京&quot;</span>,<span class="string">&quot;上海&quot;</span>,<span class="string">&quot;广州&quot;</span>,<span class="string">&quot;深圳&quot;</span>,<span class="string">&quot;沈阳&quot;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">90</span>]: d</span><br><span class="line">Out[<span class="number">90</span>]: </span><br><span class="line">       环比     同比     定基</span><br><span class="line">北京  <span class="number">101.5</span>  <span class="number">120.7</span>  <span class="number">121.4</span></span><br><span class="line">上海  <span class="number">101.2</span>  <span class="number">127.3</span>  <span class="number">127.8</span></span><br><span class="line">广州  <span class="number">101.3</span>  <span class="number">119.4</span>  <span class="number">120.0</span></span><br><span class="line">深圳  <span class="number">102.0</span>  <span class="number">140.9</span>  <span class="number">145.5</span></span><br><span class="line">沈阳  <span class="number">100.1</span>  <span class="number">101.4</span>  <span class="number">101.6</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">91</span>]: d.index</span><br><span class="line">Out[<span class="number">91</span>]: Index([<span class="string">&#x27;北京&#x27;</span>, <span class="string">&#x27;上海&#x27;</span>, <span class="string">&#x27;广州&#x27;</span>, <span class="string">&#x27;深圳&#x27;</span>, <span class="string">&#x27;沈阳&#x27;</span>], dtype=<span class="string">&#x27;object&#x27;</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">92</span>]: d.columns</span><br><span class="line">Out[<span class="number">92</span>]: Index([<span class="string">&#x27;环比&#x27;</span>, <span class="string">&#x27;同比&#x27;</span>, <span class="string">&#x27;定基&#x27;</span>], dtype=<span class="string">&#x27;object&#x27;</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">93</span>]: d.values</span><br><span class="line">Out[<span class="number">93</span>]: </span><br><span class="line">array([[<span class="number">101.5</span>, <span class="number">120.7</span>, <span class="number">121.4</span>],</span><br><span class="line">       [<span class="number">101.2</span>, <span class="number">127.3</span>, <span class="number">127.8</span>],</span><br><span class="line">       [<span class="number">101.3</span>, <span class="number">119.4</span>, <span class="number">120.</span> ],</span><br><span class="line">       [<span class="number">102.</span> , <span class="number">140.9</span>, <span class="number">145.5</span>],</span><br><span class="line">       [<span class="number">100.1</span>, <span class="number">101.4</span>, <span class="number">101.6</span>]])</span><br></pre></td></tr></table></figure><h5 id="索引获取数据"><a href="#索引获取数据" class="headerlink" title="索引获取数据"></a>索引获取数据</h5><p><code>DF.列索引</code> ：获取指定列数据</p><p><code>DF.行索引</code> ：获取指定行索引</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">114</span>]: d[<span class="string">&quot;同比&quot;</span>]</span><br><span class="line">Out[<span class="number">114</span>]: </span><br><span class="line">北京    <span class="number">120.7</span></span><br><span class="line">上海    <span class="number">127.3</span></span><br><span class="line">广州    <span class="number">119.4</span></span><br><span class="line">深圳    <span class="number">140.9</span></span><br><span class="line">沈阳    <span class="number">101.4</span></span><br><span class="line">Name: 同比, dtype: float64</span><br><span class="line"></span><br><span class="line">In [<span class="number">115</span>]: d.loc[<span class="string">&quot;上海&quot;</span>]</span><br><span class="line">Out[<span class="number">115</span>]: </span><br><span class="line">环比    <span class="number">101.2</span></span><br><span class="line">同比    <span class="number">127.3</span></span><br><span class="line">定基    <span class="number">127.8</span></span><br><span class="line">Name: 上海, dtype: float64</span><br><span class="line"></span><br><span class="line">In [<span class="number">116</span>]: d[<span class="string">&quot;同比&quot;</span>][<span class="string">&quot;上海&quot;</span>]</span><br><span class="line">Out[<span class="number">116</span>]: <span class="number">127.3</span></span><br></pre></td></tr></table></figure><p>DataFrame索引方式为，先通过列索引(键)获取某一列数据(某个Series)，再通过行索引(index)获取 Series 中的某个数据</p><h2 id="4-2-数据类型操作"><a href="#4-2-数据类型操作" class="headerlink" title="4.2 数据类型操作"></a>4.2 数据类型操作</h2><p>操作索引即操作数据</p><ul><li>重新索引：增加或重排索引 <code>obj.reindex()</code></li><li>数据删除：<code>drop</code></li><li>算术运算</li><li>比较运算</li></ul><h3 id="4-2-1-索引操作"><a href="#4-2-1-索引操作" class="headerlink" title="4.2.1 索引操作"></a>4.2.1 索引操作</h3><h4 id="重新索引"><a href="#重新索引" class="headerlink" title="重新索引"></a>重新索引</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">117</span>]: d</span><br><span class="line">Out[<span class="number">117</span>]: </span><br><span class="line">       环比     同比     定基</span><br><span class="line">北京  <span class="number">101.5</span>  <span class="number">120.7</span>  <span class="number">121.4</span></span><br><span class="line">上海  <span class="number">101.2</span>  <span class="number">127.3</span>  <span class="number">127.8</span></span><br><span class="line">广州  <span class="number">101.3</span>  <span class="number">119.4</span>  <span class="number">120.0</span></span><br><span class="line">深圳  <span class="number">102.0</span>  <span class="number">140.9</span>  <span class="number">145.5</span></span><br><span class="line">沈阳  <span class="number">100.1</span>  <span class="number">101.4</span>  <span class="number">101.6</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">118</span>]: d.reindex(index=[<span class="string">&#x27;上海&#x27;</span>,<span class="string">&#x27;广州&#x27;</span>,<span class="string">&#x27;北京&#x27;</span>,<span class="string">&#x27;深圳&#x27;</span>,<span class="string">&#x27;沈阳&#x27;</span>])</span><br><span class="line">Out[<span class="number">118</span>]: </span><br><span class="line">       环比     同比     定基</span><br><span class="line">上海  <span class="number">101.2</span>  <span class="number">127.3</span>  <span class="number">127.8</span></span><br><span class="line">广州  <span class="number">101.3</span>  <span class="number">119.4</span>  <span class="number">120.0</span></span><br><span class="line">北京  <span class="number">101.5</span>  <span class="number">120.7</span>  <span class="number">121.4</span></span><br><span class="line">深圳  <span class="number">102.0</span>  <span class="number">140.9</span>  <span class="number">145.5</span></span><br><span class="line">沈阳  <span class="number">100.1</span>  <span class="number">101.4</span>  <span class="number">101.6</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">119</span>]: d.reindex(columns=[<span class="string">&quot;同比&quot;</span>,<span class="string">&#x27;环比&#x27;</span>,<span class="string">&#x27;定基&#x27;</span>])</span><br><span class="line">Out[<span class="number">119</span>]: </span><br><span class="line">       同比     环比     定基</span><br><span class="line">北京  <span class="number">120.7</span>  <span class="number">101.5</span>  <span class="number">121.4</span></span><br><span class="line">上海  <span class="number">127.3</span>  <span class="number">101.2</span>  <span class="number">127.8</span></span><br><span class="line">广州  <span class="number">119.4</span>  <span class="number">101.3</span>  <span class="number">120.0</span></span><br><span class="line">深圳  <span class="number">140.9</span>  <span class="number">102.0</span>  <span class="number">145.5</span></span><br><span class="line">沈阳  <span class="number">101.4</span>  <span class="number">100.1</span>  <span class="number">101.6</span></span><br></pre></td></tr></table></figure><p><code>obj.reindex(index,columns,fill_value,method,limit,copy)</code></p><ul><li>index：重排后的行索引列表——Index类型</li><li>columns：重排后的列索引列表——Index类型</li><li>fill_value：填充缺失位置的值——int或int列表</li><li>method：”ffill”：当前值由前值填充，”bfill”：当前值由后值填充</li><li>limit：最大填充量</li><li>copy：默认True，生成新的对象；False，新旧相等不复制</li></ul><h4 id="索引类型操作"><a href="#索引类型操作" class="headerlink" title="索引类型操作"></a>索引类型操作</h4><p>DataFrame中的行索引和列索引类型都是 Index，Index对象是不可修改类型</p><div class="table-container"><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>idx.append(Index)</code></td><td>连接另一个Index对象，产生新的Index对象</td></tr><tr><td><code>idx.diff(Index)</code></td><td>计算差集，产生新的Index对象</td></tr><tr><td><code>idx.intersection(Index)</code></td><td>计算交集</td></tr><tr><td><code>idx.union(Index)</code></td><td>计算并集</td></tr><tr><td><code>idx.delete(loc)</code></td><td>删除loc位置的元素,loc：int或list of int</td></tr><tr><td><code>idx.insert(loc,e)</code></td><td>在loc位置插入一个元素e</td></tr></tbody></table></div><h5 id="插入新列"><a href="#插入新列" class="headerlink" title="插入新列"></a>插入新列</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">120</span>]: newc = d.columns.insert(<span class="number">3</span>,<span class="string">&quot;新增&quot;</span>) <span class="comment">#生成新的Series</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">123</span>]: newc</span><br><span class="line">Out[<span class="number">123</span>]: Index([<span class="string">&#x27;环比&#x27;</span>, <span class="string">&#x27;同比&#x27;</span>, <span class="string">&#x27;定基&#x27;</span>, <span class="string">&#x27;新增&#x27;</span>], dtype=<span class="string">&#x27;object&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">In [<span class="number">121</span>]: newd = d.reindex(columns=newc,fill_value=<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">122</span>]: newd</span><br><span class="line">Out[<span class="number">122</span>]: </span><br><span class="line">       环比     同比     定基   新增</span><br><span class="line">北京  <span class="number">101.5</span>  <span class="number">120.7</span>  <span class="number">121.4</span>  <span class="number">200</span></span><br><span class="line">上海  <span class="number">101.2</span>  <span class="number">127.3</span>  <span class="number">127.8</span>  <span class="number">200</span></span><br><span class="line">广州  <span class="number">101.3</span>  <span class="number">119.4</span>  <span class="number">120.0</span>  <span class="number">200</span></span><br><span class="line">深圳  <span class="number">102.0</span>  <span class="number">140.9</span>  <span class="number">145.5</span>  <span class="number">200</span></span><br><span class="line">沈阳  <span class="number">100.1</span>  <span class="number">101.4</span>  <span class="number">101.6</span>  <span class="number">200</span></span><br></pre></td></tr></table></figure><h5 id="删除列"><a href="#删除列" class="headerlink" title="删除列"></a>删除列</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">134</span>]: newd</span><br><span class="line">Out[<span class="number">134</span>]: </span><br><span class="line">       环比     同比     定基   新增</span><br><span class="line">北京  <span class="number">101.5</span>  <span class="number">120.7</span>  <span class="number">121.4</span>  <span class="number">200</span></span><br><span class="line">上海  <span class="number">101.2</span>  <span class="number">127.3</span>  <span class="number">127.8</span>  <span class="number">200</span></span><br><span class="line">广州  <span class="number">101.3</span>  <span class="number">119.4</span>  <span class="number">120.0</span>  <span class="number">200</span></span><br><span class="line">深圳  <span class="number">102.0</span>  <span class="number">140.9</span>  <span class="number">145.5</span>  <span class="number">200</span></span><br><span class="line">沈阳  <span class="number">100.1</span>  <span class="number">101.4</span>  <span class="number">101.6</span>  <span class="number">200</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">135</span>]: newd.columns.delete(<span class="number">3</span>)</span><br><span class="line">Out[<span class="number">135</span>]: Index([<span class="string">&#x27;环比&#x27;</span>, <span class="string">&#x27;同比&#x27;</span>, <span class="string">&#x27;定基&#x27;</span>], dtype=<span class="string">&#x27;object&#x27;</span>)</span><br></pre></td></tr></table></figure><h5 id="插入行"><a href="#插入行" class="headerlink" title="插入行"></a>插入行</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">165</span>]: newdf = newd.reindex(index=newd.index.insert(<span class="number">5</span>,<span class="string">&quot;newrow&quot;</span>),columns=newd.columns.delete(<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">166</span>]: newdf</span><br><span class="line">Out[<span class="number">166</span>]: </span><br><span class="line">           环比     定基     新增</span><br><span class="line">北京      <span class="number">101.5</span>  <span class="number">121.4</span>  <span class="number">200.0</span></span><br><span class="line">上海      <span class="number">101.2</span>  <span class="number">127.8</span>  <span class="number">200.0</span></span><br><span class="line">广州      <span class="number">101.3</span>  <span class="number">120.0</span>  <span class="number">200.0</span></span><br><span class="line">深圳      <span class="number">102.0</span>  <span class="number">145.5</span>  <span class="number">200.0</span></span><br><span class="line">沈阳      <span class="number">100.1</span>  <span class="number">101.6</span>  <span class="number">200.0</span></span><br><span class="line">newrow    NaN    NaN    NaN</span><br><span class="line"></span><br><span class="line">In [<span class="number">167</span>]: newdf.ffill()</span><br><span class="line">Out[<span class="number">167</span>]: </span><br><span class="line">           环比     定基     新增</span><br><span class="line">北京      <span class="number">101.5</span>  <span class="number">121.4</span>  <span class="number">200.0</span></span><br><span class="line">上海      <span class="number">101.2</span>  <span class="number">127.8</span>  <span class="number">200.0</span></span><br><span class="line">广州      <span class="number">101.3</span>  <span class="number">120.0</span>  <span class="number">200.0</span></span><br><span class="line">深圳      <span class="number">102.0</span>  <span class="number">145.5</span>  <span class="number">200.0</span></span><br><span class="line">沈阳      <span class="number">100.1</span>  <span class="number">101.6</span>  <span class="number">200.0</span></span><br><span class="line">newrow  <span class="number">100.1</span>  <span class="number">101.6</span>  <span class="number">200.0</span></span><br></pre></td></tr></table></figure><h5 id="drop"><a href="#drop" class="headerlink" title=".drop()"></a>.drop()</h5><p><code>.drop()</code> 删除Series和DataFrame指定行或列索引</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">172</span>]: a = pd.Series([<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>],index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">173</span>]: a</span><br><span class="line">Out[<span class="number">173</span>]: </span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">d    <span class="number">6</span></span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">In [<span class="number">174</span>]: a.drop([<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])</span><br><span class="line">Out[<span class="number">174</span>]: </span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">175</span>]: dl = &#123;<span class="string">&quot;环比&quot;</span>:[<span class="number">101.5</span>,<span class="number">101.2</span>,<span class="number">101.3</span>,<span class="number">102.0</span>,<span class="number">100.1</span>],</span><br><span class="line">     ...: <span class="string">&quot;同比&quot;</span>:[<span class="number">120.7</span>,<span class="number">127.3</span>,<span class="number">119.4</span>,<span class="number">140.9</span>,<span class="number">101.4</span>],</span><br><span class="line">     ...: <span class="string">&quot;定基&quot;</span>:[<span class="number">121.4</span>,<span class="number">127.8</span>,<span class="number">120.0</span>,<span class="number">145.5</span>,<span class="number">101.6</span>]&#125;</span><br><span class="line"></span><br><span class="line">In [<span class="number">176</span>]: d = pd.DataFrame(dl,index=[<span class="string">&quot;北京&quot;</span>,<span class="string">&quot;上海&quot;</span>,<span class="string">&quot;广州&quot;</span>,<span class="string">&quot;深圳&quot;</span>,<span class="string">&quot;沈阳&quot;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">177</span>]: d</span><br><span class="line">Out[<span class="number">177</span>]: </span><br><span class="line">       环比     同比     定基</span><br><span class="line">北京  <span class="number">101.5</span>  <span class="number">120.7</span>  <span class="number">121.4</span></span><br><span class="line">上海  <span class="number">101.2</span>  <span class="number">127.3</span>  <span class="number">127.8</span></span><br><span class="line">广州  <span class="number">101.3</span>  <span class="number">119.4</span>  <span class="number">120.0</span></span><br><span class="line">深圳  <span class="number">102.0</span>  <span class="number">140.9</span>  <span class="number">145.5</span></span><br><span class="line">沈阳  <span class="number">100.1</span>  <span class="number">101.4</span>  <span class="number">101.6</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">178</span>]: d.drop(<span class="string">&quot;北京&quot;</span>)</span><br><span class="line">Out[<span class="number">178</span>]: </span><br><span class="line">       环比     同比     定基</span><br><span class="line">上海  <span class="number">101.2</span>  <span class="number">127.3</span>  <span class="number">127.8</span></span><br><span class="line">广州  <span class="number">101.3</span>  <span class="number">119.4</span>  <span class="number">120.0</span></span><br><span class="line">深圳  <span class="number">102.0</span>  <span class="number">140.9</span>  <span class="number">145.5</span></span><br><span class="line">沈阳  <span class="number">100.1</span>  <span class="number">101.4</span>  <span class="number">101.6</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">179</span>]: d.drop(<span class="string">&quot;同比&quot;</span>,axis=<span class="number">1</span>) <span class="comment"># 删除键，则需要指定1轴</span></span><br><span class="line">Out[<span class="number">179</span>]: </span><br><span class="line">       环比     定基</span><br><span class="line">北京  <span class="number">101.5</span>  <span class="number">121.4</span></span><br><span class="line">上海  <span class="number">101.2</span>  <span class="number">127.8</span></span><br><span class="line">广州  <span class="number">101.3</span>  <span class="number">120.0</span></span><br><span class="line">深圳  <span class="number">102.0</span>  <span class="number">145.5</span></span><br><span class="line">沈阳  <span class="number">100.1</span>  <span class="number">101.6</span></span><br></pre></td></tr></table></figure><h3 id="4-2-2-数据类型运算"><a href="#4-2-2-数据类型运算" class="headerlink" title="4.2.2 数据类型运算"></a>4.2.2 数据类型运算</h3><h4 id="算术运算"><a href="#算术运算" class="headerlink" title="算术运算"></a>算术运算</h4><ul><li>同秩数据：先进行索引对齐(NaN填充)，对齐后相同行索引才进行运算，默认产生浮点数</li><li>异秩数据：广播运算，低维数据会作用到高维数据的每个元素上</li></ul><div class="table-container"><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>.add(d,fill_value,axis)</code></td><td>加法运算</td></tr><tr><td><code>.sub(d,**args)</code></td><td>减法运算</td></tr><tr><td><code>.mul(d,**args)</code></td><td>乘法运算</td></tr><tr><td><code>.div(d,**args)</code></td><td>除法运算</td></tr></tbody></table></div><h5 id="同秩运算"><a href="#同秩运算" class="headerlink" title="同秩运算"></a>同秩运算</h5><p>四则运算产生新的对象</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">183</span>]: a = pd.DataFrame(np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">184</span>]: a</span><br><span class="line">Out[<span class="number">184</span>]: </span><br><span class="line">   <span class="number">0</span>  <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"><span class="number">0</span>  <span class="number">0</span>  <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"><span class="number">1</span>  <span class="number">4</span>  <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span></span><br><span class="line"><span class="number">2</span>  <span class="number">8</span>  <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">185</span>]: b = pd.DataFrame(np.arange(<span class="number">20</span>).reshape(<span class="number">4</span>,<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">186</span>]: b</span><br><span class="line">Out[<span class="number">186</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">1</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line"><span class="number">2</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line"><span class="number">3</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">187</span>]: a+b</span><br><span class="line">Out[<span class="number">187</span>]: </span><br><span class="line">      <span class="number">0</span>     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">0</span>   <span class="number">0.0</span>   <span class="number">2.0</span>   <span class="number">4.0</span>   <span class="number">6.0</span> NaN</span><br><span class="line"><span class="number">1</span>   <span class="number">9.0</span>  <span class="number">11.0</span>  <span class="number">13.0</span>  <span class="number">15.0</span> NaN</span><br><span class="line"><span class="number">2</span>  <span class="number">18.0</span>  <span class="number">20.0</span>  <span class="number">22.0</span>  <span class="number">24.0</span> NaN</span><br><span class="line"><span class="number">3</span>   NaN   NaN   NaN   NaN NaN</span><br></pre></td></tr></table></figure><p><strong>同秩但维度不同，消除NaN</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">188</span>]:  b.add(a,fill_value=<span class="number">100</span>)</span><br><span class="line">Out[<span class="number">188</span>]: </span><br><span class="line">       <span class="number">0</span>      <span class="number">1</span>      <span class="number">2</span>      <span class="number">3</span>      <span class="number">4</span></span><br><span class="line"><span class="number">0</span>    <span class="number">0.0</span>    <span class="number">2.0</span>    <span class="number">4.0</span>    <span class="number">6.0</span>  <span class="number">104.0</span></span><br><span class="line"><span class="number">1</span>    <span class="number">9.0</span>   <span class="number">11.0</span>   <span class="number">13.0</span>   <span class="number">15.0</span>  <span class="number">109.0</span></span><br><span class="line"><span class="number">2</span>   <span class="number">18.0</span>   <span class="number">20.0</span>   <span class="number">22.0</span>   <span class="number">24.0</span>  <span class="number">114.0</span></span><br><span class="line"><span class="number">3</span>  <span class="number">115.0</span>  <span class="number">116.0</span>  <span class="number">117.0</span>  <span class="number">118.0</span>  <span class="number">119.0</span></span><br></pre></td></tr></table></figure><h5 id="异秩运算"><a href="#异秩运算" class="headerlink" title="异秩运算"></a>异秩运算</h5><p>需要调用函数进行四则运算</p><p>不同维度间广播运算，二维与一维的运算默认发生在1轴上</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">192</span>]: c = pd.Series(np.arange(<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">193</span>]: c</span><br><span class="line">Out[<span class="number">193</span>]: </span><br><span class="line"><span class="number">0</span>    <span class="number">0</span></span><br><span class="line"><span class="number">1</span>    <span class="number">1</span></span><br><span class="line"><span class="number">2</span>    <span class="number">2</span></span><br><span class="line"><span class="number">3</span>    <span class="number">3</span></span><br><span class="line">dtype: int32</span><br><span class="line"></span><br><span class="line">In [<span class="number">194</span>]: c-<span class="number">10</span></span><br><span class="line">Out[<span class="number">194</span>]: </span><br><span class="line"><span class="number">0</span>   -<span class="number">10</span></span><br><span class="line"><span class="number">1</span>    -<span class="number">9</span></span><br><span class="line"><span class="number">2</span>    -<span class="number">8</span></span><br><span class="line"><span class="number">3</span>    -<span class="number">7</span></span><br><span class="line">dtype: int32</span><br><span class="line"></span><br><span class="line">In [<span class="number">191</span>]: b</span><br><span class="line">Out[<span class="number">191</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">1</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line"><span class="number">2</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line"><span class="number">3</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line">    </span><br><span class="line">In [<span class="number">195</span>]: b-c</span><br><span class="line">Out[<span class="number">195</span>]: </span><br><span class="line">      <span class="number">0</span>     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">0</span>   <span class="number">0.0</span>   <span class="number">0.0</span>   <span class="number">0.0</span>   <span class="number">0.0</span> NaN</span><br><span class="line"><span class="number">1</span>   <span class="number">5.0</span>   <span class="number">5.0</span>   <span class="number">5.0</span>   <span class="number">5.0</span> NaN</span><br><span class="line"><span class="number">2</span>  <span class="number">10.0</span>  <span class="number">10.0</span>  <span class="number">10.0</span>  <span class="number">10.0</span> NaN</span><br><span class="line"><span class="number">3</span>  <span class="number">15.0</span>  <span class="number">15.0</span>  <span class="number">15.0</span>  <span class="number">15.0</span> NaN</span><br></pre></td></tr></table></figure><p>可以通过四则运算方法的 <code>axis</code> 指定参与运算的轴</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">196</span>]: b.sub(c,axis=<span class="number">0</span>)</span><br><span class="line">Out[<span class="number">196</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">0</span>   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"><span class="number">1</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span></span><br><span class="line"><span class="number">2</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span></span><br><span class="line"><span class="number">3</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span></span><br></pre></td></tr></table></figure><h4 id="比较运算"><a href="#比较运算" class="headerlink" title="比较运算"></a>比较运算</h4><p>只能比较相同索引的运算，不进行补齐，即必须是同尺寸比较</p><p>不同秩相同尺寸之间的运算为广播运算</p><p>采用 <code>&gt;,&lt;,&gt; =,&lt; =,! = ,==</code> 进行二元运算产生布尔对象</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">199</span>]: a</span><br><span class="line">Out[<span class="number">199</span>]: </span><br><span class="line">   <span class="number">0</span>  <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"><span class="number">0</span>  <span class="number">0</span>  <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"><span class="number">1</span>  <span class="number">4</span>  <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span></span><br><span class="line"><span class="number">2</span>  <span class="number">8</span>  <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">200</span>]: d = pd.DataFrame(np.arange(<span class="number">12</span>,<span class="number">0</span>,-<span class="number">1</span>).reshape(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">201</span>]: d</span><br><span class="line">Out[<span class="number">201</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>  <span class="number">3</span></span><br><span class="line"><span class="number">0</span>  <span class="number">12</span>  <span class="number">11</span>  <span class="number">10</span>  <span class="number">9</span></span><br><span class="line"><span class="number">1</span>   <span class="number">8</span>   <span class="number">7</span>   <span class="number">6</span>  <span class="number">5</span></span><br><span class="line"><span class="number">2</span>   <span class="number">4</span>   <span class="number">3</span>   <span class="number">2</span>  <span class="number">1</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">202</span>]: a &gt; d</span><br><span class="line">Out[<span class="number">202</span>]: </span><br><span class="line">       <span class="number">0</span>      <span class="number">1</span>      <span class="number">2</span>      <span class="number">3</span></span><br><span class="line"><span class="number">0</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span></span><br><span class="line"><span class="number">1</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span>   <span class="literal">True</span></span><br><span class="line"><span class="number">2</span>   <span class="literal">True</span>   <span class="literal">True</span>   <span class="literal">True</span>   <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">203</span>]: a == d</span><br><span class="line">Out[<span class="number">203</span>]: </span><br><span class="line">       <span class="number">0</span>      <span class="number">1</span>      <span class="number">2</span>      <span class="number">3</span></span><br><span class="line"><span class="number">0</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span></span><br><span class="line"><span class="number">1</span>  <span class="literal">False</span>  <span class="literal">False</span>   <span class="literal">True</span>  <span class="literal">False</span></span><br><span class="line"><span class="number">2</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span></span><br></pre></td></tr></table></figure><h5 id="已秩同尺寸"><a href="#已秩同尺寸" class="headerlink" title="已秩同尺寸"></a>已秩同尺寸</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">204</span>]: a</span><br><span class="line">Out[<span class="number">204</span>]: </span><br><span class="line">   <span class="number">0</span>  <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"><span class="number">0</span>  <span class="number">0</span>  <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"><span class="number">1</span>  <span class="number">4</span>  <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span></span><br><span class="line"><span class="number">2</span>  <span class="number">8</span>  <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">205</span>]: c = pd.Series(np.arange(<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">206</span>]: c</span><br><span class="line">Out[<span class="number">206</span>]: </span><br><span class="line"><span class="number">0</span>    <span class="number">0</span></span><br><span class="line"><span class="number">1</span>    <span class="number">1</span></span><br><span class="line"><span class="number">2</span>    <span class="number">2</span></span><br><span class="line"><span class="number">3</span>    <span class="number">3</span></span><br><span class="line">dtype: int32</span><br><span class="line"></span><br><span class="line">In [<span class="number">207</span>]: a &gt; c</span><br><span class="line">Out[<span class="number">207</span>]: </span><br><span class="line">       <span class="number">0</span>      <span class="number">1</span>      <span class="number">2</span>      <span class="number">3</span></span><br><span class="line"><span class="number">0</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span>  <span class="literal">False</span></span><br><span class="line"><span class="number">1</span>   <span class="literal">True</span>   <span class="literal">True</span>   <span class="literal">True</span>   <span class="literal">True</span></span><br><span class="line"><span class="number">2</span>   <span class="literal">True</span>   <span class="literal">True</span>   <span class="literal">True</span>   <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">208</span>]: c &gt; <span class="number">0</span></span><br><span class="line">Out[<span class="number">208</span>]: </span><br><span class="line"><span class="number">0</span>    <span class="literal">False</span></span><br><span class="line"><span class="number">1</span>     <span class="literal">True</span></span><br><span class="line"><span class="number">2</span>     <span class="literal">True</span></span><br><span class="line"><span class="number">3</span>     <span class="literal">True</span></span><br><span class="line">dtype: <span class="built_in">bool</span></span><br></pre></td></tr></table></figure><h2 id="4-3-数据操作"><a href="#4-3-数据操作" class="headerlink" title="4.3 数据操作"></a>4.3 数据操作</h2><h3 id="4-3-1-数据排序"><a href="#4-3-1-数据排序" class="headerlink" title="4.3.1 数据排序"></a>4.3.1 数据排序</h3><ul><li>索引排序</li><li>值排序</li></ul><h4 id="索引排序"><a href="#索引排序" class="headerlink" title="索引排序"></a>索引排序</h4><p><code>obj.sort_index(axis=,ascending=True)</code> 在指定轴上进行排序，默认升序</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">212</span>]: b = pd.DataFrame(np.arange(<span class="number">20</span>).reshape(<span class="number">4</span>,<span class="number">5</span>),index=[<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">213</span>]: b</span><br><span class="line">Out[<span class="number">213</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line">b  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line">d  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">214</span>]: b.sort_index()</span><br><span class="line">Out[<span class="number">214</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line">b  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">d  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">215</span>]: b.sort_index(ascending=<span class="literal">False</span>)</span><br><span class="line">Out[<span class="number">215</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">d  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">b  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">216</span>]: b.sort_index(axis=<span class="number">1</span>,ascending=<span class="literal">False</span>)</span><br><span class="line">Out[<span class="number">216</span>]: </span><br><span class="line">    <span class="number">4</span>   <span class="number">3</span>   <span class="number">2</span>   <span class="number">1</span>   <span class="number">0</span></span><br><span class="line">c   <span class="number">4</span>   <span class="number">3</span>   <span class="number">2</span>   <span class="number">1</span>   <span class="number">0</span></span><br><span class="line">a   <span class="number">9</span>   <span class="number">8</span>   <span class="number">7</span>   <span class="number">6</span>   <span class="number">5</span></span><br><span class="line">b  <span class="number">14</span>  <span class="number">13</span>  <span class="number">12</span>  <span class="number">11</span>  <span class="number">10</span></span><br><span class="line">d  <span class="number">19</span>  <span class="number">18</span>  <span class="number">17</span>  <span class="number">16</span>  <span class="number">15</span></span><br></pre></td></tr></table></figure><h4 id="值排序"><a href="#值排序" class="headerlink" title="值排序"></a>值排序</h4><p><code>Series.sort_values(axis=0,ascending=True)</code> 指定轴上的数据，默认对0轴元素升序</p><p><code>DataFrame.sort_values(by,axis=0,ascending=Trye)</code> 指定键上0轴升序排序</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">217</span>]: b</span><br><span class="line">Out[<span class="number">217</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line">b  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line">d  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">218</span>]: b.sort_values(<span class="number">2</span>,ascending=<span class="literal">False</span>)</span><br><span class="line">Out[<span class="number">218</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">d  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line">b  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">219</span>]: b.sort_values(<span class="string">&#x27;a&#x27;</span>,axis=<span class="number">1</span>,ascending=<span class="literal">False</span>)</span><br><span class="line">Out[<span class="number">219</span>]: </span><br><span class="line">    <span class="number">4</span>   <span class="number">3</span>   <span class="number">2</span>   <span class="number">1</span>   <span class="number">0</span></span><br><span class="line">c   <span class="number">4</span>   <span class="number">3</span>   <span class="number">2</span>   <span class="number">1</span>   <span class="number">0</span></span><br><span class="line">a   <span class="number">9</span>   <span class="number">8</span>   <span class="number">7</span>   <span class="number">6</span>   <span class="number">5</span></span><br><span class="line">b  <span class="number">14</span>  <span class="number">13</span>  <span class="number">12</span>  <span class="number">11</span>  <span class="number">10</span></span><br><span class="line">d  <span class="number">19</span>  <span class="number">18</span>  <span class="number">17</span>  <span class="number">16</span>  <span class="number">15</span></span><br></pre></td></tr></table></figure><p><strong>NaN统一放在排序末尾</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">227</span>]: b</span><br><span class="line">Out[<span class="number">227</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line">b  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line">d  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">228</span>]: a = pd.DataFrame(np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>),index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">229</span>]: c = a+b</span><br><span class="line"></span><br><span class="line">In [<span class="number">230</span>]: c</span><br><span class="line">Out[<span class="number">230</span>]: </span><br><span class="line">      <span class="number">0</span>     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">a   <span class="number">5.0</span>   <span class="number">7.0</span>   <span class="number">9.0</span>  <span class="number">11.0</span> NaN</span><br><span class="line">b  <span class="number">14.0</span>  <span class="number">16.0</span>  <span class="number">18.0</span>  <span class="number">20.0</span> NaN</span><br><span class="line">c   <span class="number">8.0</span>  <span class="number">10.0</span>  <span class="number">12.0</span>  <span class="number">14.0</span> NaN</span><br><span class="line">d   NaN   NaN   NaN   NaN NaN</span><br><span class="line"></span><br><span class="line">In [<span class="number">231</span>]: c.sort_values(<span class="number">2</span>,ascending=<span class="literal">False</span>)</span><br><span class="line">Out[<span class="number">231</span>]: </span><br><span class="line">      <span class="number">0</span>     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">b  <span class="number">14.0</span>  <span class="number">16.0</span>  <span class="number">18.0</span>  <span class="number">20.0</span> NaN</span><br><span class="line">c   <span class="number">8.0</span>  <span class="number">10.0</span>  <span class="number">12.0</span>  <span class="number">14.0</span> NaN</span><br><span class="line">a   <span class="number">5.0</span>   <span class="number">7.0</span>   <span class="number">9.0</span>  <span class="number">11.0</span> NaN</span><br><span class="line">d   NaN   NaN   NaN   NaN NaN</span><br><span class="line"></span><br><span class="line">In [<span class="number">232</span>]: c.sort_values(<span class="string">&#x27;a&#x27;</span>,axis=<span class="number">1</span>,ascending=<span class="literal">False</span>)</span><br><span class="line">Out[<span class="number">232</span>]: </span><br><span class="line">      <span class="number">3</span>     <span class="number">2</span>     <span class="number">1</span>     <span class="number">0</span>   <span class="number">4</span></span><br><span class="line">a  <span class="number">11.0</span>   <span class="number">9.0</span>   <span class="number">7.0</span>   <span class="number">5.0</span> NaN</span><br><span class="line">b  <span class="number">20.0</span>  <span class="number">18.0</span>  <span class="number">16.0</span>  <span class="number">14.0</span> NaN</span><br><span class="line">c  <span class="number">14.0</span>  <span class="number">12.0</span>  <span class="number">10.0</span>   <span class="number">8.0</span> NaN</span><br><span class="line">d   NaN   NaN   NaN   NaN NaN</span><br></pre></td></tr></table></figure><h3 id="4-3-2-基本统计分析"><a href="#4-3-2-基本统计分析" class="headerlink" title="4.3.2 基本统计分析"></a>4.3.2 基本统计分析</h3><h4 id="基本统计方法"><a href="#基本统计方法" class="headerlink" title="基本统计方法"></a>基本统计方法</h4><div class="table-container"><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>.sum()</code></td><td>计算数据的总和，按0轴算</td></tr><tr><td><code>.count()</code></td><td>非NaN值的数量</td></tr><tr><td><code>.mean()</code> <code>.median()</code></td><td>计算数据的算术平均值、算术中位数</td></tr><tr><td><code>.var()</code> <code>.std()</code></td><td>计算数据的方差、标准差</td></tr><tr><td><code>.min()</code> <code>.max()</code></td><td>计算数据的最小值、最大值</td></tr></tbody></table></div><p><code>.describe()</code> ：针对0轴的统计信息汇总</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">237</span>]: a = pd.Series(np.arange(<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">238</span>]: a.describe()</span><br><span class="line">Out[<span class="number">238</span>]: </span><br><span class="line">count    <span class="number">4.000000</span></span><br><span class="line">mean     <span class="number">1.500000</span></span><br><span class="line">std      <span class="number">1.290994</span></span><br><span class="line"><span class="built_in">min</span>      <span class="number">0.000000</span></span><br><span class="line"><span class="number">25</span>%      <span class="number">0.750000</span></span><br><span class="line"><span class="number">50</span>%      <span class="number">1.500000</span></span><br><span class="line"><span class="number">75</span>%      <span class="number">2.250000</span></span><br><span class="line"><span class="built_in">max</span>      <span class="number">3.000000</span></span><br><span class="line">dtype: float64</span><br><span class="line"></span><br><span class="line">In [<span class="number">239</span>]: <span class="built_in">type</span>(a.describe())</span><br><span class="line">Out[<span class="number">239</span>]: pandas.core.series.Series</span><br><span class="line"></span><br><span class="line">In [<span class="number">240</span>]: a.describe()[<span class="string">&#x27;count&#x27;</span>]</span><br><span class="line">Out[<span class="number">240</span>]: <span class="number">4.0</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">241</span>]: a.describe()[<span class="string">&#x27;max&#x27;</span>]</span><br><span class="line">Out[<span class="number">241</span>]: <span class="number">3.0</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">234</span>]: b</span><br><span class="line">Out[<span class="number">234</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line">b  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line">d  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">235</span>]: b.describe()</span><br><span class="line">Out[<span class="number">235</span>]: </span><br><span class="line">               <span class="number">0</span>          <span class="number">1</span>          <span class="number">2</span>          <span class="number">3</span>          <span class="number">4</span></span><br><span class="line">count   <span class="number">4.000000</span>   <span class="number">4.000000</span>   <span class="number">4.000000</span>   <span class="number">4.000000</span>   <span class="number">4.000000</span></span><br><span class="line">mean    <span class="number">7.500000</span>   <span class="number">8.500000</span>   <span class="number">9.500000</span>  <span class="number">10.500000</span>  <span class="number">11.500000</span></span><br><span class="line">std     <span class="number">6.454972</span>   <span class="number">6.454972</span>   <span class="number">6.454972</span>   <span class="number">6.454972</span>   <span class="number">6.454972</span></span><br><span class="line"><span class="built_in">min</span>     <span class="number">0.000000</span>   <span class="number">1.000000</span>   <span class="number">2.000000</span>   <span class="number">3.000000</span>   <span class="number">4.000000</span></span><br><span class="line"><span class="number">25</span>%     <span class="number">3.750000</span>   <span class="number">4.750000</span>   <span class="number">5.750000</span>   <span class="number">6.750000</span>   <span class="number">7.750000</span></span><br><span class="line"><span class="number">50</span>%     <span class="number">7.500000</span>   <span class="number">8.500000</span>   <span class="number">9.500000</span>  <span class="number">10.500000</span>  <span class="number">11.500000</span></span><br><span class="line"><span class="number">75</span>%    <span class="number">11.250000</span>  <span class="number">12.250000</span>  <span class="number">13.250000</span>  <span class="number">14.250000</span>  <span class="number">15.250000</span></span><br><span class="line"><span class="built_in">max</span>    <span class="number">15.000000</span>  <span class="number">16.000000</span>  <span class="number">17.000000</span>  <span class="number">18.000000</span>  <span class="number">19.000000</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">243</span>]: b.describe().loc[<span class="string">&#x27;max&#x27;</span>]</span><br><span class="line">Out[<span class="number">243</span>]: </span><br><span class="line"><span class="number">0</span>    <span class="number">15.0</span></span><br><span class="line"><span class="number">1</span>    <span class="number">16.0</span></span><br><span class="line"><span class="number">2</span>    <span class="number">17.0</span></span><br><span class="line"><span class="number">3</span>    <span class="number">18.0</span></span><br><span class="line"><span class="number">4</span>    <span class="number">19.0</span></span><br><span class="line">Name: <span class="built_in">max</span>, dtype: float64</span><br><span class="line"></span><br><span class="line">In [<span class="number">244</span>]: b.describe()[<span class="number">2</span>]</span><br><span class="line">Out[<span class="number">244</span>]: </span><br><span class="line">count     <span class="number">4.000000</span></span><br><span class="line">mean      <span class="number">9.500000</span></span><br><span class="line">std       <span class="number">6.454972</span></span><br><span class="line"><span class="built_in">min</span>       <span class="number">2.000000</span></span><br><span class="line"><span class="number">25</span>%       <span class="number">5.750000</span></span><br><span class="line"><span class="number">50</span>%       <span class="number">9.500000</span></span><br><span class="line"><span class="number">75</span>%      <span class="number">13.250000</span></span><br><span class="line"><span class="built_in">max</span>      <span class="number">17.000000</span></span><br><span class="line">Name: <span class="number">2</span>, dtype: float64</span><br></pre></td></tr></table></figure><h4 id="适用于Series类型"><a href="#适用于Series类型" class="headerlink" title="适用于Series类型"></a>适用于Series类型</h4><div class="table-container"><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>.argmin()</code> <code>.argmax()</code></td><td>计算数据最大值、最小值所在位置的索引(自动索引)</td></tr><tr><td><code>.idxmin()</code> <code>.idxmax()</code></td><td>计算数据最大值、最小值所在位置的索引（自定义索引）</td></tr></tbody></table></div><h3 id="4-3-3-累计统计分析"><a href="#4-3-3-累计统计分析" class="headerlink" title="4.3.3 累计统计分析"></a>4.3.3 累计统计分析</h3><h4 id="基本方法"><a href="#基本方法" class="headerlink" title="基本方法"></a>基本方法</h4><div class="table-container"><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>.cumsum()</code></td><td>累加和</td></tr><tr><td><code>.cumprod()</code></td><td>累计乘</td></tr><tr><td><code>.cummax()</code></td><td>累计最大值</td></tr><tr><td><code>.cummin()</code></td><td>累计最小值</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">245</span>]: b</span><br><span class="line">Out[<span class="number">245</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line">b  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line">d  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">246</span>]: b.cumsum()</span><br><span class="line">Out[<span class="number">246</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">7</span>   <span class="number">9</span>  <span class="number">11</span>  <span class="number">13</span></span><br><span class="line">b  <span class="number">15</span>  <span class="number">18</span>  <span class="number">21</span>  <span class="number">24</span>  <span class="number">27</span></span><br><span class="line">d  <span class="number">30</span>  <span class="number">34</span>  <span class="number">38</span>  <span class="number">42</span>  <span class="number">46</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">247</span>]: b.cumprod()</span><br><span class="line">Out[<span class="number">247</span>]: </span><br><span class="line">   <span class="number">0</span>     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>     <span class="number">4</span></span><br><span class="line">c  <span class="number">0</span>     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>     <span class="number">4</span></span><br><span class="line">a  <span class="number">0</span>     <span class="number">6</span>    <span class="number">14</span>    <span class="number">24</span>    <span class="number">36</span></span><br><span class="line">b  <span class="number">0</span>    <span class="number">66</span>   <span class="number">168</span>   <span class="number">312</span>   <span class="number">504</span></span><br><span class="line">d  <span class="number">0</span>  <span class="number">1056</span>  <span class="number">2856</span>  <span class="number">5616</span>  <span class="number">9576</span></span><br></pre></td></tr></table></figure><h4 id="滚动计算"><a href="#滚动计算" class="headerlink" title="滚动计算"></a>滚动计算</h4><div class="table-container"><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>.rolling(w).sum()</code></td><td>依次计算相邻w个元素的和</td></tr><tr><td><code>.rolling(w).mean()</code></td><td>依次计算相邻w个元素的平均值</td></tr><tr><td><code>.rolling(w).var()</code></td><td>依次计算相邻w个元素的方差</td></tr><tr><td><code>.rolling(w).std()</code></td><td>依次计算相邻w个元素的标准差</td></tr><tr><td><code>.rolling(w).min() .max()</code></td><td>依次计算相邻w个元素的最大值和最小值</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">248</span>]: b</span><br><span class="line">Out[<span class="number">248</span>]: </span><br><span class="line">    <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">c   <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line">a   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span></span><br><span class="line">b  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span></span><br><span class="line">d  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">249</span>]: b.rolling(<span class="number">2</span>).<span class="built_in">sum</span>()</span><br><span class="line">Out[<span class="number">249</span>]: </span><br><span class="line">      <span class="number">0</span>     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>     <span class="number">4</span></span><br><span class="line">c   NaN   NaN   NaN   NaN   NaN</span><br><span class="line">a   <span class="number">5.0</span>   <span class="number">7.0</span>   <span class="number">9.0</span>  <span class="number">11.0</span>  <span class="number">13.0</span></span><br><span class="line">b  <span class="number">15.0</span>  <span class="number">17.0</span>  <span class="number">19.0</span>  <span class="number">21.0</span>  <span class="number">23.0</span></span><br><span class="line">d  <span class="number">25.0</span>  <span class="number">27.0</span>  <span class="number">29.0</span>  <span class="number">31.0</span>  <span class="number">33.0</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">251</span>]: b.rolling(<span class="number">3</span>).<span class="built_in">max</span>()</span><br><span class="line">Out[<span class="number">251</span>]: </span><br><span class="line">      <span class="number">0</span>     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span>     <span class="number">4</span></span><br><span class="line">c   NaN   NaN   NaN   NaN   NaN</span><br><span class="line">a   NaN   NaN   NaN   NaN   NaN</span><br><span class="line">b  <span class="number">10.0</span>  <span class="number">11.0</span>  <span class="number">12.0</span>  <span class="number">13.0</span>  <span class="number">14.0</span></span><br><span class="line">d  <span class="number">15.0</span>  <span class="number">16.0</span>  <span class="number">17.0</span>  <span class="number">18.0</span>  <span class="number">19.0</span></span><br></pre></td></tr></table></figure><h3 id="4-3-4-数据相关分析"><a href="#4-3-4-数据相关分析" class="headerlink" title="4.3.4 数据相关分析"></a>4.3.4 数据相关分析</h3><h4 id="相关性"><a href="#相关性" class="headerlink" title="相关性"></a>相关性</h4><ul><li>正相关</li><li>负相关</li><li>不相关</li></ul><p>协方差判断相关性</p><script type="math/tex;mode=display">cov(X,Y)=\frac{\sum\limits_{i=1}^n\left(X_i-\overline{X}\right)\left(Y_i-\overline{Y}\right)}{n-1}</script><ul><li>$cov(X,Y)&gt;0$ ，X和Y正相关</li><li>$cov(X,Y)&lt;0$ ，X和Y负相关</li><li>$cov(X,Y)=0$ ，X和Y独立无关</li></ul><p>皮尔森系数判断相关性</p><script type="math/tex;mode=display">r=\frac{\sum\limits_{i=1}^n\left(X_i-\overline{X}\right)\left(Y_i-\overline{Y}\right)}{\sqrt{\sum\limits_{i=1}^n\left(X_i-\overline{X}\right)^2}\sqrt{\sum\limits_{i=1}^n\left(Y_i-\overline{Y}\right)^2}}\in[-1,1]</script><ul><li>$r\in(0.8,1.0)$ 极强相关</li><li>$r\in(0.6,0.8)$ 强相关</li><li>$r\in (0.4,0.6)$ 中等相关</li><li>$r\in (0.2,0.4)$ 弱相关</li><li>$r\in(0,0.2)$ 极弱相关或无关</li></ul><div class="table-container"><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>obj1.cov(obj2)</code></td><td>计算协方差</td></tr><tr><td><code>obj1.corr(obj2)</code></td><td>计算相关系数矩阵，Pearson、Spearman、Kendall等系数</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">253</span>]: hprice = pd.Series([<span class="number">3.04</span>,<span class="number">22.93</span>,<span class="number">12.75</span>,<span class="number">22.6</span>,<span class="number">12.33</span>],index=[<span class="string">&#x27;2008&#x27;</span>,<span class="string">&#x27;2009&#x27;</span>,<span class="string">&#x27;2010&#x27;</span>,<span class="string">&#x27;2011&#x27;</span>,<span class="string">&#x27;2012&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">254</span>]: m2 = pd.Series([<span class="number">8.18</span>,<span class="number">18.38</span>,<span class="number">9.13</span>,<span class="number">7.82</span>,<span class="number">6.69</span>],index=[<span class="string">&#x27;2008&#x27;</span>,<span class="string">&#x27;2009&#x27;</span>,<span class="string">&#x27;2010&#x27;</span>,<span class="string">&#x27;2011&#x27;</span>,<span class="string">&#x27;2012&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">255</span>]: hprice.corr(m2)</span><br><span class="line">Out[<span class="number">255</span>]: <span class="number">0.5239439145220387</span></span><br></pre></td></tr></table></figure></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------<i class="fa fa-hand-peace-o"></i>本文结束-------------</div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者 </strong>AmosTian</li><li class="post-copyright-link"><strong>本文链接 </strong><a href="https://amostian.github.io/posts/4103897705/" title="Python数据分析">https://amostian.github.io/posts/4103897705/</a></li><li class="post-copyright-license"><strong>版权声明 </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" rel="tag"><i class="fa fa-tags"></i> 编程语言</a> <a href="/tags/%E8%A7%A3%E9%87%8A%E5%9E%8B%E8%AF%AD%E8%A8%80/" rel="tag"><i class="fa fa-tags"></i> 解释型语言</a> <a href="/tags/Python/" rel="tag"><i class="fa fa-tags"></i> Python</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" rel="tag"><i class="fa fa-tags"></i> 数据分析</a></div><div class="post-nav"><div class="post-nav-item"><a href="/posts/1911354760/" rel="prev" title="0. 存储绪论"><i class="fa fa-chevron-left"></i> 0. 存储绪论</a></div><div class="post-nav-item"><a href="/posts/2520454134/" rel="next" title="强化学习——蘑菇书">强化学习——蘑菇书 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-%E7%BB%AA%E8%AE%BA"><span class="nav-text">1. 绪论</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7"><span class="nav-text">1.1 开发工具</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-1-Anaconda"><span class="nav-text">1.1.1 Anaconda</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#conda"><span class="nav-text">conda</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#anaconda"><span class="nav-text">anaconda</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%A4%E4%BA%92%E5%BC%8F%E5%B7%A5%E5%85%B7"><span class="nav-text">交互式工具</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Spyder"><span class="nav-text">Spyder</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#jupyter-notebook"><span class="nav-text">jupyter notebook</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-Numpy"><span class="nav-text">2. Numpy</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-NumPy%E5%8C%85%E5%AF%BC%E5%85%A5"><span class="nav-text">2.1 NumPy包导入</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-ndarray"><span class="nav-text">2.2 ndarray</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-1-ndarray%E8%AE%BE%E8%AE%A1%E9%9C%80%E6%B1%82"><span class="nav-text">2.2.1 ndarray设计需求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-2-ndarray%E4%BB%8B%E7%BB%8D"><span class="nav-text">2.2.2 ndarray介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%B4%E5%BA%A6"><span class="nav-text">数据维度</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%80%E7%BB%B4%E6%95%B0%E6%8D%AE"><span class="nav-text">一维数据</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BA%8C%E7%BB%B4%E6%95%B0%E6%8D%AE"><span class="nav-text">二维数据</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A4%9A%E7%BB%B4%E6%95%B0%E6%8D%AE"><span class="nav-text">多维数据</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#numpy%E8%BD%B4%E4%B8%8E%E7%BB%B4%E5%BA%A6"><span class="nav-text">numpy轴与维度</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-3-ndarray%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="nav-text">2.2.3 ndarray对象属性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ndarray%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">ndarray数据类型</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-4-ndarray%E5%88%9B%E5%BB%BA"><span class="nav-text">2.2.4 ndarray创建</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#np-array-%E5%88%9B%E5%BB%BA"><span class="nav-text">np.array()创建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#np-%E5%87%BD%E6%95%B0"><span class="nav-text">np.函数()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81-raw-bytes-%E5%88%9B%E5%BB%BA"><span class="nav-text">字节流(raw bytes)创建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E4%B8%AD%E8%AF%BB%E5%8F%96%E7%89%B9%E5%AE%9A%E6%A0%BC%E5%BC%8F%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84"><span class="nav-text">文件中读取特定格式创建数组</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-5-ndarray%E6%95%B0%E7%BB%84%E5%8F%98%E6%8D%A2"><span class="nav-text">2.2.5 ndarray数组变换</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E7%BB%B4%E5%BA%A6%E5%8F%98%E6%8D%A2"><span class="nav-text">数组维度变换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E7%B1%BB%E5%9E%8B%E5%8F%98%E6%8D%A2"><span class="nav-text">数组元素类型变换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E5%90%91%E5%88%97%E8%A1%A8%E8%BD%AC%E6%8D%A2"><span class="nav-text">数组向列表转换</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-6-ndarray%E6%95%B0%E7%BB%84%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="nav-text">2.2.6 ndarray数组的操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E7%9A%84%E7%B4%A2%E5%BC%95%E4%B8%8E%E5%88%87%E7%89%87"><span class="nav-text">数组的索引与切片</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E8%BF%90%E7%AE%97"><span class="nav-text">数组运算</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%80%90%E5%85%83%E7%B4%A0%E8%BF%90%E7%AE%97"><span class="nav-text">逐元素运算</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E4%B8%8E%E6%A0%87%E9%87%8F"><span class="nav-text">数组与标量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E9%97%B4%E8%BF%90%E7%AE%97"><span class="nav-text">数组间运算</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-%E6%96%87%E4%BB%B6%E4%B8%AD%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="nav-text">2.3 文件中读取数据</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-1-%E4%B8%80-%E4%BA%8C%E7%BB%B4%E6%95%B0%E6%8D%AE%E2%80%94%E2%80%94CSV%E6%96%87%E4%BB%B6"><span class="nav-text">2.3.1 一&#x2F;二维数据——CSV文件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%99%E5%85%A5csv%E6%96%87%E4%BB%B6"><span class="nav-text">写入csv文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%BB%E5%8F%96csv%E6%96%87%E4%BB%B6"><span class="nav-text">读取csv文件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-2-%E5%A4%9A%E7%BB%B4%E6%95%B0%E6%8D%AE"><span class="nav-text">2.3.2 多维数据</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6"><span class="nav-text">写入文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6"><span class="nav-text">读取文件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-3-NumPy%E4%BE%BF%E6%8D%B7%E6%96%87%E4%BB%B6%E5%AD%98%E5%8F%96"><span class="nav-text">2.3.3 NumPy便捷文件存取</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-NumPy%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0"><span class="nav-text">2.4 NumPy常用函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-1-%E9%9A%8F%E6%9C%BA%E6%95%B0%E7%94%9F%E6%88%90"><span class="nav-text">2.4.1 随机数生成</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-2-%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0"><span class="nav-text">2.4.2 统计函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-3-%E6%A2%AF%E5%BA%A6%E5%87%BD%E6%95%B0"><span class="nav-text">2.4.3 梯度函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-5-%E5%9B%BE%E5%83%8F%E4%B8%8Enumpy"><span class="nav-text">2.5 图像与numpy</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-1-%E5%9B%BE%E5%83%8F%E7%9A%84%E6%95%B0%E7%BB%84%E8%A1%A8%E7%A4%BA"><span class="nav-text">2.5.1 图像的数组表示</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#PIL%E5%BA%93"><span class="nav-text">PIL库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E7%9A%84%E6%95%B0%E7%BB%84%E8%A1%A8%E7%A4%BA"><span class="nav-text">图像的数组表示</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-2-%E5%9B%BE%E5%83%8F%E7%9A%84%E5%8F%98%E6%8D%A2"><span class="nav-text">2.5.2 图像的变换</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%81%B0%E5%BA%A6%E5%9B%BE%E5%8F%98%E6%8D%A2"><span class="nav-text">灰度图变换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%8B%E7%BB%98%E6%95%88%E6%9E%9C"><span class="nav-text">手绘效果</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-Matplotlib"><span class="nav-text">3. Matplotlib</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-%E4%BB%8B%E7%BB%8D"><span class="nav-text">3.1 介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-plot"><span class="nav-text">3.2 plot()</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-1-%E6%A0%BC%E5%BC%8F%E6%8E%A7%E5%88%B6%E7%AC%A6format-string"><span class="nav-text">3.2.1 格式控制符format_string</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%9C%E8%89%B2%E5%AD%97%E7%AC%A6"><span class="nav-text">颜色字符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%82%B9%E6%A0%87%E8%AE%B0"><span class="nav-text">点标记</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A3%8E%E6%A0%BC%E5%AD%97%E7%AC%A6"><span class="nav-text">风格字符</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-2-%E5%85%B6%E4%BB%96%E6%A0%BC%E5%BC%8F%E6%8E%A7%E5%88%B6%E7%AC%A6"><span class="nav-text">3.2.2 其他格式控制符</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-%E4%B8%AD%E6%96%87%E6%98%BE%E7%A4%BA"><span class="nav-text">3.3 中文显示</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-1-%E6%94%B9%E5%8F%98matplot%E7%9A%84%E5%85%A8%E5%B1%80%E5%AD%97%E4%BD%93"><span class="nav-text">3.3.1 改变matplot的全局字体</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#rcParams%E5%B1%9E%E6%80%A7"><span class="nav-text">rcParams属性</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AD%97%E4%BD%93%E5%A4%87%E9%80%89%E5%80%BC"><span class="nav-text">字体备选值</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-2-%E9%80%9A%E8%BF%87%E6%A0%87%E7%AD%BE%E7%9A%84%E5%B1%80%E9%83%A8%E5%B1%9E%E6%80%A7"><span class="nav-text">3.3.2 通过标签的局部属性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-%E6%96%87%E6%9C%AC%E6%98%BE%E7%A4%BA"><span class="nav-text">3.4 文本显示</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%A6%E7%AE%AD%E5%A4%B4%E6%B3%A8%E8%A7%A3"><span class="nav-text">带箭头注解</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-5-%E5%AD%90%E7%BB%98%E5%9B%BE%E5%8C%BA%E5%9F%9F"><span class="nav-text">3.5 子绘图区域</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-1-subplot"><span class="nav-text">3.5.1 subplot</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-2-subplot2grid"><span class="nav-text">3.5.2 subplot2grid</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-3-gridspec%E7%B1%BB"><span class="nav-text">3.5.3 gridspec类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-6-pyplot%E5%9B%BE%E8%A1%A8%E7%BB%98%E5%88%B6%E5%87%BD%E6%95%B0"><span class="nav-text">3.6 pyplot图表绘制函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-1-%E9%A5%BC%E5%9B%BE"><span class="nav-text">3.6.1 饼图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-2-%E7%9B%B4%E6%96%B9%E5%9B%BE"><span class="nav-text">3.6.2 直方图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-3-%E6%9E%81%E5%9D%90%E6%A0%87%E7%BB%98%E5%88%B6"><span class="nav-text">3.6.3 极坐标绘制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-4-%E6%95%A3%E7%82%B9%E5%9B%BE"><span class="nav-text">3.6.4 散点图</span></a></li></ol></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#4-pandas"><span class="nav-text">4. pandas</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">4.1 数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-1-Series%E7%B1%BB%E5%9E%8B"><span class="nav-text">4.1.1 Series类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA"><span class="nav-text">创建</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A0%87%E9%87%8F%E5%88%9B%E5%BB%BA"><span class="nav-text">标量创建</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AD%97%E5%85%B8%E5%88%9B%E5%BB%BA"><span class="nav-text">字典创建</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ndarray%E5%88%9B%E5%BB%BA"><span class="nav-text">ndarray创建</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="nav-text">基本操作</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%B1%BB%E4%BC%BC%E4%BA%8Endarray%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="nav-text">类似于ndarray的操作</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%B1%BB%E4%BC%BC%E4%BA%8E%E5%AD%97%E5%85%B8%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="nav-text">类似于字典的操作</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E5%AF%B9%E9%BD%90%E6%93%8D%E4%BD%9C"><span class="nav-text">索引对齐操作</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Series%E7%B1%BB%E5%9E%8B%E7%9A%84name%E5%B1%9E%E6%80%A7"><span class="nav-text">Series类型的name属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9"><span class="nav-text">修改</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-2-DataFrame"><span class="nav-text">4.1.2 DataFrame</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA-1"><span class="nav-text">创建</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#ndarray%E5%88%9B%E5%BB%BA-1"><span class="nav-text">ndarray创建</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AD%97%E5%85%B8-Series%E5%88%9B%E5%BB%BA"><span class="nav-text">字典+Series创建</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AD%97%E5%85%B8-%E5%88%97%E8%A1%A8"><span class="nav-text">字典+列表</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C-1"><span class="nav-text">基本操作</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="nav-text">索引获取数据</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%93%8D%E4%BD%9C"><span class="nav-text">4.2 数据类型操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-1-%E7%B4%A2%E5%BC%95%E6%93%8D%E4%BD%9C"><span class="nav-text">4.2.1 索引操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%87%8D%E6%96%B0%E7%B4%A2%E5%BC%95"><span class="nav-text">重新索引</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E7%B1%BB%E5%9E%8B%E6%93%8D%E4%BD%9C"><span class="nav-text">索引类型操作</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8F%92%E5%85%A5%E6%96%B0%E5%88%97"><span class="nav-text">插入新列</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E5%88%97"><span class="nav-text">删除列</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8F%92%E5%85%A5%E8%A1%8C"><span class="nav-text">插入行</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#drop"><span class="nav-text">.drop()</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BF%90%E7%AE%97"><span class="nav-text">4.2.2 数据类型运算</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97"><span class="nav-text">算术运算</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%90%8C%E7%A7%A9%E8%BF%90%E7%AE%97"><span class="nav-text">同秩运算</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%BC%82%E7%A7%A9%E8%BF%90%E7%AE%97"><span class="nav-text">异秩运算</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97"><span class="nav-text">比较运算</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B7%B2%E7%A7%A9%E5%90%8C%E5%B0%BA%E5%AF%B8"><span class="nav-text">已秩同尺寸</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C"><span class="nav-text">4.3 数据操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-1-%E6%95%B0%E6%8D%AE%E6%8E%92%E5%BA%8F"><span class="nav-text">4.3.1 数据排序</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E6%8E%92%E5%BA%8F"><span class="nav-text">索引排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%80%BC%E6%8E%92%E5%BA%8F"><span class="nav-text">值排序</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-2-%E5%9F%BA%E6%9C%AC%E7%BB%9F%E8%AE%A1%E5%88%86%E6%9E%90"><span class="nav-text">4.3.2 基本统计分析</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E7%BB%9F%E8%AE%A1%E6%96%B9%E6%B3%95"><span class="nav-text">基本统计方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%82%E7%94%A8%E4%BA%8ESeries%E7%B1%BB%E5%9E%8B"><span class="nav-text">适用于Series类型</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-3-%E7%B4%AF%E8%AE%A1%E7%BB%9F%E8%AE%A1%E5%88%86%E6%9E%90"><span class="nav-text">4.3.3 累计统计分析</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%96%B9%E6%B3%95"><span class="nav-text">基本方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%BB%9A%E5%8A%A8%E8%AE%A1%E7%AE%97"><span class="nav-text">滚动计算</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-4-%E6%95%B0%E6%8D%AE%E7%9B%B8%E5%85%B3%E5%88%86%E6%9E%90"><span class="nav-text">4.3.4 数据相关分析</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E6%80%A7"><span class="nav-text">相关性</span></a></li></ol></li></ol></li></ol></li></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="AmosTian" src="/images/avatar.png"><p class="site-author-name" itemprop="name">AmosTian</p><div class="site-description" itemprop="description">知道的越多，不知道的越多</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">349</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">58</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">74</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/AmosTian" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;AmosTian" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="https://blog.csdn.net/qq_40479037?type=blog" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_40479037?type&#x3D;blog" rel="noopener" target="_blank"><i class="fa fa-fw fa-crosshairs"></i>CSDN</a> </span><span class="links-of-author-item"><a href="mailto:17636679561@163.com" title="E-Mail → mailto:17636679561@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a></span></div></div><div id="days"></div><script>function show_date_time(){window.setTimeout("show_date_time()",1e3),BirthDay=new Date("01/27/2022 15:13:14"),today=new Date,timeold=today.getTime()-BirthDay.getTime(),sectimeold=timeold/1e3,secondsold=Math.floor(sectimeold),msPerDay=864e5,e_daysold=timeold/msPerDay,daysold=Math.floor(e_daysold),e_hrsold=24*(e_daysold-daysold),hrsold=setzero(Math.floor(e_hrsold)),e_minsold=60*(e_hrsold-hrsold),minsold=setzero(Math.floor(60*(e_hrsold-hrsold))),seconds=setzero(Math.floor(60*(e_minsold-minsold))),document.getElementById("days").innerHTML="已运行 "+daysold+" 天 "+hrsold+" 小时 "+minsold+" 分 "+seconds+" 秒"}function setzero(e){return e<10&&(e="0"+e),e}show_date_time()</script></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="fa fa-grav"></i> </span><span class="author" itemprop="copyrightHolder">AmosTian</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-area-chart"></i> </span><span class="post-meta-item-text">站点总字数 </span><span title="站点总字数">758.9k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span class="post-meta-item-text">站点阅读时长 &asymp;</span> <span title="站点阅读时长">31:46</span></div></div></footer></div><script color="0,0,0" opacity="0.5" zindex="-1" count="150" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="/js/local-search.js"></script><script>if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'neutral',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}</script><script>if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
          load: ['[tex]/mhchem'],
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }</script><script async src="/js/cursor/fireworks.js"></script><script src="/js/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!1,document.body.addEventListener("input",POWERMODE)</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,model:{jsonPath:"live2d-widget-model-hijiki"},display:{position:"right",width:150,height:300},mobile:{show:!1},log:!1})</script></body></html>