<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.1.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="mask-icon" href="/images/favicon.png" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comfortaa:300,300italic,400,400italic,700,700italic|Ma Shan Zheng:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css"><script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"amostian.github.io",root:"/",scheme:"Pisces",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!1,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="前置知识：ReactJS   AntdesignPro搭建后台信息管理系统 Semantic-UI前台 nodejs模拟前台后端，用于前后端分离开发 后端提供mock数据"><meta property="og:type" content="article"><meta property="og:title" content="毕设项目前端"><meta property="og:url" content="https://amostian.github.io/posts/951772556/index.html"><meta property="og:site_name" content="AmosTian"><meta property="og:description" content="前置知识：ReactJS   AntdesignPro搭建后台信息管理系统 Semantic-UI前台 nodejs模拟前台后端，用于前后端分离开发 后端提供mock数据"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://amostian.github.io/posts/951772556/image-20210310165845835-1615431921966.png"><meta property="og:image" content="https://amostian.github.io/posts/951772556/image-20210311110756416.png"><meta property="og:image" content="https://amostian.github.io/posts/951772556/image-20210311110825177.png"><meta property="og:image" content="https://amostian.github.io/posts/951772556/image-20210310212205902.png"><meta property="og:image" content="https://amostian.github.io/posts/951772556/image-20210310212337082.png"><meta property="og:image" content="https://amostian.github.io/posts/951772556/image-20210310212348756.png"><meta property="og:image" content="https://amostian.github.io/posts/951772556/image-20210311181502368.png"><meta property="og:image" content="https://amostian.github.io/posts/951772556/image-20210311194125616.png"><meta property="og:image" content="https://amostian.github.io/posts/951772556/image-20210311194218909.png"><meta property="og:image" content="https://amostian.github.io/posts/951772556/image-20210311194611172.png"><meta property="og:image" content="https://amostian.github.io/posts/951772556/image-20210323222323226.png"><meta property="og:image" content="https://amostian.github.io/posts/951772556/image-20210324120933746.png"><meta property="og:image" content="https://amostian.github.io/posts/951772556/image-20210324121216250.png"><meta property="og:image" content="https://amostian.github.io/posts/951772556/image-20210324154457849.png"><meta property="og:image" content="https://amostian.github.io/posts/951772556/image-20210324161006568.png"><meta property="og:image" content="https://amostian.github.io/posts/951772556/image-20210326122145653.png"><meta property="og:image" content="https://amostian.github.io/posts/951772556/image-20210326122106121.png"><meta property="article:published_time" content="2022-03-18T08:41:48.000Z"><meta property="article:modified_time" content="2022-04-01T07:52:18.000Z"><meta property="article:author" content="AmosTian"><meta property="article:tag" content="开发"><meta property="article:tag" content="Java项目"><meta property="article:tag" content="毕设项目"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://amostian.github.io/posts/951772556/image-20210310165845835-1615431921966.png"><link rel="canonical" href="https://amostian.github.io/posts/951772556/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>毕设项目前端 | AmosTian</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">AmosTian</h1><span class="logo-line-after"><i></i></span></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">66</span></a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">83</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">412</span></a></li><li class="menu-item menu-item-essay"><a href="/categories/%E9%9A%8F%E7%AC%94/" rel="section"><i class="fa fa-fw fa-pied-piper"></i>随笔</a></li><li class="menu-item menu-item-dynamic-resume"><a href="/dynamic-resume/" rel="section"><i class="fa fa-fw fa-cog"></i>动态简历</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a href="https://github.com/AmosTian" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://amostian.github.io/posts/951772556/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.png"><meta itemprop="name" content="AmosTian"><meta itemprop="description" content="知道的越多，不知道的越多"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="AmosTian"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">毕设项目前端</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间 2022-03-18 16:41:48" itemprop="dateCreated datePublished" datetime="2022-03-18T16:41:48+08:00">2022-03-18</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间 2022-04-01 15:52:18" itemprop="dateModified" datetime="2022-04-01T15:52:18+08:00">2022-04-01</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">开发</span></a> </span>> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%BC%80%E5%8F%91/Java%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">Java项目</span></a> </span>> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%BC%80%E5%8F%91/Java%E9%A1%B9%E7%9B%AE/%E6%AF%95%E8%AE%BE%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">毕设项目</span></a></span></span><div class="post-symbolscount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">本文字数 </span><span title="本文字数">4.8k字 </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>18 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><blockquote><p>前置知识：<a href="https://amostian.github.io/posts/1473435732/">ReactJS</a></p></blockquote><ul><li>AntdesignPro搭建后台信息管理系统</li><li>Semantic-UI前台</li><li>nodejs模拟前台后端，用于前后端分离开发</li><li>后端提供mock数据</li></ul><span id="more"></span><h1 id="AntDesignPro应用"><a href="#AntDesignPro应用" class="headerlink" title="AntDesignPro应用"></a>AntDesignPro应用</h1><h2 id="1-创建工程"><a href="#1-创建工程" class="headerlink" title="1. 创建工程"></a>1. 创建工程</h2><h2 id="2-导入依赖"><a href="#2-导入依赖" class="headerlink" title="2. 导入依赖"></a>2. 导入依赖</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tyarn install #安装相关依赖</span><br><span class="line">tyarn start #启动服务</span><br></pre></td></tr></table></figure><h3 id="修改logo和footer"><a href="#修改logo和footer" class="headerlink" title="修改logo和footer"></a>修改logo和footer</h3><p><img src="/posts/951772556/image-20210310165845835-1615431921966.png" alt="image-20210310165845835-1615431921966"></p><p>可见，布局是由layout常量定义</p><h4 id="logo"><a href="#logo" class="headerlink" title="logo"></a>logo</h4><p>可见，左侧的菜单是自定义组件</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;isTop &amp;&amp; !isMobile ? <span class="literal">null</span> : (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">SiderMenu</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">logo</span>=<span class="string">&#123;logo&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">Authorized</span>=<span class="string">&#123;Authorized&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">theme</span>=<span class="string">&#123;navTheme&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">onCollapse</span>=<span class="string">&#123;this.handleMenuCollapse&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">menuData</span>=<span class="string">&#123;menuData&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">isMobile</span>=<span class="string">&#123;isMobile&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        &#123;<span class="attr">...this.props</span>&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        /&gt;</span></span></span><br><span class="line">)&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//导入</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">SiderMenu</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/SiderMenu&#x27;</span>;</span><br></pre></td></tr></table></figure><p>打开 <strong>/components/SideMenu</strong> 文件</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">Sider</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">trigger</span>=<span class="string">&#123;null&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">collapsible</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">collapsed</span>=<span class="string">&#123;collapsed&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">breakpoint</span>=<span class="string">&quot;lg&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">onCollapse</span>=<span class="string">&#123;onCollapse&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">width</span>=<span class="string">&#123;256&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">theme</span>=<span class="string">&#123;theme&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">className</span>=<span class="string">&#123;siderClassName&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      &gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;styles.logo&#125;</span> <span class="attr">id</span>=<span class="string">&quot;logo&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          	//设置logo的位置</span></span><br><span class="line"><span class="language-xml">          	<span class="tag">&lt;<span class="name">h1</span>&gt;</span>好客租房 · 后台<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">BaseMenu</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          &#123;<span class="attr">...this.props</span>&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">mode</span>=<span class="string">&quot;inline&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">handleOpenChange</span>=<span class="string">&#123;this.handleOpenChange&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">onOpenChange</span>=<span class="string">&#123;this.handleOpenChange&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">padding:</span> &#x27;<span class="attr">16px</span> <span class="attr">0</span>&#x27;, <span class="attr">width:</span> &#x27;<span class="attr">100</span>%&#x27;, <span class="attr">overflowX:</span> &#x27;<span class="attr">hidden</span>&#x27; &#125;&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          &#123;<span class="attr">...defaultProps</span>&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">Sider</span>&gt;</span></span></span><br><span class="line">    );</span><br></pre></td></tr></table></figure><h4 id="footer"><a href="#footer" class="headerlink" title="footer"></a>footer</h4><p>在Footer.js文件中修改版权信息</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Fragment</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Layout</span>, <span class="title class_">Icon</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;antd&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">GlobalFooter</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/GlobalFooter&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">Footer</span> &#125; = <span class="title class_">Layout</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">FooterView</span> = (<span class="params"></span>) =&gt; (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Footer</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">padding:</span> <span class="attr">0</span> &#125;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">GlobalFooter</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">copyright</span>=<span class="string">&#123;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        &lt;<span class="attr">Fragment</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          Copyright <span class="tag">&lt;<span class="name">Icon</span> <span class="attr">type</span>=<span class="string">&quot;copyright&quot;</span> /&gt;</span> 2021 Auspice Tian</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">Fragment</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#125;</span></span><br><span class="line"><span class="language-xml">    /&gt;</span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">Footer</span>&gt;</span></span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">FooterView</span>;</span><br></pre></td></tr></table></figure><h2 id="3-左侧菜单"><a href="#3-左侧菜单" class="headerlink" title="3. 左侧菜单"></a>3. 左侧菜单</h2><p><strong>路由即菜单</strong></p><p>修改默认页 <code>router.config.js</code></p><p><img src="/posts/951772556/image-20210311110756416.png" alt="image-20210311110756416"></p><p>修改国际化映射文件 locale <code>locales=&gt;zh-CN=&gt;settings.js</code></p><p><img src="/posts/951772556/image-20210311110825177.png" alt="image-20210311110825177"></p><p><strong>只有在路由中的命名空间才会被注册</strong> <strong>命名空间名唯一</strong></p><h2 id="4-新增房源"><a href="#4-新增房源" class="headerlink" title="4. 新增房源"></a>4. 新增房源</h2><h3 id="房源表单字段"><a href="#房源表单字段" class="headerlink" title="房源表单字段"></a>房源表单字段</h3><h4 id="楼盘数据-estate"><a href="#楼盘数据-estate" class="headerlink" title="楼盘数据(estate)"></a>楼盘数据(estate)</h4><div class="table-container"><table><thead><tr><th style="text-align:left">字段</th><th style="text-align:center">类型</th><th style="text-align:center">备注</th></tr></thead><tbody><tr><td style="text-align:left">id</td><td style="text-align:center">Long</td><td style="text-align:center">楼盘id</td></tr><tr><td style="text-align:left">name</td><td style="text-align:center">String</td><td style="text-align:center">楼盘名称</td></tr><tr><td style="text-align:left">province</td><td style="text-align:center">String</td><td style="text-align:center">所在省</td></tr><tr><td style="text-align:left">city</td><td style="text-align:center">String</td><td style="text-align:center">所在市</td></tr><tr><td style="text-align:left">area</td><td style="text-align:center">String</td><td style="text-align:center">所在区</td></tr><tr><td style="text-align:left">address</td><td style="text-align:center">String</td><td style="text-align:center">具体地址</td></tr><tr><td style="text-align:left">year</td><td style="text-align:center">String</td><td style="text-align:center">建筑年代</td></tr><tr><td style="text-align:left">type</td><td style="text-align:center">String</td><td style="text-align:center">建筑类型</td></tr><tr><td style="text-align:left">propertyCost</td><td style="text-align:center">String</td><td style="text-align:center">物业费</td></tr><tr><td style="text-align:left">propertyCompany</td><td style="text-align:center">String</td><td style="text-align:center">物业公司</td></tr><tr><td style="text-align:left">developers</td><td style="text-align:center">String</td><td style="text-align:center">开发商</td></tr><tr><td style="text-align:left">created</td><td style="text-align:center">datetime</td><td style="text-align:center">创建时间</td></tr><tr><td style="text-align:left">updated</td><td style="text-align:center">datetime</td><td style="text-align:center">更新时间</td></tr></tbody></table></div><h4 id="房源数据-houseResource"><a href="#房源数据-houseResource" class="headerlink" title="房源数据(houseResource)"></a>房源数据(houseResource)</h4><div class="table-container"><table><thead><tr><th>字段</th><th>类型</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>Long</td><td>房源id</td></tr><tr><td>title</td><td>String</td><td>房源标题，如：南北通透，两室朝南，主卧带阳台</td></tr><tr><td>estateId</td><td>Long</td><td>楼盘id</td></tr><tr><td>buildingNum</td><td>String</td><td>楼号（栋）</td></tr><tr><td>buildingUnit</td><td>String</td><td>单元号</td></tr><tr><td>buildingFloorNum</td><td>String</td><td>门牌号</td></tr><tr><td>rent</td><td>int</td><td>租金</td></tr><tr><td>rentMethod</td><td>int</td><td>租赁方式，1-整租，2-合租</td></tr><tr><td>paymentMethod</td><td>int</td><td>支付方式，1-付一押一，2-付三押一，3-付六押一，4-年付押一，5-其它</td></tr><tr><td>houseType</td><td>String</td><td>户型，如：2室1厅1卫</td></tr><tr><td>coveredArea</td><td>String</td><td>建筑面积</td></tr><tr><td>useArea</td><td>String</td><td>使用面积</td></tr><tr><td>floor</td><td>String</td><td>楼层，如：8/26</td></tr><tr><td>orientation</td><td>int</td><td>朝向：东、南、西、北</td></tr><tr><td>decoration</td><td>String</td><td>装修，1-精装，2-简装，3-毛坯</td></tr><tr><td>facilities</td><td>String</td><td>配套设施， 如：1,2,3</td></tr><tr><td>pic</td><td>String</td><td>图片，最多5张</td></tr><tr><td>desc</td><td>String</td><td>房源描述，如：出小区门，门口有时代联华超市，餐饮有川菜馆，淮南牛肉汤，黄焖鸡沙县小吃等；可到达亲水湾城市生活广场，里面有儿童乐园，台球室和康桥健身等休闲娱乐；生活广场往北沿御水路往北步行一公里就是御桥路，旁边就是御桥地铁站，地铁站商场…</td></tr><tr><td>contact</td><td>String</td><td>联系人</td></tr><tr><td>mobile</td><td>String</td><td>手机号</td></tr><tr><td>time</td><td>int</td><td>看房时间，1-上午，2-中午，3-下午，4-晚上，5-全天</td></tr><tr><td>propertyCost</td><td>String</td><td>物业费</td></tr><tr><td>created</td><td>datetime</td><td>创建时间</td></tr><tr><td>updated</td><td>datetime</td><td>更新时间</td></tr></tbody></table></div><h3 id="antd表单组件"><a href="#antd表单组件" class="headerlink" title="antd表单组件"></a>antd表单组件</h3><p><a target="_blank" rel="noopener" href="https://ant.design/components/form-cn/#%E4%BD%95%E6%97%B6%E4%BD%BF%E7%94%A8">官网链接</a></p><p>高性能表单控件，自带数据域管理。包含<code>数据录入</code>、<code>校验</code> 以及对应 <code>样式</code> 与 <code>API</code> 。</p><p><a target="_blank" rel="noopener" href="https://ant.design/components/form-cn/#API">API</a></p><p>被设置了 <code>name</code> 属性的 <code>Form.Item</code> 包装的控件，表单控件会自动添加 <code>value</code>（或 <code>valuePropName</code> 指定的其他属性） <code>onChange</code>（或 <code>trigger</code> 指定的其他属性），数据同步将被 Form 接管，这会导致以下结果：</p><ol><li>你<strong>不再需要也不应该</strong>用 <code>onChange</code> 来做数据收集同步（你可以使用 Form 的 <code>onValuesChange</code>），但还是可以继续监听 <code>onChange</code> 事件。</li><li>你不能用控件的 <code>value</code> 或 <code>defaultValue</code> 等属性来设置表单域的值，默认值可以用 Form 里的 <code>initialValues</code> 来设置。注意 <code>initialValues</code> 不能被 <code>setState</code> 动态更新，你需要用 <code>setFieldsValue</code> 来更新。</li><li>你不应该用 <code>setState</code>，可以使用 <code>form.setFieldsValue</code> 来动态改变表单值。</li></ol><p>在 rules的参数中，可以增加校验规则</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	initialValue:&#x27;1&#x27;,</span><br><span class="line">	rules:[&#123; </span><br><span class="line">		required: true, </span><br><span class="line">		message:&quot;此项为必填项&quot; </span><br><span class="line">	&#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="表单提交"><a href="#表单提交" class="headerlink" title="表单提交"></a>表单提交</h3><p>表单的提交通过submit按钮完成，通过onSubmit方法进行拦截处理</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">FormItem</span> &#123;...submitFormLayout&#125; style=&#123;&#123; <span class="attr">marginTop</span>: <span class="number">32</span> &#125;&#125;&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">htmlType</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">loading</span>=<span class="string">&#123;submitting&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">FormattedMessage</span> <span class="attr">id</span>=<span class="string">&quot;form.submit&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">marginLeft:</span> <span class="attr">8</span> &#125;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">FormattedMessage</span> <span class="attr">id</span>=<span class="string">&quot;form.save&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span></span><br><span class="line">&lt;/<span class="title class_">FormItem</span>&gt;</span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Form</span> onSubmit=&#123;<span class="variable language_">this</span>.<span class="property">handleSubmit</span>&#125; hideRequiredMark style=&#123;&#123; <span class="attr">marginTop</span>: <span class="number">8</span> &#125;&#125;&gt;</span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">handleSubmit = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; dispatch, form &#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span><br><span class="line">    e.<span class="title function_">preventDefault</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">fileList</span>);</span><br><span class="line">    form.<span class="title function_">validateFieldsAndScroll</span>(<span class="function">(<span class="params">err, values</span>) =&gt;</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (!err) &#123;</span><br><span class="line">            <span class="comment">//对设施进行处理</span></span><br><span class="line">            <span class="comment">//1,2,3,4</span></span><br><span class="line">            <span class="comment">//水,电,煤气/天然气,暖气</span></span><br><span class="line">            <span class="keyword">if</span>(values.<span class="property">facilities</span>)&#123;</span><br><span class="line">                values.<span class="property">facilities</span> = values.<span class="property">facilities</span>.<span class="title function_">join</span>(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 3/20</span></span><br><span class="line">            <span class="comment">// 第三层、总共20层</span></span><br><span class="line">            <span class="keyword">if</span>(values.<span class="property">floor_1</span> &amp;&amp; values.<span class="property">floor_2</span>)&#123;</span><br><span class="line">                values.<span class="property">floor</span> = values.<span class="property">floor_1</span> + <span class="string">&quot;/&quot;</span> + values.<span class="property">floor_2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">		</span><br><span class="line">            <span class="comment">//3室1厅2卫1厨有阳台</span></span><br><span class="line">            values.<span class="property">houseType</span> = values.<span class="property">houseType_1</span> + <span class="string">&quot;室&quot;</span> + values.<span class="property">houseType_2</span> + <span class="string">&quot;厅&quot;</span></span><br><span class="line">                + values.<span class="property">houseType_3</span> + <span class="string">&quot;卫&quot;</span> + values.<span class="property">houseType_4</span> + <span class="string">&quot;厨&quot;</span></span><br><span class="line">                + values.<span class="property">houseType_2</span> + <span class="string">&quot;阳台&quot;</span>;</span><br><span class="line">            <span class="keyword">delete</span> values.<span class="property">floor_1</span>;</span><br><span class="line">            <span class="keyword">delete</span> values.<span class="property">floor_2</span>;</span><br><span class="line">            <span class="keyword">delete</span> values.<span class="property">houseType_1</span>;</span><br><span class="line">            <span class="keyword">delete</span> values.<span class="property">houseType_2</span>;</span><br><span class="line">            <span class="keyword">delete</span> values.<span class="property">houseType_3</span>;</span><br><span class="line">            <span class="keyword">delete</span> values.<span class="property">houseType_4</span>;</span><br><span class="line">            <span class="keyword">delete</span> values.<span class="property">houseType_5</span>;</span><br><span class="line"></span><br><span class="line">            <span class="title function_">dispatch</span>(&#123;</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;form/submitRegularForm&#x27;</span>,</span><br><span class="line">                <span class="attr">payload</span>: values,</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><img src="/posts/951772556/image-20210310212205902.png" alt="image-20210310212205902"></p><h3 id="自动填充"><a href="#自动填充" class="headerlink" title="自动填充"></a>自动填充</h3><p><a target="_blank" rel="noopener" href="https://ant.design/components/auto-complete-cn/">文档</a></p><p><strong>效果</strong></p><p><img src="/posts/951772556/image-20210310212337082.png" alt="image-20210310212337082"></p><p><img src="/posts/951772556/image-20210310212348756.png" alt="image-20210310212348756"></p><p><strong>实现</strong></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">AutoComplete</span></span><br><span class="line">    style=&#123;&#123; <span class="attr">width</span>: <span class="string">&#x27;100%&#x27;</span> &#125;&#125;</span><br><span class="line">    dataSource=&#123;<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">estateDataSource</span>&#125;</span><br><span class="line">    placeholder=<span class="string">&quot;搜索楼盘&quot;</span></span><br><span class="line">    onSelect=&#123;<span class="function">(<span class="params">value, option</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> v = estateMap.<span class="title function_">get</span>(value);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">            <span class="attr">estateAddress</span>: v.<span class="title function_">substring</span>(v.<span class="title function_">indexOf</span>(<span class="string">&#x27;|&#x27;</span>)+<span class="number">1</span>),</span><br><span class="line">            estateId : v.<span class="title function_">substring</span>(<span class="number">0</span>,v.<span class="title function_">indexOf</span>(<span class="string">&#x27;|&#x27;</span>))</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;&#125;</span><br><span class="line">    onSearch=&#123;<span class="variable language_">this</span>.<span class="property">handleSearch</span>&#125;</span><br><span class="line">    filterOption=&#123;<span class="function">(<span class="params">inputValue, option</span>) =&gt;</span> option.<span class="property">props</span>.<span class="property">children</span>.<span class="title function_">toUpperCase</span>().<span class="title function_">indexOf</span>(inputValue.<span class="title function_">toUpperCase</span>()) !== -<span class="number">1</span>&#125;</span><br><span class="line">    /&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> estateMap = <span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">  [<span class="string">&#x27;中远两湾城&#x27;</span>,<span class="string">&#x27;1001|上海市,上海市,普陀区,远景路97弄&#x27;</span>],</span><br><span class="line">  [<span class="string">&#x27;上海康城&#x27;</span>,<span class="string">&#x27;1002|上海市,上海市,闵行区,莘松路958弄&#x27;</span>],</span><br><span class="line">  [<span class="string">&#x27;保利西子湾&#x27;</span>,<span class="string">&#x27;1003|上海市,上海市,松江区,广富林路1188弄&#x27;</span>],</span><br><span class="line">  [<span class="string">&#x27;万科城市花园&#x27;</span>,<span class="string">&#x27;1004|上海市,上海市,闵行区,七莘路3333弄2区-15区&#x27;</span>],</span><br><span class="line">  [<span class="string">&#x27;上海阳城&#x27;</span>,<span class="string">&#x27;1005|上海市,上海市,闵行区,罗锦路888弄&#x27;</span>]</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过onSearch进行动态设置数据源，这里使用的数据是静态数据</span></span><br><span class="line">handleSearch = <span class="function">(<span class="params">value</span>)=&gt;</span>&#123;</span><br><span class="line">	<span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line">	<span class="keyword">if</span>(value.<span class="property">length</span> &gt; <span class="number">0</span> )&#123;</span><br><span class="line">		estateMap.<span class="title function_">forEach</span>(<span class="function">(<span class="params">v, k</span>) =&gt;</span> &#123;</span><br><span class="line">			<span class="keyword">if</span>(k.<span class="title function_">startsWith</span>(value))&#123;</span><br><span class="line">                arr.<span class="title function_">push</span>(k);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">        <span class="attr">estateDataSource</span>: arr</span><br><span class="line">    &#125;);</span><br><span class="line">&#125; ;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过onSelect设置，选择中楼盘数据后，在楼盘地址中填写地址数据</span></span><br><span class="line">onSelect=&#123;<span class="function">(<span class="params">value, option</span>)=&gt;</span>&#123;</span><br><span class="line">	<span class="keyword">let</span> v = estateMap.<span class="title function_">get</span>(value);</span><br><span class="line">	<span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">        <span class="attr">estateAddress</span>: v.<span class="title function_">substring</span>(v.<span class="title function_">indexOf</span>(<span class="string">&#x27;|&#x27;</span>)+<span class="number">1</span>),</span><br><span class="line">        estateId : v.<span class="title function_">substring</span>(<span class="number">0</span>,v.<span class="title function_">indexOf</span>(<span class="string">&#x27;|&#x27;</span>))</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;&#125;</span><br></pre></td></tr></table></figure><h2 id="5-图片上传组件"><a href="#5-图片上传组件" class="headerlink" title="5. 图片上传组件"></a>5. 图片上传组件</h2><p>图片上传通过自定义组件 <code>PicturesWall</code> 完成，在PictureWall中，通过 antd 的 <code>Upload</code> 组件实现</p><p><strong>如何解决子组件的值传递到父组件</strong></p><p><img src="/posts/951772556/image-20210311181502368.png" alt="image-20210311181502368"></p><ul><li>bind方法可以将子组件(PicturesWall)中的this指向父组件(HousingAdd)的this<ul><li>在子组件中调用父组件的方法相当于在父组件的上下文中调用该方法，所以该函数的参数在父组件的上下文中也可以获取到</li></ul></li><li>父组件通过属性的方式进行引用子组件 ，在子组件中，通过 <code>this.props</code> 获取传入的函数，进行调用，即可将数据传递到父组件中</li></ul><h3 id="this——函数执行时上下文"><a href="#this——函数执行时上下文" class="headerlink" title="this——函数执行时上下文"></a>this——函数执行时上下文</h3><p>this 的值是在执行的时候才能确认，定义的时候不能确认！</p><p><strong>this 是执行上下文环境的一部分</strong>，而执行上下文需要在代码执行之前确定，而不是定义的时候</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">getThis</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">getThis</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> getThisCopy = obj.<span class="property">getThis</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">getThisCopy</span>();</span><br></pre></td></tr></table></figure><p><img src="/posts/951772556/image-20210311194125616.png" alt="image-20210311194125616"></p><h4 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h4><p>绑定函数，使其无论怎么样调用都用相同的上下文环境</p><p>fun.bind(thisArgument, argument1, argument2, …)</p><ul><li>thisArgument：在 fun 函数运行时的 this 值，如果绑定函数时使用 new 运算符构造的，则该值将被忽略。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">num</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">numFun</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">num</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> numFunCopy = obj.<span class="property">numFun</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">numFunCopy</span>();</span><br></pre></td></tr></table></figure><p><img src="/posts/951772556/image-20210311194218909.png" alt="image-20210311194218909"></p><p>在 <code>Window</code> 上下文中，没有 num 值，num的值是在 <code>obj</code> 中定义的</p><p>所以引入 <code>bind()</code> 解决 this 不能够指向原来的问题</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">num</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">numFun</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">num</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> numFunCopy = obj.<span class="property">numFun</span>;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">numFun</span>();</span><br><span class="line"></span><br><span class="line">numFunCopy.<span class="title function_">bind</span>(obj)();</span><br></pre></td></tr></table></figure><p><img src="/posts/951772556/image-20210311194611172.png" alt="image-20210311194611172"></p><h1 id="前台"><a href="#前台" class="headerlink" title="前台"></a>前台</h1><p>前端是使用React+semantic-ui实现移动端web展示，后期可以将web打包成app进行发布</p><h2 id="1-搭建工程"><a href="#1-搭建工程" class="headerlink" title="1. 搭建工程"></a>1. 搭建工程</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install # 安装依赖</span><br><span class="line">npm start # 启动服务</span><br></pre></td></tr></table></figure><p>地址：<a target="_blank" rel="noopener" href="http://localhost:9000/">http://localhost:9000/</a></p><p><img src="/posts/951772556/image-20210323222323226.png" alt></p><h2 id="2-搭建api工程"><a href="#2-搭建api工程" class="headerlink" title="2. 搭建api工程"></a>2. 搭建api工程</h2><p>使用node.js开发服务端的方式进行了demo化开发，只是作为前端开发的api工程，并不是实际环境</p><ol><li><p>创建数据库</p><p>将 myhome.sql 执行 ，创建数据库</p></li><li><p>修改配置文件——数据库配置</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 数据库配置 */</span></span><br><span class="line">db<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">/** 模型文件路径 */</span></span><br><span class="line">    models*path<span class="punctuation">:</span> &#x27;/models&#x27;<span class="punctuation">,</span></span><br><span class="line">    <span class="comment">/** 数据库主机IP */</span></span><br><span class="line">    host<span class="punctuation">:</span> &#x27;<span class="number">8.140</span><span class="number">.130</span><span class="number">.91</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">    <span class="comment">/** 数据库的端口号 */</span></span><br><span class="line">    port<span class="punctuation">:</span> <span class="number">3306</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">/** 数据库类型 */</span></span><br><span class="line">    type<span class="punctuation">:</span> &#x27;mysql&#x27;<span class="punctuation">,</span></span><br><span class="line">    <span class="comment">/** 数据库登录用户名 */</span></span><br><span class="line">    username<span class="punctuation">:</span> &#x27;root&#x27;<span class="punctuation">,</span></span><br><span class="line">    <span class="comment">/** 数据库密码 */</span></span><br><span class="line">    password<span class="punctuation">:</span> &#x27;root&#x27;<span class="punctuation">,</span></span><br><span class="line">    <span class="comment">/** 数据库名称 */</span></span><br><span class="line">    database<span class="punctuation">:</span> &#x27;myhome&#x27;<span class="punctuation">,</span></span><br><span class="line">    <span class="comment">/** 是否显示数据库日志 */</span></span><br><span class="line">    logging<span class="punctuation">:</span> console.log<span class="punctuation">,</span><span class="comment">// false 为禁用日志</span></span><br><span class="line">    <span class="comment">/** 配置数据库连接池 */</span></span><br><span class="line">    pool<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        max<span class="punctuation">:</span> <span class="number">5</span><span class="punctuation">,</span></span><br><span class="line">        min<span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">        charset<span class="punctuation">:</span> &#x27;utf8&#x27;<span class="punctuation">,</span></span><br><span class="line">        idle<span class="punctuation">:</span> <span class="number">30000</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>输入命令进行初始化和启动服务</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">npm install #安装依赖</span><br><span class="line">npm run dev #启动dev脚本</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">脚本如下</span></span><br><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &quot;cross-env NODE*ENV=config-test node app.js&quot;,</span><br><span class="line">    &quot;dev&quot;: &quot;cross-env NODE*ENV=config-dev node app.js&quot;, #设置环境变量</span><br><span class="line">    &quot;pro&quot;: &quot;cross-env NODE*ENV=config-pro node app.js&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>登录系统测试</p><p><strong>问题</strong></p><ul><li><p>Client does not support authentication protocol requested by server; conside</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">use mysql;</span><br><span class="line"></span><br><span class="line">flush privileges;</span><br><span class="line"></span><br><span class="line">-- 加密算法为caching*sha2*password，而旧版加密算法为mysql*native*password</span><br><span class="line">select user,host,plugin from user; </span><br><span class="line"></span><br><span class="line">alter user &#x27;root&#x27;@&#x27;%&#x27; identified with mysql*native*password by &#x27;root&#x27;;</span><br><span class="line"></span><br><span class="line">select user,host,plugin from user;</span><br></pre></td></tr></table></figure></li><li><p>ER<em>WRONG</em>FIELD<em>WITH</em>GROUP</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">use myhome;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">sql</span><span class="operator">*</span>mode<span class="operator">=</span>(<span class="keyword">SELECT</span> REPLACE(@<span class="variable">@sql</span><span class="operator">*</span>mode, <span class="string">&#x27;ONLY*FULL*GROUP*BY&#x27;</span>, <span class="string">&#x27;&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> @<span class="variable">@sql</span><span class="operator">*</span>mode;</span><br></pre></td></tr></table></figure></li></ul></li></ol><p><img src="/posts/951772556/image-20210324120933746.png" alt="image-20210324120933746"></p><p><img src="/posts/951772556/image-20210324121216250.png" alt></p><h2 id="3-前台实现分析"><a href="#3-前台实现分析" class="headerlink" title="3. 前台实现分析"></a>3. 前台实现分析</h2><h3 id="React-APP目录结构"><a href="#React-APP目录结构" class="headerlink" title="React APP目录结构"></a>React APP目录结构</h3><p><img src="/posts/951772556/image-20210324154457849.png" alt></p><h3 id="加载数据流程"><a href="#加载数据流程" class="headerlink" title="加载数据流程"></a>加载数据流程</h3><p><img src="/posts/951772556/image-20210324161006568.png" alt="image-20210324161006568"></p><ul><li><p>Promise.all()方法获取到所有的异步处理的结果，并且将结果保存到this.state中，然后再render中渲染</p></li><li><p>app.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置全局的  axios baseUrl 配置</span></span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">baseURL</span> = config.<span class="property">apiBaseUrl</span>;</span><br><span class="line"><span class="comment">//设置拦截器</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">config</span>) &#123;</span><br><span class="line">  <span class="comment">//在发送请求前获取mytoken的值</span></span><br><span class="line">  <span class="keyword">if</span>(!config.<span class="property">url</span>.<span class="title function_">endsWith</span>(<span class="string">&#x27;/login&#x27;</span>))&#123;</span><br><span class="line">    config.<span class="property">headers</span>.<span class="property">Authorization</span> = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;mytoken&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">  <span class="comment">//获取数据失败处理</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">&#125;);</span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">  <span class="comment">// 对响应的拦截——————返回response.data数据</span></span><br><span class="line">  <span class="keyword">return</span> response.<span class="property">data</span>;</span><br><span class="line">&#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><h1 id="伪mock服务"><a href="#伪mock服务" class="headerlink" title="伪mock服务"></a>伪mock服务</h1><p>目标：所有的数据通过自己实现的接口提供，不需要使用nodejs，便于后端开发</p><h2 id="1-构造数据"><a href="#1-构造数据" class="headerlink" title="1. 构造数据"></a>1. 构造数据</h2><p>mock-data.properties</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mock.indexMenu</span>=<span class="string">&#123;&quot;data&quot;:&#123;&quot;list&quot;:[\</span></span><br><span class="line"><span class="string">  &#123;&quot;id&quot;:1,&quot;menu*name&quot;:&quot;二手房&quot;,&quot;menu*logo&quot;:&quot;home&quot;,&quot;menu*path&quot;:&quot;/home&quot;,&quot;menu*status&quot;:1,&quot;menu*style&quot;:null&#125;,\</span></span><br><span class="line"><span class="string">  &#123;&quot;id&quot;:2,&quot;menu*name&quot;:&quot;新房&quot;,&quot;menu*logo&quot;:null,&quot;menu*path&quot;:null,&quot;menu*status&quot;:null,&quot;menu*style&quot;:null&#125;,\</span></span><br><span class="line"><span class="string">  &#123;&quot;id&quot;:3,&quot;menu*name&quot;:&quot;租房&quot;,&quot;menu*logo&quot;:null,&quot;menu*path&quot;:null,&quot;menu*status&quot;:null,&quot;menu*style&quot;:null&#125;,\</span></span><br><span class="line"><span class="string">  &#123;&quot;id&quot;:4,&quot;menu*name&quot;:&quot;海外&quot;,&quot;menu*logo&quot;:null,&quot;menu*path&quot;:null,&quot;menu*status&quot;:null,&quot;menu*style&quot;:null&#125;,\</span></span><br><span class="line"><span class="string">  &#123;&quot;id&quot;:5,&quot;menu*name&quot;:&quot;地图找房&quot;,&quot;menu*logo&quot;:null,&quot;menu*path&quot;:null,&quot;menu*status&quot;:null,&quot;menu*style&quot;:null&#125;,\</span></span><br><span class="line"><span class="string">  &#123;&quot;id&quot;:6,&quot;menu*name&quot;:&quot;查公交&quot;,&quot;menu*logo&quot;:null,&quot;menu*path&quot;:null,&quot;menu*status&quot;:null,&quot;menu*style&quot;:null&#125;,\</span></span><br><span class="line"><span class="string">  &#123;&quot;id&quot;:7,&quot;menu*name&quot;:&quot;计算器&quot;,&quot;menu*logo&quot;:null,&quot;menu*path&quot;:null,&quot;menu*status&quot;:null,&quot;menu*style&quot;:null&#125;,\</span></span><br><span class="line"><span class="string">  &#123;&quot;id&quot;:8,&quot;menu*name&quot;:&quot;问答&quot;,&quot;menu*logo&quot;:null,&quot;menu*path&quot;:null,&quot;menu*status&quot;:null,&quot;menu*style&quot;:null&#125;]&#125;,&quot;meta&quot;:\</span></span><br><span class="line"><span class="string">  &#123;&quot;status&quot;:200,&quot;msg&quot;:&quot;测试数据&quot;&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mock.indexInfo</span>=<span class="string">&#123;&quot;data&quot;:&#123;&quot;list&quot;:[\</span></span><br><span class="line"><span class="string">  &#123;&quot;id&quot;:1,&quot;info*title&quot;:&quot;房企半年销售业绩继&quot;,&quot;info*thumb&quot;:null,&quot;info*time&quot;:null,&quot;info*content&quot;:null,&quot;user*id&quot;:null,&quot;info*status&quot;:null,&quot;info*type&quot;:1&#125;,\</span></span><br><span class="line"><span class="string">  &#123;&quot;id&quot;:2,&quot;info*title&quot;:&quot;上半年土地市场两重天：一线降温三四线量价齐升&quot;,&quot;info*thumb&quot;:null,&quot;info*time&quot;:null,&quot;info*content&quot;:null,&quot;user*id&quot;:null,&quot;info*status&quot;:null,&quot;info*type&quot;:1&#125;]&#125;,\</span></span><br><span class="line"><span class="string">  &quot;meta&quot;:&#123;&quot;status&quot;:200,&quot;msg&quot;:&quot;测试数据&quot;&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mock.indexFaq</span>=<span class="string">&#123;&quot;data&quot;:&#123;&quot;list&quot;:[\</span></span><br><span class="line"><span class="string">  &#123;&quot;question*name&quot;:&quot;在北京买房，需要支付的税费有哪些？&quot;,&quot;question*tag&quot;:&quot;学区,海淀&quot;,&quot;answer*content&quot;:&quot;各种费用&quot;,&quot;atime&quot;:33,&quot;question*id&quot;:1,&quot;qnum&quot;:2&#125;,\</span></span><br><span class="line"><span class="string">  &#123;&quot;question*name&quot;:&quot;一般首付之后，贷款多久可以下来？&quot;,&quot;question*tag&quot;:&quot;学区,昌平&quot;,&quot;answer*content&quot;:&quot;大概1个月&quot;,&quot;atime&quot;:22,&quot;question*id&quot;:2,&quot;qnum&quot;:2&#125;]&#125;,\</span></span><br><span class="line"><span class="string">  &quot;meta&quot;:&#123;&quot;status&quot;:200,&quot;msg&quot;:&quot;测试数据&quot;&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mock.indexHouse</span>=<span class="string">&#123;&quot;data&quot;:&#123;&quot;list&quot;:[\</span></span><br><span class="line"><span class="string">  &#123;&quot;id&quot;:1,&quot;home*name&quot;:&quot;安贞西里123&quot;,&quot;home*price&quot;:&quot;4511&quot;,&quot;home*desc&quot;:&quot;72.32㎡/南 北/低楼层&quot;,&quot;home*infos&quot;:null,&quot;home*type&quot;:1,&quot;home*tags&quot;:&quot;海淀,昌平&quot;,&quot;home*address&quot;:null,&quot;user*id&quot;:null,&quot;home*status&quot;:null,&quot;home*time&quot;:12,&quot;group*id&quot;:1&#125;,\</span></span><br><span class="line"><span class="string">  &#123;&quot;id&quot;:8,&quot;home*name&quot;:&quot;安贞西里 三室一厅&quot;,&quot;home*price&quot;:&quot;4500&quot;,&quot;home*desc&quot;:&quot;72.32㎡/南北/低楼层&quot;,&quot;home*infos&quot;:null,&quot;home*type&quot;:1,&quot;home*tags&quot;:&quot;海淀&quot;,&quot;home*address&quot;:null,&quot;user*id&quot;:null,&quot;home*status&quot;:null,&quot;home*time&quot;:23,&quot;group*id&quot;:2&#125;,\</span></span><br><span class="line"><span class="string">  &#123;&quot;id&quot;:3,&quot;home*name&quot;:&quot;安贞西里 三室一厅&quot;,&quot;home*price&quot;:&quot;4220&quot;,&quot;home*desc&quot;:&quot;72.32㎡/南北/低楼层&quot;,&quot;home*infos&quot;:null,&quot;home*type&quot;:2,&quot;home*tags&quot;:&quot;海淀&quot;,&quot;home*address&quot;:null,&quot;user*id&quot;:null,&quot;home*status&quot;:null,&quot;home*time&quot;:1,&quot;group*id&quot;:1&#125;,\</span></span><br><span class="line"><span class="string">  &#123;&quot;id&quot;:4,&quot;home*name&quot;:&quot;安贞西里 三室一厅&quot;,&quot;home*price&quot;:&quot;4500&quot;,&quot;home*desc&quot;:&quot;72.32㎡/南 北/低楼层&quot;,&quot;home*infos&quot;:&quot;4500&quot;,&quot;home*type&quot;:2,&quot;home*tags&quot;:&quot;海淀&quot;,&quot;home*address&quot;:&quot;&quot;,&quot;user*id&quot;:null,&quot;home*status&quot;:null,&quot;home*time&quot;:12,&quot;group*id&quot;:2&#125;,\</span></span><br><span class="line"><span class="string">  &#123;&quot;id&quot;:5,&quot;home*name&quot;:&quot;安贞西里 三室一厅&quot;,&quot;home*price&quot;:&quot;4522&quot;,&quot;home*desc&quot;:&quot;72.32㎡/南 北/低楼层&quot;,&quot;home*infos&quot;:null,&quot;home*type&quot;:3,&quot;home*tags&quot;:&quot;海淀&quot;,&quot;home*address&quot;:null,&quot;user*id&quot;:null,&quot;home*status&quot;:null,&quot;home*time&quot;:23,&quot;group*id&quot;:1&#125;,\</span></span><br><span class="line"><span class="string">  &#123;&quot;id&quot;:6,&quot;home*name&quot;:&quot;安贞西里 三室一厅&quot;,&quot;home*price&quot;:&quot;4500&quot;,&quot;home*desc&quot;:&quot;72.32㎡/南北/低楼层&quot;,&quot;home*infos&quot;:null,&quot;home*type&quot;:3,&quot;home*tags&quot;:&quot;海淀&quot;,&quot;home*address&quot;:null,&quot;user*id&quot;:null,&quot;home*status&quot;:null,&quot;home*time&quot;:1221,&quot;group*id&quot;:2&#125;,\</span></span><br><span class="line"><span class="string">  &#123;&quot;id&quot;:9,&quot;home*name&quot;:&quot;安贞西里 三室一厅&quot;,&quot;home*price&quot;:&quot;4500&quot;,&quot;home*desc&quot;:&quot;72.32㎡/南北/低楼层&quot;,&quot;home*infos&quot;:null,&quot;home*type&quot;:4,&quot;home*tags&quot;:&quot;海淀&quot;,&quot;home*address&quot;:null,&quot;user*id&quot;:null,&quot;home*status&quot;:null,&quot;home*time&quot;:23,&quot;group*id&quot;:1&#125;\</span></span><br><span class="line"><span class="string">  ]&#125;,</span></span><br><span class="line"><span class="attr">&quot;meta&quot;</span>:<span class="string">&#123;&quot;status&quot;:200,&quot;msg&quot;:&quot;测试数据&quot;&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mock.infosList1</span>=<span class="string">&#123;&quot;data&quot;:&#123;&quot;list&quot;:&#123;&quot;total&quot;:8,&quot;data&quot;:[&#123;&quot;id&quot;:13,&quot;info*title&quot;:&quot;wwwwwwwwwwwww&quot;,&quot;info*thumb&quot;:null,&quot;info*time&quot;:null,&quot;info*content&quot;:null,&quot;user*id&quot;:null,&quot;info*status&quot;:null,&quot;info*type&quot;:1&#125;,&#123;&quot;id&quot;:12,&quot;info*title&quot;:&quot;房企半年销售业绩继&quot;,&quot;info*thumb&quot;:null,&quot;info*time&quot;:null,&quot;info*content&quot;:null,&quot;user*id&quot;:null,&quot;info*status&quot;:null,&quot;info*type&quot;:1&#125;]&#125;&#125;,&quot;meta&quot;:&#123;&quot;status&quot;:200,&quot;msg&quot;:&quot;获取数据成功&quot;&#125;&#125;</span></span><br><span class="line"><span class="attr">mock.infosList2</span>=<span class="string">&#123;&quot;data&quot;:&#123;&quot;list&quot;:&#123;&quot;total&quot;:4,&quot;data&quot;:[&#123;&quot;id&quot;:9,&quot;info*title&quot;:&quot;房企半年销售业绩继续冲高三巨头销售额过亿&quot;,&quot;info*thumb&quot;:null,&quot;info*time&quot;:null,&quot;info*content&quot;:null,&quot;user*id&quot;:null,&quot;info*status&quot;:null,&quot;info*type&quot;:2&#125;,&#123;&quot;id&quot;:7,&quot;info*title&quot;:&quot;房企半年销售业绩继续冲高三巨头销售额过亿&quot;,&quot;info*thumb&quot;:null,&quot;info*time&quot;:null,&quot;info*content&quot;:null,&quot;user*id&quot;:null,&quot;info*status&quot;:null,&quot;info*type&quot;:2&#125;]&#125;&#125;,&quot;meta&quot;:&#123;&quot;status&quot;:200,&quot;msg&quot;:&quot;获取数据成功&quot;&#125;&#125;</span></span><br><span class="line"><span class="attr">mock.infosList3</span>=<span class="string">&#123;&quot;data&quot;:&#123;&quot;list&quot;:&#123;&quot;total&quot;:10,&quot;data&quot;:[&#123;&quot;username&quot;:&quot;tom&quot;,&quot;question*name&quot;:&quot;在北京买房，需要支付的税费有哪些？&quot;,&quot;question*tag&quot;:&quot;学区,海淀&quot;,&quot;answer*content&quot;:&quot;各种费用&quot;,&quot;atime&quot;:33,&quot;question*id&quot;:1,&quot;qnum&quot;:2&#125;,&#123;&quot;username&quot;:&quot;tom&quot;,&quot;question*name&quot;:&quot;一般首付之后，贷款多久可以下来？&quot;,&quot;question*tag&quot;:&quot;学区,昌平&quot;,&quot;answer*content&quot;:&quot;大概1个月&quot;,&quot;atime&quot;:22,&quot;question*id&quot;:2,&quot;qnum&quot;:2&#125;]&#125;&#125;,&quot;meta&quot;:&#123;&quot;status&quot;:200,&quot;msg&quot;:&quot;获取数据成功&quot;&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mock.my</span>=<span class="string">&#123;&quot;data&quot;:&#123;&quot;id&quot;:1,&quot;username&quot;:&quot;tom&quot;,&quot;password&quot;:&quot;123&quot;,&quot;mobile&quot;:&quot;123&quot;,&quot;type&quot;:null,&quot;status&quot;:null,&quot;avatar&quot;:&quot;public/icon.png&quot;&#125;,&quot;meta&quot;:&#123;&quot;status&quot;:200,&quot;msg&quot;:&quot;获取数据成功&quot;&#125;&#125;</span></span><br></pre></td></tr></table></figure><h2 id="2-创建MockConfig"><a href="#2-创建MockConfig" class="headerlink" title="2. 创建MockConfig"></a>2. 创建MockConfig</h2><blockquote><p>读取properties文件，映射为String</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haoke.api.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.PropertySource;</span><br><span class="line"></span><br><span class="line"><span class="meta">@PropertySource(&quot;classpath:mock-data.properties&quot;)</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;mock&quot;)</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MockConfig</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String indexMenu;</span><br><span class="line">    <span class="keyword">private</span> String indexInfo;</span><br><span class="line">    <span class="keyword">private</span> String indexFaq;</span><br><span class="line">    <span class="keyword">private</span> String indexHouse;</span><br><span class="line">    <span class="keyword">private</span> String infosList1;</span><br><span class="line">    <span class="keyword">private</span> String infosList2;</span><br><span class="line">    <span class="keyword">private</span> String infosList3;</span><br><span class="line">    <span class="keyword">private</span> String my;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-MockController"><a href="#3-MockController" class="headerlink" title="3. MockController"></a>3. MockController</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haoke.api.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haoke.api.config.MockConfig;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;mock&quot;)</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@CrossOrigin</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MockController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> MockConfig mockConfig;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 菜单</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;index/menu&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">indexMenu</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.mockConfig.getIndexMenu();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 首页资讯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;index/info&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">indexInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.mockConfig.getIndexInfo();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 首页问答</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;index/faq&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">indexFaq</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.mockConfig.getIndexFaq();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 首页房源信息</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;index/house&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">indexHouse</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.mockConfig.getIndexHouse();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查询资讯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> type</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;infos/list&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">infosList</span><span class="params">(<span class="meta">@RequestParam(&quot;type&quot;)</span>Integer type)</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> (type)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">this</span>.mockConfig.getInfosList1();</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">this</span>.mockConfig.getInfosList2();</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">this</span>.mockConfig.getInfosList3();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.mockConfig.getInfosList1();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 我的中心</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;my/info&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">myInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.mockConfig.getMy();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-测试"><a href="#4-测试" class="headerlink" title="4. 测试"></a>4. 测试</h2><p><img src="/posts/951772556/image-20210326122145653.png" alt></p><h2 id="5-整合前端"><a href="#5-整合前端" class="headerlink" title="5. 整合前端"></a>5. 整合前端</h2><p><img src="/posts/951772556/image-20210326122106121.png" alt></p><h3 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h3><p>Axios 是一个基于 promise 的 HTTP 库，可以用在浏览器和 node.js 中。</p><ul><li>从浏览器中创建 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest">XMLHttpRequests</a></li><li>从 node.js 创建 <a target="_blank" rel="noopener" href="http://nodejs.org/api/http.html">http</a> 请求</li><li>支持 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global*Objects/Promise">Promise</a> API</li><li>拦截请求和响应</li><li>转换请求数据和响应数据</li><li>取消请求</li><li>自动转换 JSON 数据</li><li>客户端支持防御</li></ul></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------<i class="fa fa-hand-peace-o"></i>本文结束-------------</div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者 </strong>AmosTian</li><li class="post-copyright-link"><strong>本文链接 </strong><a href="https://amostian.github.io/posts/951772556/" title="毕设项目前端">https://amostian.github.io/posts/951772556/</a></li><li class="post-copyright-license"><strong>版权声明 </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E5%BC%80%E5%8F%91/" rel="tag"><i class="fa fa-tags"></i> 开发</a> <a href="/tags/Java%E9%A1%B9%E7%9B%AE/" rel="tag"><i class="fa fa-tags"></i> Java项目</a> <a href="/tags/%E6%AF%95%E8%AE%BE%E9%A1%B9%E7%9B%AE/" rel="tag"><i class="fa fa-tags"></i> 毕设项目</a></div><div class="post-nav"><div class="post-nav-item"><a href="/posts/1207943057/" rel="prev" title="毕设项目后台"><i class="fa fa-chevron-left"></i> 毕设项目后台</a></div><div class="post-nav-item"><a href="/posts/612170407/" rel="next" title="layui">layui <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#AntDesignPro%E5%BA%94%E7%94%A8"><span class="nav-text">AntDesignPro应用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%88%9B%E5%BB%BA%E5%B7%A5%E7%A8%8B"><span class="nav-text">1. 创建工程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%AF%BC%E5%85%A5%E4%BE%9D%E8%B5%96"><span class="nav-text">2. 导入依赖</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9logo%E5%92%8Cfooter"><span class="nav-text">修改logo和footer</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#logo"><span class="nav-text">logo</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#footer"><span class="nav-text">footer</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E5%B7%A6%E4%BE%A7%E8%8F%9C%E5%8D%95"><span class="nav-text">3. 左侧菜单</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E6%96%B0%E5%A2%9E%E6%88%BF%E6%BA%90"><span class="nav-text">4. 新增房源</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%88%BF%E6%BA%90%E8%A1%A8%E5%8D%95%E5%AD%97%E6%AE%B5"><span class="nav-text">房源表单字段</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A5%BC%E7%9B%98%E6%95%B0%E6%8D%AE-estate"><span class="nav-text">楼盘数据(estate)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%88%BF%E6%BA%90%E6%95%B0%E6%8D%AE-houseResource"><span class="nav-text">房源数据(houseResource)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#antd%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6"><span class="nav-text">antd表单组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A8%E5%8D%95%E6%8F%90%E4%BA%A4"><span class="nav-text">表单提交</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%85%85"><span class="nav-text">自动填充</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E7%BB%84%E4%BB%B6"><span class="nav-text">5. 图片上传组件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#this%E2%80%94%E2%80%94%E5%87%BD%E6%95%B0%E6%89%A7%E8%A1%8C%E6%97%B6%E4%B8%8A%E4%B8%8B%E6%96%87"><span class="nav-text">this——函数执行时上下文</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#bind"><span class="nav-text">bind</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E5%8F%B0"><span class="nav-text">前台</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E6%90%AD%E5%BB%BA%E5%B7%A5%E7%A8%8B"><span class="nav-text">1. 搭建工程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E6%90%AD%E5%BB%BAapi%E5%B7%A5%E7%A8%8B"><span class="nav-text">2. 搭建api工程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E5%89%8D%E5%8F%B0%E5%AE%9E%E7%8E%B0%E5%88%86%E6%9E%90"><span class="nav-text">3. 前台实现分析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#React-APP%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="nav-text">React APP目录结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE%E6%B5%81%E7%A8%8B"><span class="nav-text">加载数据流程</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BC%AAmock%E6%9C%8D%E5%8A%A1"><span class="nav-text">伪mock服务</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E6%9E%84%E9%80%A0%E6%95%B0%E6%8D%AE"><span class="nav-text">1. 构造数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%88%9B%E5%BB%BAMockConfig"><span class="nav-text">2. 创建MockConfig</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-MockController"><span class="nav-text">3. MockController</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E6%B5%8B%E8%AF%95"><span class="nav-text">4. 测试</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E6%95%B4%E5%90%88%E5%89%8D%E7%AB%AF"><span class="nav-text">5. 整合前端</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#axios"><span class="nav-text">axios</span></a></li></ol></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="AmosTian" src="/images/avatar.png"><p class="site-author-name" itemprop="name">AmosTian</p><div class="site-description" itemprop="description">知道的越多，不知道的越多</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">412</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">66</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">83</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/AmosTian" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;AmosTian" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="https://blog.csdn.net/qq_40479037?type=blog" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_40479037?type&#x3D;blog" rel="noopener" target="_blank"><i class="fa fa-fw fa-crosshairs"></i>CSDN</a> </span><span class="links-of-author-item"><a href="mailto:17636679561@163.com" title="E-Mail → mailto:17636679561@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a></span></div></div><div id="days"></div><script>function show_date_time(){window.setTimeout("show_date_time()",1e3),BirthDay=new Date("01/27/2022 15:13:14"),today=new Date,timeold=today.getTime()-BirthDay.getTime(),sectimeold=timeold/1e3,secondsold=Math.floor(sectimeold),msPerDay=864e5,e_daysold=timeold/msPerDay,daysold=Math.floor(e_daysold),e_hrsold=24*(e_daysold-daysold),hrsold=setzero(Math.floor(e_hrsold)),e_minsold=60*(e_hrsold-hrsold),minsold=setzero(Math.floor(60*(e_hrsold-hrsold))),seconds=setzero(Math.floor(60*(e_minsold-minsold))),document.getElementById("days").innerHTML="已运行 "+daysold+" 天 "+hrsold+" 小时 "+minsold+" 分 "+seconds+" 秒"}function setzero(e){return e<10&&(e="0"+e),e}show_date_time()</script></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="fa fa-grav"></i> </span><span class="author" itemprop="copyrightHolder">AmosTian</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-area-chart"></i> </span><span class="post-meta-item-text">站点总字数 </span><span title="站点总字数">1175.7k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span class="post-meta-item-text">站点阅读时长 &asymp;</span> <span title="站点阅读时长">47:55</span></div></div></footer></div><script color="0,0,0" opacity="0.5" zindex="-1" count="150" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="/js/local-search.js"></script><script>if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'neutral',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}</script><script async src="/js/cursor/fireworks.js"></script><script src="/js/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!1,document.body.addEventListener("input",POWERMODE)</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,model:{jsonPath:"live2d-widget-model-hijiki"},display:{position:"right",width:150,height:300},mobile:{show:!1},log:!1})</script></body></html>