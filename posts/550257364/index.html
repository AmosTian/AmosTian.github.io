<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.1.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="mask-icon" href="/images/favicon.png" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comfortaa:300,300italic,400,400italic,700,700italic|Ma Shan Zheng:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css"><script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"amostian.github.io",root:"/",scheme:"Pisces",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!1,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="[TOC]"><meta property="og:type" content="article"><meta property="og:title" content="5-数组、指针和字符串"><meta property="og:url" content="https://amostian.github.io/posts/550257364/index.html"><meta property="og:site_name" content="AmosTian"><meta property="og:description" content="[TOC]"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://amostian.github.io/posts/550257364/1530588925523-16825272380661.png"><meta property="og:image" content="https://amostian.github.io/posts/550257364/1530588403771-16825272380673.png"><meta property="og:image" content="https://amostian.github.io/posts/550257364/1530588669682-16825272380662.png"><meta property="og:image" content="https://amostian.github.io/posts/550257364/1530409377663.png"><meta property="og:image" content="https://amostian.github.io/posts/550257364/1530415470052-16825272380674.png"><meta property="og:image" content="https://amostian.github.io/posts/550257364/1530415500862-16825272380675.png"><meta property="article:published_time" content="2023-04-26T12:25:49.000Z"><meta property="article:modified_time" content="2023-07-01T08:41:37.232Z"><meta property="article:author" content="AmosTian"><meta property="article:tag" content="编程语言"><meta property="article:tag" content="编译型语言"><meta property="article:tag" content="C++"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://amostian.github.io/posts/550257364/1530588925523-16825272380661.png"><link rel="canonical" href="https://amostian.github.io/posts/550257364/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>5-数组、指针和字符串 | AmosTian</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">AmosTian</h1><span class="logo-line-after"><i></i></span></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">58</span></a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">74</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">360</span></a></li><li class="menu-item menu-item-essay"><a href="/categories/%E9%9A%8F%E7%AC%94/" rel="section"><i class="fa fa-fw fa-pied-piper"></i>随笔</a></li><li class="menu-item menu-item-dynamic-resume"><a href="/dynamic-resume/" rel="section"><i class="fa fa-fw fa-cog"></i>动态简历</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a href="https://github.com/AmosTian" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://amostian.github.io/posts/550257364/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.png"><meta itemprop="name" content="AmosTian"><meta itemprop="description" content="知道的越多，不知道的越多"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="AmosTian"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">5-数组、指针和字符串</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间 2023-04-26 20:25:49" itemprop="dateCreated datePublished" datetime="2023-04-26T20:25:49+08:00">2023-04-26</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间 2023-07-01 16:41:37" itemprop="dateModified" datetime="2023-07-01T16:41:37+08:00">2023-07-01</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">编程语言</span></a> </span>> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E7%BC%96%E8%AF%91%E5%9E%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">编译型语言</span></a> </span>> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E7%BC%96%E8%AF%91%E5%9E%8B%E8%AF%AD%E8%A8%80/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a></span></span><div class="post-symbolscount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">本文字数 </span><span title="本文字数">7.6k字 </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>19 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><p>[TOC]</p><span id="more"></span><h2 id="2-1-数组"><a href="#2-1-数组" class="headerlink" title="2.1 数组"></a>2.1 数组</h2><p><code>new</code> 是C++的一个关键字，它通常用来在堆上创建数组或对象，但会返回一个指向这个对象的指针</p><p><code>类名 数组名[常量表达式]</code></p><p><code>数组名[下标].成员名</code></p><p>初始化就是调用成员的构造函数</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Location</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	<span class="built_in">Location</span>():<span class="built_in">x</span>(<span class="number">0</span>),<span class="built_in">y</span>(<span class="number">0</span>)&#123;&#125;</span><br><span class="line">    	<span class="built_in">Location</span>(<span class="type">int</span> xx,<span class="type">int</span> yy):<span class="built_in">x</span>(xx),<span class="built_in">y</span>(yy)&#123;&#125;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    	<span class="type">int</span> x,y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Location a[<span class="number">2</span>] = &#123;<span class="built_in">Location</span>(<span class="number">1</span>,<span class="number">2</span>)&#125;;<span class="comment">//a[1]调用默认构造函数</span></span><br></pre></td></tr></table></figure><h3 id="数组名作为形参"><a href="#数组名作为形参" class="headerlink" title="数组名作为形参"></a>数组名作为形参</h3><p>以数组名为形参传递参数，被调函数体中对数组内容的改变会影响主调函数的数组值——数组名为连续地址的首地址(指针)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">rowsum</span><span class="params">(<span class="type">int</span> a[][<span class="number">4</span>],<span class="type">int</span> row)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; row;++i)</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; <span class="number">4</span>;++j)</span><br><span class="line">			a[i][<span class="number">0</span>] += a[i][j];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> table[<span class="number">3</span>][<span class="number">4</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">3</span>;++i)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; <span class="number">4</span>;++j)</span><br><span class="line">			cout &lt;&lt; table[i][j] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">		</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">rowsum</span>(table,<span class="number">3</span>);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">3</span>;++i)</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;sum of row&quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; is &quot;</span> &lt;&lt; table[i][<span class="number">0</span>] &lt;&lt; endl;</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*运行结果*/</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span></span><br><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span></span><br><span class="line">sum of row0 is <span class="number">11</span></span><br><span class="line">sum of row1 is <span class="number">16</span></span><br><span class="line">sum of row2 is <span class="number">21</span></span><br></pre></td></tr></table></figure><h2 id="2-2-指针"><a href="#2-2-指针" class="headerlink" title="2.2 指针"></a>2.2 指针</h2><h3 id="2-2-1-常量指针"><a href="#2-2-1-常量指针" class="headerlink" title="2.2.1 常量指针"></a>2.2.1 常量指针</h3><p>不能通过指针改变所指对象的值</p><ol><li><p>如果一个变量被声明为常变量，只能通过指向常量的指针指向他，不能用一般指针(指向非const型变量的指针)指向它</p></li><li><p>指向常变量的指针除了可以指向常变量外，也可指向非变量。此时不能通过指针改变变量内容</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span>* p = &amp;a;<span class="comment">//const修饰int，不能通过指针修改值</span></span><br><span class="line"><span class="comment">//等价于 int const *p</span></span><br><span class="line"><span class="type">int</span> b;</span><br><span class="line">p = &amp;b;<span class="comment">//正确</span></span><br><span class="line">*p = <span class="number">1</span>;<span class="comment">//错误</span></span><br></pre></td></tr></table></figure></li><li><p>如果函数的形参是指向非const型变量的指针，实参只能用指向非const变量的指针，不能用指向const变量的指针</p></li></ol><h3 id="2-2-2-指针常量"><a href="#2-2-2-指针常量" class="headerlink" title="2.2.2 指针常量"></a>2.2.2 指针常量</h3><p>指针的值不能改变，即指针变量存储的内容不能改变，指针的指向不能变，但指针指向地址的内容可以改变</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> *<span class="type">const</span> p = &amp;a;</span><br><span class="line"></span><br><span class="line">    *p = <span class="number">3</span>;</span><br><span class="line">    cout &lt;&lt; *p &lt;&lt; endl;</span><br><span class="line">    p = &amp;b;<span class="comment">//错误，p2为指针常量，不能修改值</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>指针关系运算</p><ul><li><p>定义指针，未初始化时一定要赋 <code>NULL</code></p></li><li><p>0专用于表示空指针</p></li><li><p>指针的加减运算适合数组运算</p></li></ul><h2 id="数组、指针与字符串"><a href="#数组、指针与字符串" class="headerlink" title="数组、指针与字符串"></a>数组、指针与字符串</h2><h3 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h3><h4 id="指针数组"><a href="#指针数组" class="headerlink" title="指针数组"></a><strong>指针数组</strong></h4><blockquote><p>相当于多维数组降一维</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*一维数组*/</span></span><br><span class="line"><span class="type">int</span> line1[] = &#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">int</span> line1[] = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">int</span> line1[] = &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> *pLine[<span class="number">3</span>] = &#123;line1,line2,line3&#125;;</span><br><span class="line"></span><br><span class="line">pLine[i][j] <span class="comment">//==&gt;*(pLine[i] + j)//=&gt;*(*(Lines + i) + j)</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="built_in">array</span>[<span class="number">3</span>][<span class="number">3</span>] = &#123;<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">21</span>,<span class="number">22</span>,<span class="number">23</span>,<span class="number">31</span>,<span class="number">32</span>,<span class="number">33</span>&#125;;</span><br><span class="line"><span class="built_in">array</span>[i][j] <span class="comment">//=&gt; *(*(array + i) + j)</span></span><br></pre></td></tr></table></figure><p><strong>指针型函数</strong></p><blockquote><p>使用指针型函数将大量数返回主调函数</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">数据类型 *函数名(形参表)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">/*函数体*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="指向函数的指针"><a href="#指向函数的指针" class="headerlink" title="指向函数的指针"></a><strong>指向函数的指针</strong></h4><blockquote><p>类型名，形参数，形参类型相同使用函数指针</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">数据类型 (*函数指针名)(形参表)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*使用typedef简化函数指针名*/</span></span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">int</span> <span class="params">(*DoubleIntFunction)</span><span class="params">(<span class="type">double</span>)</span></span>;<span class="comment">//声明DoubleIntFunction为“形参为double，返回类型是int的函数的指针”类型的别名</span></span><br><span class="line">DoubleIntFunction pfun;<span class="comment">//声明为该类型的函数指针</span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">printStuff</span><span class="params">(<span class="type">float</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;This is the print Stuff function&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printMessage</span><span class="params">(<span class="type">float</span> data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;This is the print Message function&quot;</span> &lt;&lt; data &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printFloat</span><span class="params">(<span class="type">float</span> data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;This is the print Float function&quot;</span> &lt;&lt; data &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">void</span> (*functionPointer)(<span class="type">float</span>);</span><br><span class="line">functionPointer = &amp;printFloat;</span><br><span class="line"><span class="built_in">printPointer</span>(PI);</span><br><span class="line">functionPointer = &amp;printMessaage;</span><br><span class="line"><span class="built_in">printPointer</span>(PI);</span><br></pre></td></tr></table></figure><h4 id="对象指针"><a href="#对象指针" class="headerlink" title="对象指针"></a>对象指针</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">类名 *对象指针名;</span><br><span class="line">对象指针名-&gt;成员名;<span class="comment">//=&gt;(*对象指针名).成员名</span></span><br></pre></td></tr></table></figure><h4 id="this指针"><a href="#this指针" class="headerlink" title="this指针"></a>this指针</h4><blockquote><p>用于指向正在被成员函数操作的对象</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> x;<span class="comment">//=&gt;return this-&gt;x;</span></span><br></pre></td></tr></table></figure><h4 id="指向类的非静态成员的指针"><a href="#指向类的非静态成员的指针" class="headerlink" title="指向类的非静态成员的指针"></a>指向类的非静态成员的指针</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">类型说明符 类名::*指针名;<span class="comment">//声明语句</span></span><br><span class="line">指针名 = &amp;类名::数据成员名;<span class="comment">//不能对类的私有数据成员取地址,赋值，由于未实例化，并不能访问数据</span></span><br><span class="line">对象名.*类成员指针名;<span class="comment">//实例化，通过类来访问数据</span></span><br><span class="line">对象名-&gt;*类成员指针;</span><br><span class="line"></span><br><span class="line">类型说明符 (类名::*指针名)(参数表)</span><br><span class="line">指针名 = &amp;类名::函数成员名;	</span><br><span class="line">(对象名.*类成员指针名)(参数表);</span><br><span class="line">(对象名-&gt;*类成员指针名)(参数表);</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">Point</span>(<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line">	Point *p1 = &amp;a;</span><br><span class="line">	<span class="built_in">int</span> (Point::*funnptr)()<span class="type">const</span> = &amp;Point::<span class="built_in">getX</span>();</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; (a.*funptr)() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; (p1-&gt;funptr)() &lt;&lt; endl;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="指向类的静态成员的指针"><a href="#指向类的静态成员的指针" class="headerlink" title="指向类的静态成员的指针"></a>指向类的静态成员的指针</h4><blockquote><p>对静态成员的访问不依赖于对象</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">类型说明符 类名::*指针名;<span class="comment">//声明语句</span></span><br><span class="line">指针名 = &amp;类名::数据成员名;<span class="comment">//不能对类的私有数据成员取地址,赋值，由于未实例化，并不能访问数据</span></span><br><span class="line"></span><br><span class="line">类型说明符 (类名::*指针名)(参数表);	</span><br><span class="line">指针名 = &amp;类名::函数成员名;	</span><br></pre></td></tr></table></figure><h3 id="动态分配内存"><a href="#动态分配内存" class="headerlink" title="动态分配内存"></a>动态分配内存</h3><h4 id="建立，删除堆对象-new-delete"><a href="#建立，删除堆对象-new-delete" class="headerlink" title="建立，删除堆对象:new,delete"></a>建立，删除堆对象:new,delete</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> 数据类型(初始化参数列表);<span class="comment">//申请成功，返回首地址</span></span><br><span class="line"><span class="type">int</span> *point;</span><br><span class="line">point = <span class="keyword">new</span> <span class="built_in">int</span>(<span class="number">2</span>);<span class="comment">//*point = 2;</span></span><br><span class="line">point = <span class="keyword">new</span> <span class="built_in">int</span>();<span class="comment">//*point = 0;</span></span><br><span class="line">point = <span class="keyword">new</span> <span class="type">int</span>;<span class="comment">//不初始化</span></span><br></pre></td></tr></table></figure><p>声明对象内存空间时<br>若定义默认构造函数，new T 和 new T();相同<br>为定义，对该函数的基本数据类型和指针类型成员都会被以0赋值</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> 指针名;<span class="comment">//一块内存空间使用一次delete</span></span><br></pre></td></tr></table></figure><h4 id="创建、删除数组类型对象"><a href="#创建、删除数组类型对象" class="headerlink" title="创建、删除数组类型对象"></a>创建、删除数组类型对象</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> 类型 [数组长度];</span><br><span class="line"><span class="keyword">delete</span>[] 数组名<span class="comment">//加方括号区分普通类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*多维数组的申请*/</span></span><br><span class="line"><span class="built_in">float</span> (*)p[<span class="number">25</span>][<span class="number">10</span>];<span class="comment">//指针数组</span></span><br><span class="line">p = <span class="keyword">new</span> <span class="type">float</span>[<span class="number">10</span>][<span class="number">25</span>][<span class="number">10</span>]</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*动态数组类*/</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ArrayOfPoints</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">ArrayOfPoints</span>(<span class="type">int</span> size):<span class="built_in">size</span>(size)</span><br><span class="line">		&#123;</span><br><span class="line">			points = <span class="keyword">new</span> Point[size];</span><br><span class="line">		&#125;</span><br><span class="line">		~<span class="built_in">ArrayOfPoints</span>()&#123;<span class="keyword">delete</span>[] Points;&#125;</span><br><span class="line">		<span class="function">Point &amp;<span class="title">element</span><span class="params">(<span class="type">int</span> index)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="built_in">assert</span>(index &gt;= <span class="number">0</span> &amp;&amp; index &lt; size);<span class="comment">//在编译模式下起作用，表达式true，继续执行；false，程序终止</span></span><br><span class="line">			<span class="keyword">return</span> Points[index];</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		Point *points;</span><br><span class="line">		<span class="type">int</span> size;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="用vector创建数组对象"><a href="#用vector创建数组对象" class="headerlink" title="用vector创建数组对象"></a>用vector创建数组对象</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;元素类型&gt;数组对象名(数组长度,元素初值)<span class="comment">//只能指定相同初值</span></span><br><span class="line">数组对象名[下标表达式]</span><br></pre></td></tr></table></figure><p><code>vector创建数组对象，并不是数组，数组名不代表数组首地址</code><br><code>所有元素都会被初始化，只能初始化为相同初值</code></p><blockquote><p>基本数据类型为0<br>类类型，调用默认构造函数</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">average</span><span class="params">(<span class="type">const</span> vector&lt;<span class="type">double</span>&gt;&amp;arr)</span><span class="comment">//引用arr 数组</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">double</span> sum = <span class="number">0.0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; arr.<span class="built_in">size</span>();++i)</span><br><span class="line">	&#123;</span><br><span class="line">		sum += arr[i];</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> sum / arr.<span class="built_in">size</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> n;</span><br><span class="line">	cin &gt;&gt; n;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">double</span>&gt;<span class="built_in">arr</span>(n);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;++i)</span><br><span class="line">	cin &gt;&gt; arr[i];</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;Average is:&quot;</span> &lt;&lt; <span class="built_in">average</span>(arr) &lt;&lt; endl;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="深复制与浅复制"><a href="#深复制与浅复制" class="headerlink" title="深复制与浅复制"></a>深复制与浅复制</h4><p>使用默认构造函数，实现浅复制，复制前后使用同一块内存空间,在程序结束时，此空间被释放两次，出现错误<br>深复制申请一块新的内存存储数据</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;cassert&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">Point</span>():<span class="built_in">x</span>(<span class="number">0</span>),<span class="built_in">y</span>(<span class="number">0</span>)&#123;cout &lt;&lt; <span class="string">&quot;Default Constructor called&quot;</span> &lt;&lt; endl;&#125;</span><br><span class="line">		<span class="built_in">Point</span>(<span class="type">int</span> xx,<span class="type">int</span> yy):<span class="built_in">x</span>(xx),<span class="built_in">y</span>(yy)&#123;cout &lt;&lt; <span class="string">&quot;Constructor called&quot;</span> &lt;&lt; endl;&#125;</span><br><span class="line">		<span class="function"><span class="type">int</span> <span class="title">getX</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> x;&#125;</span><br><span class="line">		<span class="function"><span class="type">int</span> <span class="title">getY</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> y;&#125;</span><br><span class="line">		~<span class="built_in">Point</span>()&#123;cout &lt;&lt; <span class="string">&quot;Destructor called&quot;</span> &lt;&lt; endl;&#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">move</span><span class="params">(<span class="type">int</span> newX,<span class="type">int</span> newY)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			x = newX;</span><br><span class="line">			y = newY;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="type">int</span> x,y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ArrayOfPoints</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">ArrayOfPoints</span>(<span class="type">int</span> size):<span class="built_in">size</span>(size)</span><br><span class="line">		&#123;</span><br><span class="line">			points = <span class="keyword">new</span> Point[size];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">ArrayOfPoints</span>(<span class="type">const</span> ArrayOfPoints &amp;v);</span><br><span class="line">		~<span class="built_in">ArrayOfPoints</span>()&#123;<span class="keyword">delete</span>[] points;&#125;</span><br><span class="line">		<span class="function">Point &amp;<span class="title">element</span><span class="params">(<span class="type">int</span> index)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="built_in">assert</span>(index &gt;= <span class="number">0</span> &amp;&amp; index &lt; size);<span class="comment">//在编译模式下起作用，表达式true，继续执行；false，程序终止</span></span><br><span class="line">			<span class="keyword">return</span> points[index];</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		Point *points;</span><br><span class="line">		<span class="type">int</span> size;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ArrayOfPoints::<span class="built_in">ArrayOfPoints</span>(<span class="type">const</span> ArrayOfPoints &amp;v)</span><br><span class="line">&#123;</span><br><span class="line">	size = v.size;</span><br><span class="line">	points = <span class="keyword">new</span> Point[size];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; size;++i)</span><br><span class="line">	&#123;</span><br><span class="line">		points[i] = v.points[i];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> count;</span><br><span class="line"></span><br><span class="line">	cin &gt;&gt; count;</span><br><span class="line">	<span class="function">ArrayOfPoints <span class="title">pointsArray1</span><span class="params">(count)</span></span>;</span><br><span class="line">	pointsArray1.<span class="built_in">element</span>(<span class="number">0</span>).<span class="built_in">move</span>(<span class="number">5</span>,<span class="number">10</span>);</span><br><span class="line">	pointsArray1.<span class="built_in">element</span>(<span class="number">1</span>).<span class="built_in">move</span>(<span class="number">15</span>,<span class="number">20</span>);</span><br><span class="line">	</span><br><span class="line">	ArrayOfPoints pointsArray2 = pointsArray1;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;Copy of pointsArray1:&quot;</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;Point_0 of arrary2:&quot;</span> &lt;&lt; pointsArray2.<span class="built_in">element</span>(<span class="number">0</span>).<span class="built_in">getX</span>() &lt;&lt; <span class="string">&quot;,&quot;</span> </span><br><span class="line">	&lt;&lt; pointsArray2.<span class="built_in">element</span>(<span class="number">0</span>).<span class="built_in">getY</span>()  &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;Point_1 of arrary2:&quot;</span> &lt;&lt; pointsArray2.<span class="built_in">element</span>(<span class="number">1</span>).<span class="built_in">getX</span>() &lt;&lt; <span class="string">&quot;,&quot;</span> </span><br><span class="line">	&lt;&lt; pointsArray2.<span class="built_in">element</span>(<span class="number">1</span>).<span class="built_in">getY</span>()  &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	pointsArray1.<span class="built_in">element</span>(<span class="number">0</span>).<span class="built_in">move</span>(<span class="number">25</span>,<span class="number">30</span>);</span><br><span class="line">	pointsArray1.<span class="built_in">element</span>(<span class="number">1</span>).<span class="built_in">move</span>(<span class="number">35</span>,<span class="number">40</span>);</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;After the moving of pointsArray1:&quot;</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;Point_0 of arrary2:&quot;</span> &lt;&lt; pointsArray2.<span class="built_in">element</span>(<span class="number">0</span>).<span class="built_in">getX</span>() &lt;&lt; <span class="string">&quot;,&quot;</span> </span><br><span class="line">	&lt;&lt; pointsArray2.<span class="built_in">element</span>(<span class="number">0</span>).<span class="built_in">getY</span>()  &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;Point_1 of arrary2:&quot;</span> &lt;&lt; pointsArray2.<span class="built_in">element</span>(<span class="number">1</span>).<span class="built_in">getX</span>() &lt;&lt; <span class="string">&quot;,&quot;</span> </span><br><span class="line">	&lt;&lt; pointsArray2.<span class="built_in">element</span>(<span class="number">1</span>).<span class="built_in">getY</span>()  &lt;&lt; endl;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*DEV运行结果*/</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line">Default Constructor called</span><br><span class="line">Default Constructor called</span><br><span class="line">Default Constructor called</span><br><span class="line">Default Constructor called</span><br><span class="line">Copy of pointsArray1:</span><br><span class="line">Point_0 of arrary2:<span class="number">5</span>,<span class="number">10</span></span><br><span class="line">Point_1 of arrary2:<span class="number">15</span>,<span class="number">20</span></span><br><span class="line">After the moving of pointsArray1:</span><br><span class="line">Point_0 of arrary2:<span class="number">5</span>,<span class="number">10</span></span><br><span class="line">Point_1 of arrary2:<span class="number">15</span>,<span class="number">20</span></span><br><span class="line">Destructor called</span><br><span class="line">Destructor called</span><br><span class="line">Destructor called</span><br><span class="line">Destructor called</span><br></pre></td></tr></table></figure><h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><h4 id="string类"><a href="#string类" class="headerlink" title="string类"></a>string类</h4><p><code>类的构造函数原型</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span>();<span class="comment">//默认构造函数，建立长度为0的字符串</span></span><br><span class="line"><span class="built_in">string</span>(<span class="type">const</span> string &amp;rhs);<span class="comment">//复制构造函数</span></span><br><span class="line"><span class="built_in">string</span>(<span class="type">const</span> <span class="type">char</span> *s);<span class="comment">//用指针s所指向的字符串常量初始化string类的对象</span></span><br><span class="line"><span class="built_in">string</span>(<span class="type">const</span> string &amp;rhs,<span class="type">unsigned</span> <span class="type">int</span> pos,unsiged <span class="type">int</span> n);<span class="comment">//从rhs的第pos个位置开始取n个字符，用来初始化string类的对象</span></span><br><span class="line"><span class="built_in">string</span>(<span class="type">const</span> <span class="type">char</span> *s,<span class="type">unsigned</span> <span class="type">int</span> n);<span class="comment">//用指针s所指向的前n个字符初始化</span></span><br><span class="line"><span class="built_in">string</span>(<span class="type">unsigned</span> <span class="type">int</span> n,<span class="type">char</span> c);<span class="comment">//用c重复n次初始化</span></span><br></pre></td></tr></table></figure><p><code>string类操作符</code><br>运算符</p><blockquote><p>+,=,+=</p></blockquote><p>关系运算</p><blockquote><p>==,!=,&lt;,&gt;,&gt;=,&lt;=</p></blockquote><p>s[i] ————————————访问下标为i的元素</p><p><code>常用成员函数</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string <span class="title">append</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *s)</span></span>;<span class="comment">//将s追加在尾</span></span><br><span class="line"><span class="function">string <span class="title">assign</span><span class="params">(<span class="type">const</span> <span class="type">char</span>*s)</span></span>;<span class="comment">//赋值</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">compare</span><span class="params">(<span class="type">const</span> string &amp;str)</span><span class="type">const</span></span>;<span class="comment">//比较本串与str的大小</span></span><br><span class="line"></span><br><span class="line"><span class="function">string &amp;<span class="title">insert</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> p0,<span class="type">const</span> <span class="type">char</span> *s)</span></span>;<span class="comment">//将s指向的字符串插入在本串中p0位置</span></span><br><span class="line"><span class="function">string <span class="title">substr</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> pos,<span class="type">unsigned</span> <span class="type">int</span> n)</span> <span class="type">const</span></span>;</span><br><span class="line"><span class="comment">//取本串中pos开始的n个字符，返回新串</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">(string &amp;str)</span></span>;<span class="comment">//与str字符串交换</span></span><br><span class="line"><span class="function"><span class="type">unsigned</span> <span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">const</span> basic_string &amp;str)</span> <span class="type">const</span></span>;<span class="comment">//查找并返回str在本串中第一次出现的位置</span></span><br><span class="line"><span class="function"><span class="type">unsigned</span> <span class="type">int</span> <span class="title">length</span><span class="params">()</span> <span class="type">const</span></span>;<span class="comment">//返回串的长度</span></span><br></pre></td></tr></table></figure><p><code>getline(cin,串名,分隔符)</code></p><blockquote><p>输入字符串，至行末，不以空格为分隔符，以分隔符为终止符</p></blockquote><h2 id="数据的共享与保护"><a href="#数据的共享与保护" class="headerlink" title="数据的共享与保护"></a>数据的共享与保护</h2><h3 id="标识符的作用域和可见性"><a href="#标识符的作用域和可见性" class="headerlink" title="标识符的作用域和可见性"></a>标识符的作用域和可见性</h3><blockquote><p>作用域讨论的是标识符的有效范围，可见性讨论的是标识符是否可被使用</p></blockquote><p>(一)作用域</p><blockquote><ul><li>函数原型作用域：函数声明时形参的作用范围就是函数原型的作用域</li><li>局部作用域：函数形参列表中形参的作用域，从形参列表中声明处开始，到整个函数体结束之处为止</li></ul><blockquote><p>函数声明的变量，从声明处开始，一直到声明所在的块结束的大括号为止</p></blockquote><ul><li>类的作用域：</li></ul><blockquote><ul><li>在成员函数中没有声明同名标识符，在该函数中可直接访问</li><li>通过类访问对象成员的方法访问 x.m x::m</li><li>通过 ptr-&gt;m 指向类的指针</li></ul></blockquote><ul><li>命名空间的作用域</li></ul><blockquote><p>命名空间：凡是在该命名空间之内声明的、不属于前面所述的各个作用域的标识符，都属于该命名空间作用域</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> 命名空间::标识符名;<span class="comment">//指定标识符暴露在当前作用域中</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> 命名空间名;<span class="comment">//使该命名空间中的所有标识符暴露在当前作用域中</span></span><br></pre></td></tr></table></figure><blockquote><p>匿名命名空间：需要显示声明的<br><code>在匿名空间中声明的变量和函数，都不会暴露在其他编译单元</code></p></blockquote></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> n;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		n++;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>（二）可见性</p><blockquote><p>程序运行到某一点，能够引用的标识符</p><blockquote><p>标识符声明在前，引用在后<br>在同一作用域中，不能声明同名的标识符<br>两个或多个具有包含关系的作用域中声明了同名标识符，外层标识符在内层不可见<br><code>局部作用域 &gt; 类作用域 &gt; 命名空间作用域</code></p></blockquote></blockquote><h3 id="对象的生存期"><a href="#对象的生存期" class="headerlink" title="对象的生存期"></a>对象的生存期</h3><h4 id="静态生存期"><a href="#静态生存期" class="headerlink" title="静态生存期"></a>静态生存期</h4><blockquote><p>对象的生存期与程序的生存期相同，则有静态生存期</p><p>加<code>static</code>使局部变量具有动态生存期</p><p>当一个函数返回后，下次调用时，该变量还会保持上一变量的值</p><p><code>默认初始值为0</code></p></blockquote><h4 id="类的静态成员"><a href="#类的静态成员" class="headerlink" title="类的静态成员"></a>类的静态成员</h4><blockquote><p>静态成员是解决同一类的不同对象之间数据和函数的共享问题</p><ul><li><code>类属性</code></li></ul><blockquote><p>静态成员在每个类中只有一个副本，由本类的所有对象共同维护<br>可通过“ <code>类名::标识符</code>”访问<br><code>类的静态数据成员在类外定义和初始化，需要专门为其分配内存空间</code></p></blockquote></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="type">int</span> x,y;</span><br><span class="line">		<span class="type">static</span> <span class="type">int</span> count;</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">Point</span>(<span class="type">int</span> x = <span class="number">0</span>,<span class="type">int</span> y):<span class="built_in">x</span>(x),<span class="built_in">y</span>(y)&#123;count++;&#125;</span><br><span class="line">		<span class="built_in">Point</span>(Point &amp;p):<span class="built_in">x</span>(p.x),<span class="built_in">y</span>(p.y)&#123;count++;&#125;</span><br><span class="line">		<span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">showCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;count:&quot;</span> &lt;&lt; count &lt;&lt;endl;</span><br><span class="line">		&#125;</span><br><span class="line">		~<span class="built_in">Point</span>()&#123;count--;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> Point::count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">Point <span class="title">a</span><span class="params">(<span class="number">1</span>,<span class="number">0</span>)</span></span>;</span><br><span class="line">	Point::<span class="built_in">showCount</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><blockquote><ul><li><code>静态函数成员</code></li></ul><blockquote><p>静态函数成员可以直接访问该类的静态数据成员和函数成员，对非静态数据成员和函数成员的访问需要通过对象<br>在函数前加声明<code>static</code>，<br><code>可通过类名和对象名访问，为区分，使用类名调用</code></p></blockquote></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="type">int</span> x,y;</span><br><span class="line">		<span class="type">static</span> <span class="type">int</span> count;</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">Point</span>(<span class="type">int</span> x = <span class="number">0</span>,<span class="type">int</span> y):<span class="built_in">x</span>(x),<span class="built_in">y</span>(y)&#123;count++;&#125;</span><br><span class="line">		<span class="built_in">Point</span>(Point &amp;p):<span class="built_in">x</span>(p.x),<span class="built_in">y</span>(p.y)&#123;count++;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> Point::count = <span class="number">0</span>;</span><br></pre></td></tr></table></figure><h4 id="动态生存期"><a href="#动态生存期" class="headerlink" title="动态生存期"></a>动态生存期</h4><blockquote><p>局部生存期诞生于声明开始，结束于声明所在的块执行完成之时</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> i = <span class="number">1</span>;<span class="comment">//全局变量，具有静态生存周期</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">other</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">static</span> <span class="type">int</span> a = <span class="number">2</span>;<span class="comment">//a,b静态局部变量，局部可见，全局寿命</span></span><br><span class="line">	<span class="type">static</span> <span class="type">int</span> b;</span><br><span class="line">	<span class="type">int</span> c = <span class="number">10</span>;<span class="comment">//c为局部变量，动态生存周期，局部可见</span></span><br><span class="line">	</span><br><span class="line">	a += <span class="number">2</span>;</span><br><span class="line">	i += <span class="number">32</span>;</span><br><span class="line">	c += <span class="number">5</span>;</span><br><span class="line">	</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;---OTHER---&quot;</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;i:&quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; a:&quot;</span> &lt;&lt; a &lt;&lt; <span class="string">&quot; b:&quot;</span> &lt;&lt; b &lt;&lt; <span class="string">&quot; c:&quot;</span> &lt;&lt; c &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">static</span> <span class="type">int</span> a;<span class="comment">//a是静态局部变量，局部可见，具有全局寿命</span></span><br><span class="line">	<span class="type">int</span> b = <span class="number">-10</span>;</span><br><span class="line">	<span class="type">int</span> c = <span class="number">0</span>;<span class="comment">//b,c是局部变量，局部可见，动态生存周期</span></span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;---MAIN1---&quot;</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;i:&quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; a:&quot;</span> &lt;&lt; a &lt;&lt; <span class="string">&quot; b:&quot;</span> &lt;&lt; b &lt;&lt; <span class="string">&quot; c:&quot;</span> &lt;&lt; c &lt;&lt; endl;</span><br><span class="line">	<span class="comment">/*运行结果</span></span><br><span class="line"><span class="comment">	 *---MAIN1---</span></span><br><span class="line"><span class="comment">	 *i:1 a:0 b:-10 c:0</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	 </span><br><span class="line">	c += <span class="number">8</span>;</span><br><span class="line">	<span class="built_in">other</span>();</span><br><span class="line">	<span class="comment">/*运行结果</span></span><br><span class="line"><span class="comment">	 *---OTHER---</span></span><br><span class="line"><span class="comment">	 *i:33 a:4 b:0 c:15</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	 </span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;---MAIN2---&quot;</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;i:&quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; a:&quot;</span> &lt;&lt; a &lt;&lt; <span class="string">&quot; b:&quot;</span> &lt;&lt; b &lt;&lt; <span class="string">&quot; c:&quot;</span> &lt;&lt; c &lt;&lt; endl;</span><br><span class="line">	<span class="comment">/*运行结果</span></span><br><span class="line"><span class="comment">	 *---MAIN2---</span></span><br><span class="line"><span class="comment">	 *i:33 a:0 b:-10 c:8</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	 </span><br><span class="line">	 i += <span class="number">10</span>;</span><br><span class="line">	 <span class="built_in">other</span>();</span><br><span class="line">	 <span class="comment">/*运行结果</span></span><br><span class="line"><span class="comment">	 *---MAIN1---</span></span><br><span class="line"><span class="comment">	 *i:75 a:6 b:4 c:15</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="类的友元"><a href="#类的友元" class="headerlink" title="类的友元"></a>类的友元</h3><blockquote><p>友元关系提供了不同类或对象的成员函数之间、类的成员函数与一般函数之间进行数据共享的机制</p></blockquote><h4 id="友元函数"><a href="#友元函数" class="headerlink" title="友元函数"></a>友元函数</h4><blockquote><p>类中用“friend”关键字修饰的非成员函数<br>在类外可以通过对象名访问类的私有和保护成员</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="type">int</span> x,y;</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">Point</span>(<span class="type">int</span> x = <span class="number">0</span>,<span class="type">int</span> y):<span class="built_in">x</span>(x),<span class="built_in">y</span>(y)&#123;&#125;</span><br><span class="line">		<span class="built_in">Point</span>(Point &amp;p):<span class="built_in">x</span>(p.x),<span class="built_in">y</span>(p.y)&#123;&#125;</span><br><span class="line">		<span class="function"><span class="type">int</span> <span class="title">getX</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> x;&#125;</span><br><span class="line">		<span class="function"><span class="type">int</span> <span class="title">getY</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> y;&#125;</span><br><span class="line">		<span class="function"><span class="keyword">friend</span> <span class="type">float</span> <span class="title">dist</span><span class="params">(Point &amp;p1,Point &amp;p2)</span></span>;</span><br><span class="line">&#125;；</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">float</span> <span class="title">dist</span><span class="params">(Point &amp;p1,Point &amp;p2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">double</span> x = p1.x - p2.x;</span><br><span class="line">	<span class="type">double</span> y = p1.y - p2.y;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">static_cast</span>&lt;<span class="type">double</span>&gt;(<span class="built_in">sqtr</span>(x * x + y * y));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="友元类"><a href="#友元类" class="headerlink" title="友元类"></a>友元类</h4><blockquote><p>若A类为B类的友元类，则A类中的所有成员函数都是B的友元函数，都可以访问B类的私有和保护成员</p><ul><li><code>友元关系不能传递</code></li><li><code>友元关系是单向的</code></li><li><code>友元关系不能被继承</code></li></ul></blockquote><h3 id="共享数据的保护"><a href="#共享数据的保护" class="headerlink" title="共享数据的保护"></a>共享数据的保护</h3><blockquote><p>常成员函数可以引用const数据成员，也可以引用非const的数据成员；<br>const数据成员可以被const成员函数引用，也可以被非const的成员函数引用；<br>常成员函数不能调用另一个非const成员函数。<br><code>记住定义为const后，其值不能改变即可。对于常对象、常成员函数，肯定也不能调用能改变其他值的函数</code></p><h4 id="常对象"><a href="#常对象" class="headerlink" title="常对象"></a>常对象</h4><p>常对象必须被初始化，不能被更新</p><p><code>常量对象只能调用类的常量成员函数,不能调用非静态成员函数</code></p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">/*类声明*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">A <span class="type">const</span> <span class="title">a</span><span class="params">(<span class="number">3</span>,<span class="number">4</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="type">const</span> A <span class="title">a</span><span class="params">(<span class="number">3</span>,<span class="number">4</span>)</span></span>;<span class="comment">//也正确</span></span><br></pre></td></tr></table></figure><h4 id="常对象成员"><a href="#常对象成员" class="headerlink" title="常对象成员"></a>常对象成员</h4><p><strong>常成员函数</strong></p><p><code>类型说明符 函数名(参数表)const;</code></p><blockquote><ul><li>const是函数类型的组成部分，在定义时候也要带const</li><li>const可用于重载函数的区分</li></ul><blockquote><p><img src="/posts/550257364/1530588925523-16825272380661.png" alt="Alt text"></p></blockquote><ul><li>常成员函数可以访问常对象中的数据成员，常成员函数不能修改目的对象的数据成员的值</li></ul><blockquote><p>例外：用<code>mutable</code>修饰的数据成员可以被常成员函数修改<br>被mutable修饰的常成员对象在任何时候都不会被视为常对象</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;<span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line">&gt;&gt;<span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">&gt;&gt;<span class="keyword">class</span> <span class="title class_">Student</span></span><br><span class="line">&gt;&gt;&#123;</span><br><span class="line">&gt;&gt;<span class="keyword">public</span>:</span><br><span class="line">   <span class="built_in">Student</span>(<span class="type">int</span> n,<span class="type">float</span> s):<span class="built_in">num</span>(n),<span class="built_in">score</span>(s)&#123;&#125;</span><br><span class="line">   <span class="function"><span class="type">void</span> <span class="title">change</span><span class="params">(<span class="type">int</span> n,<span class="type">float</span> s)</span> <span class="type">const</span></span>&#123;num=n;score=s;&#125;</span><br><span class="line">   <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> <span class="type">const</span></span>&#123;cout&lt;&lt;num&lt;&lt;<span class="string">&quot;\t&quot;</span>&lt;&lt;score&lt;&lt;endl;&#125;</span><br><span class="line">&gt;&gt;<span class="keyword">private</span>:</span><br><span class="line">   <span class="keyword">mutable</span> <span class="type">int</span> num;</span><br><span class="line">   <span class="keyword">mutable</span> <span class="type">float</span> score;</span><br><span class="line">&gt;&gt;&#125; ;</span><br></pre></td></tr></table></figure><p>int main()<br>{<br>Student const stud(101,78.5);<br>stud.display();<br>stud.change(101,80.5);<br>stud.display();</p><pre><code>   return 0;
   &#125; 
   /*运行结果*/
   101 78.5
   101 80.5

   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">       </span><br></pre></td></tr></table></figure>
</code></pre></blockquote></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">R</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">printf</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">R::printf</span><span class="params">()</span> <span class="type">const</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure><p><strong>常数据成员</strong></p><blockquote><p><code>常数据成员只能通过构造函数赋值</code><br>类成员的常量和静态变量都应在类外定义<br><code>每个构造函数都要初始化常数据成员</code></p><blockquote><p>特例：类的静态常量如果是整型或枚举，则可以直接在类中定义<br><img src="/posts/550257364/1530588403771-16825272380673.png" alt="Alt text"><br><img src="/posts/550257364/1530588669682-16825272380662.png" alt="Alt text"></p></blockquote></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">A</span>(<span class="type">int</span> i);</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="type">const</span> <span class="type">int</span> a;</span><br><span class="line">		<span class="type">static</span> b;</span><br><span class="line">&#125;；</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> A::b = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">A::<span class="built_in">A</span>(<span class="type">int</span> i):<span class="built_in">a</span>(i)&#123;&#125;</span><br></pre></td></tr></table></figure><p><strong>常引用</strong></p><blockquote><p>常引用被引用的对象不能被更新<br><code>const 类型说明符 &amp;引用名</code><br>一个常引用，无论是绑定普通对象还常对象，通过该应用访问该对象时都将该对象看做常对象<br>对于 基本数据类型的常引用，不能修改值；对类类型的常引用,不能修改类的数据成员，也不能调用其非const的成员函数</p></blockquote><h3 id="多文件结构和编译预处理指令"><a href="#多文件结构和编译预处理指令" class="headerlink" title="多文件结构和编译预处理指令"></a>多文件结构和编译预处理指令</h3><h4 id="C-程序的一般组织结构"><a href="#C-程序的一般组织结构" class="headerlink" title="C++程序的一般组织结构"></a>C++程序的一般组织结构</h4><blockquote><ul><li><code>类定义文件</code>[.h]</li><li><code>类实现文件</code>[.cpp]</li><li><code>类的使用文件</code>[.cpp]<br><code>决定一个生命放在源文件还是头文件的原则：</code></li></ul><blockquote><p>将需要分配内存的函数定义放在源文件中；不需要内存空间的放在头文件<br>特殊的，将内联函数放在 头文件【使多个源文件可见】</p></blockquote><p>自定义文件””；库函数&lt;&gt;；</p></blockquote><h4 id="外部变量和外部函数"><a href="#外部变量和外部函数" class="headerlink" title="外部变量和外部函数"></a>外部变量和外部函数</h4><h5 id="外部变量"><a href="#外部变量" class="headerlink" title="外部变量"></a>外部变量</h5><blockquote><p>外部变量是多个源文件可见的全局变量</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//源文件1</span></span><br><span class="line"><span class="type">int</span> i = <span class="number">3</span>;<span class="comment">//定义性声明</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">next</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	i++;</span><br><span class="line">	<span class="built_in">next</span>();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">next</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	i++;</span><br><span class="line">	<span class="built_in">other</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//源文件2</span></span><br><span class="line"><span class="keyword">extern</span> <span class="type">int</span> i;<span class="comment">//声明一个在其他文件中定义的外部变量；引用性声明</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">other</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><code>定义性声明和引用性声明</code><br>在声明的同时定义的外部变量为定义性声明<br>在命名空间作用域中不适用<code>extern</code>声明的变量，都是定义性声明；<br>用<code>extern</code>声明，同时指定了初值，是定义性声明，否则是引用性声明</p></blockquote><h5 id="外部函数"><a href="#外部函数" class="headerlink" title="外部函数"></a>外部函数</h5><blockquote><p>所有在类外声明的非成员函数，都具有全局命名空间作用域，只要在调用前进行引用性声明即可</p><p>加不加<code>extern</code>效果一样</p></blockquote><h4 id="标准C-库"><a href="#标准C-库" class="headerlink" title="标准C++库"></a>标准C++库</h4><blockquote><p>输入输出类<br>容器类和ADT（抽象数据类型）<br>存储管理类<br>算法<br>错误处理<br>运行环境支持</p></blockquote><h4 id="编译预处理"><a href="#编译预处理" class="headerlink" title="编译预处理"></a>编译预处理</h4><h5 id="include指令"><a href="#include指令" class="headerlink" title="#include指令"></a>#include指令</h5><blockquote><p>将另一个源文件嵌入到当前源文件中该点</p><p><code># include&lt;文件名&gt;</code></p><blockquote><p>文件位于系统目录下的include子目录中</p></blockquote><p><code># include&quot;</code></p><blockquote><p>先在当前目录搜索，如没有 ，再按标准搜索</p></blockquote></blockquote><h5 id="definne和-undef"><a href="#definne和-undef" class="headerlink" title="#definne和# undef"></a>#definne和# undef</h5><blockquote><p>“# undef” 的作用是删除由 #define 定义的宏，使之不再起作用</p></blockquote><h5 id="条件编译指令"><a href="#条件编译指令" class="headerlink" title="条件编译指令"></a>条件编译指令</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">（<span class="number">1</span>）形式一</span><br><span class="line"><span class="meta"># <span class="keyword">if</span> 常量表达式</span></span><br><span class="line">	程序段</span><br><span class="line"><span class="meta"># <span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">（<span class="number">2</span>）形式二</span><br><span class="line"><span class="meta"># <span class="keyword">if</span> 常量表达式</span></span><br><span class="line">	程序段<span class="number">1</span></span><br><span class="line"><span class="meta"># <span class="keyword">else</span> </span></span><br><span class="line">	程序段<span class="number">2</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">（<span class="number">3</span>）形式三</span><br><span class="line"><span class="meta"># <span class="keyword">if</span> 常量表达式1</span></span><br><span class="line"> 程序段<span class="number">1</span></span><br><span class="line"><span class="meta"># <span class="keyword">elif</span> 常量表达式2</span></span><br><span class="line">	程序段<span class="number">2</span></span><br><span class="line">...</span><br><span class="line"><span class="meta"># <span class="keyword">else</span></span></span><br><span class="line">	程序段n</span><br><span class="line"><span class="meta"># <span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">（<span class="number">4</span>）形式四</span><br><span class="line"><span class="meta"># <span class="keyword">ifdef</span> 标识符 <span class="comment">//# ifndef 标识符</span></span></span><br><span class="line">	程序段<span class="number">1</span></span><br><span class="line"><span class="meta"># <span class="keyword">else</span></span></span><br><span class="line">	程序段<span class="number">2</span></span><br><span class="line"><span class="meta"># <span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><h5 id="defined-操作符"><a href="#defined-操作符" class="headerlink" title="defined 操作符"></a>defined 操作符</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">ifndef</span> MYHEAD_H</span></span><br><span class="line"><span class="meta"># <span class="keyword">define</span> MYHEAD_H</span></span><br><span class="line">...</span><br><span class="line"><span class="meta"># <span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*等价于*/</span></span><br><span class="line"><span class="meta"># <span class="keyword">if</span>!defined(MYHEAD_H)</span></span><br><span class="line"><span class="meta"># <span class="keyword">define</span> MYHEAD_H</span></span><br><span class="line">...</span><br><span class="line"><span class="meta"># <span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><hr><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//main.cpp</span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&quot;file1.h&quot;</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&quot;file2.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//file1.h</span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&quot;head.h&quot;</span></span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">//file2.h</span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&quot;head.h&quot;</span></span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">//head.h</span></span><br><span class="line"><span class="meta"># <span class="keyword">ifndef</span> HEAD_H<span class="comment">//避免重复定义Point类</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">define</span> HEAD_H</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="流类库与输入输出"><a href="#流类库与输入输出" class="headerlink" title="流类库与输入输出"></a>流类库与输入输出</h2><h3 id="I-O流类"><a href="#I-O流类" class="headerlink" title="I/O流类"></a>I/O流类</h3><blockquote><p>流是一种抽象，负责建立数据之间的联系，并操作数据的流动<br>程序将流对象看做文件对象对象的化身<br>数据从一个地方传输到另一个地方都是流操作<br>提取:读操作；插入：写操作</p><div class="table-container"><table><thead><tr><th style="text-align:center">类名</th><th style="text-align:center">说明</th><th style="text-align:center">包含文件</th></tr></thead><tbody><tr><td style="text-align:center">抽象流基类</td><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">ios</td><td style="text-align:center">流基类</td><td style="text-align:center">ios</td></tr><tr><td style="text-align:center">输入流类</td><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">istream</td><td style="text-align:center">通用输入流类和其他输入流类的基类</td><td style="text-align:center">istream</td></tr><tr><td style="text-align:center">ifstream</td><td style="text-align:center">文件输入流类</td><td style="text-align:center">fstream</td></tr><tr><td style="text-align:center">istringstream</td><td style="text-align:center">字符串输入流类</td><td style="text-align:center">sstream</td></tr><tr><td style="text-align:center">输出流类</td><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">ostream</td><td style="text-align:center">通用输出流类和其他输出流类的基类</td><td style="text-align:center">ostream</td></tr><tr><td style="text-align:center">ofstream</td><td style="text-align:center">文件输出流类</td><td style="text-align:center">fstream</td></tr><tr><td style="text-align:center">ostringstream</td><td style="text-align:center">字符串输入流类</td><td style="text-align:center">sstream</td></tr><tr><td style="text-align:center">输入输出流类</td><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">iostream</td><td style="text-align:center">t通用输入流输出类和其他输入输出流类的基类</td><td style="text-align:center">istream</td></tr><tr><td style="text-align:center">fstream</td><td style="text-align:center">文件输入输出流类</td><td style="text-align:center">fstream</td></tr><tr><td style="text-align:center">stringstream</td><td style="text-align:center">字符串输入输出流类</td><td style="text-align:center">sstream</td></tr><tr><td style="text-align:center"><img src="/posts/550257364/1530409377663.png" alt="Alt text"></td><td style="text-align:center"></td></tr></tbody></table></div></blockquote><h3 id="使用插入运算符和操纵符"><a href="#使用插入运算符和操纵符" class="headerlink" title="使用插入运算符和操纵符"></a>使用插入运算符和操纵符</h3><blockquote><p>很多操纵符在<code>ios_base</code>和<code>iomanip</code>头文件都有定义，使用时包含<code>&lt;iostream&gt;&lt;iomanip&gt;</code>头文件即可</p></blockquote><p><strong>1.输出宽度</strong></p><blockquote><p>使用<code>setw</code>或调用<code>width</code>成员函数，<code>对紧随 其后的一个域产生影响</code></p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout.<span class="built_in">width</span>()<span class="comment">//=&gt;cout&lt;&lt;setw()</span></span><br><span class="line">	cout.<span class="built_in">fill</span>(<span class="string">&#x27;&#x27;)//设置填充字符</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><p><strong>2.对齐方式</strong></p><blockquote><p>默认为右对齐<br><code>setiosflags</code></p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="built_in">setiosflags</span>(ios_base::left) &lt;&lt; &lt;&lt;<span class="built_in">resetiosflags</span>(ios_base::left);</span><br><span class="line"><span class="comment">//setiosflags的影响是持久的，直到遇到resetiosflags</span></span><br><span class="line"><span class="comment">//需要使用iostream基类的类，需要作用域分辨符::</span></span><br><span class="line"><span class="comment">//setiosflags的其他成员可以由 “|” 自由组合</span></span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center">ios_base::skipws</td><td style="text-align:center">跳过空白</td></tr><tr><td style="text-align:center">ios_base::internal</td><td style="text-align:center">在规定宽度，指定填充字符后，在数值前添加填充字符</td></tr><tr><td style="text-align:center">ios_base::left</td><td style="text-align:center">设置左对齐</td></tr><tr><td style="text-align:center">ios_base::right</td><td style="text-align:center">设置右对齐</td></tr><tr><td style="text-align:center">ios_base::dec</td><td style="text-align:center">十进制</td></tr><tr><td style="text-align:center">ios_base::oct</td><td style="text-align:center">八进制</td></tr><tr><td style="text-align:center">ios_base::hex</td><td style="text-align:center">十六进制</td></tr><tr><td style="text-align:center">ios_base::uppercase</td><td style="text-align:center">十六进制的字母大写</td></tr><tr><td style="text-align:center">ios_base::showbase</td><td style="text-align:center">插入前缀符号表示整数数制</td></tr><tr><td style="text-align:center">ios_base::showpoint</td><td style="text-align:center">浮点数显示小数点和末尾0</td></tr><tr><td style="text-align:center">ios_base::showpos</td><td style="text-align:center">显示正负号</td></tr><tr><td style="text-align:center">ios_base::scientific</td><td style="text-align:center">科学计数格式显示浮点数</td></tr><tr><td style="text-align:center">ios_base::fixed</td><td style="text-align:center">定点格式显示浮点数的值</td></tr></tbody></table></div><p><strong>3.精度</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> i = <span class="number">3466.9768</span>;<span class="comment">//默认显示为34666.98</span></span><br><span class="line">cout &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">6</span>) &lt;&lt; i &lt;&lt; endl;<span class="comment">//计数有小数点3466.976800</span></span><br><span class="line">cout &lt;&lt; <span class="built_in">setiosflags</span>(ios_base::fixed);<span class="comment">//定点标记，输出小数点后一位</span></span><br><span class="line">cout &lt;&lt; <span class="built_in">setiosflags</span>(ios_base::scientific);<span class="comment">//科学计数法</span></span><br><span class="line">cout &lt;&lt; <span class="built_in">resetiosflags</span>(ios_base::fixed);</span><br><span class="line">cout &lt;&lt; <span class="built_in">resetiosflags</span>(ios_base::scientific);</span><br></pre></td></tr></table></figure><h3 id="输出流"><a href="#输出流" class="headerlink" title="输出流"></a>输出流</h3><blockquote><p>输出到流对象<br>三个输出流：<br>ostream：向标准设备输出<br>cout：标准输出流<br>cerr：不经过缓冲区直接向显示器输出有关信息<br>clog：先把信息放在缓冲区，缓冲区满后或遇上endl时向显示器输出</p></blockquote><p>ofstream：支持磁盘文件输出<br>ostringstream</p><h4 id="构造文件输出流对象"><a href="#构造文件输出流对象" class="headerlink" title="构造文件输出流对象"></a>构造文件输出流对象</h4><p>（1）使用默认构造函数，然后调用open成员函数</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ofstream myfile;</span><br><span class="line">mfile.<span class="built_in">open</span>(<span class="string">&quot;filename&quot;</span>);</span><br></pre></td></tr></table></figure><p>（2）调用构造函数时初始化</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ofstream <span class="title">myFile</span><span class="params">(<span class="string">&quot;fliename&quot;</span>)</span></span>;</span><br></pre></td></tr></table></figure><p>（3）同一个流可以打开不同文件</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ofstream file;</span><br><span class="line">file.<span class="built_in">open</span>(<span class="string">&quot;File1&quot;</span>);</span><br><span class="line">...</span><br><span class="line">file.<span class="built_in">close</span>();</span><br><span class="line">file.<span class="built_in">open</span>(<span class="string">&quot;File2&quot;</span>);</span><br><span class="line">...</span><br><span class="line">file.<span class="built_in">close</span>();</span><br></pre></td></tr></table></figure><h4 id="文件输出流成员函数"><a href="#文件输出流成员函数" class="headerlink" title="文件输出流成员函数"></a>文件输出流成员函数</h4><p><strong>输出流open（）函数</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ofstream <span class="title">flie</span><span class="params">(<span class="string">&quot;filename&quot;</span>,ios_base::out|ios_base::binary)</span></span>;</span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th style="text-align:center">标志</th><th style="text-align:center">功能</th></tr></thead><tbody><tr><td style="text-align:center">ios_base::app</td><td style="text-align:center">打开输出文件在末尾添加数据</td></tr><tr><td style="text-align:center">ios_base::ate</td><td style="text-align:center">打开现存文件并查找到结尾</td></tr><tr><td style="text-align:center">ios_base::in</td><td style="text-align:center">打开一个输入文件</td></tr><tr><td style="text-align:center">ios_base::out</td><td style="text-align:center">打开一个输出文件,默认此模式</td></tr><tr><td style="text-align:center">ios_base::trunc</td><td style="text-align:center">打开文件并格式化；若制定了ios_base::out并为指出ios_base::ate,ios_base::app,ios_base::in，则默认此模式</td></tr><tr><td style="text-align:center">ios_base::binary</td><td style="text-align:center">以 二进制打开文件</td></tr></tbody></table></div><p><strong>输出流close()函数</strong></p><blockquote><p>关闭与一个文件输出流关联的文件</p></blockquote><p><strong>put函数</strong><br>精确输出</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cout.<span class="built_in">put</span>(<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">cout &lt;&lt; <span class="string">&#x27;A&#x27;</span>;</span><br></pre></td></tr></table></figure><p><strong>write函数</strong></p><blockquote><p>将一个内存中的一块内容写到文件输出流中，长度为参数指出；<br><code>遇空格不停止</code></p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Data</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> month,day,year;<span class="comment">//会出现乱码</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Data dt = &#123;<span class="string">&#x27;6&#x27;</span>,<span class="string">&#x27;10&#x27;</span>,<span class="string">&#x27;92&#x27;</span>&#125;;</span><br><span class="line">	<span class="function">ofstream <span class="title">file</span><span class="params">(<span class="string">&quot;data.doc&quot;</span>,ios_base::binary)</span></span>;</span><br><span class="line">	</span><br><span class="line">	file.<span class="built_in">write</span>(<span class="built_in">reinterpret_cast</span>&lt;<span class="type">char</span>*&gt;(&amp;dt),<span class="built_in">sizeof</span>(dt));<span class="comment">//使用指针转换，不保证全部内容都输出到文件中</span></span><br><span class="line">	file.<span class="built_in">close</span>();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>错误处理函数</strong></p><div class="table-container"><table><thead><tr><th style="text-align:center">函数</th><th style="text-align:center">功能及返回值</th></tr></thead><tbody><tr><td style="text-align:center">bad</td><td style="text-align:center">出现不可恢复的错误，返回非0值</td></tr><tr><td style="text-align:center">fail</td><td style="text-align:center">出现不可恢复 的错误或者一个预期条件，返回非0值</td></tr><tr><td style="text-align:center">eof</td><td style="text-align:center">遇文件尾，返回 非0值</td></tr></tbody></table></div><p><strong>二进制输出文件</strong></p><blockquote><p>使用二进制模式，所写的字符是不转换的</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">   <span class="type">char</span> data[<span class="number">100</span>];</span><br><span class="line"> </span><br><span class="line">   <span class="comment">// 以写模式打开文件</span></span><br><span class="line">   ofstream outfile;</span><br><span class="line">   outfile.<span class="built_in">open</span>(<span class="string">&quot;afile.dat&quot;</span>,ios_base::binary);</span><br><span class="line"> </span><br><span class="line">   cout &lt;&lt; <span class="string">&quot;Writing to the file&quot;</span> &lt;&lt; endl;</span><br><span class="line">   cout &lt;&lt; <span class="string">&quot;Enter your name: &quot;</span>; </span><br><span class="line">   cin.<span class="built_in">getline</span>(data, <span class="number">100</span>);</span><br><span class="line"> </span><br><span class="line">   <span class="comment">// 向文件写入用户输入的数据</span></span><br><span class="line">   outfile &lt;&lt; data &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line">   cout &lt;&lt; <span class="string">&quot;Enter your age: &quot;</span>; </span><br><span class="line">   cin &gt;&gt; data;</span><br><span class="line">   cin.<span class="built_in">ignore</span>();</span><br><span class="line">   </span><br><span class="line">   <span class="comment">// 再次向文件写入用户输入的数据</span></span><br><span class="line">   outfile &lt;&lt; data &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line">   <span class="comment">// 关闭打开的文件</span></span><br><span class="line">   outfile.<span class="built_in">close</span>();</span><br><span class="line"> </span><br><span class="line">   <span class="comment">// 以读模式打开文件</span></span><br><span class="line">   ifstream infile; </span><br><span class="line">   infile.<span class="built_in">open</span>(<span class="string">&quot;afile.dat&quot;</span>); </span><br><span class="line"> </span><br><span class="line">   cout &lt;&lt; <span class="string">&quot;Reading from the file&quot;</span> &lt;&lt; endl; </span><br><span class="line">   infile &gt;&gt; data; </span><br><span class="line"> </span><br><span class="line">   <span class="comment">// 在屏幕上写入数据</span></span><br><span class="line">   cout &lt;&lt; data &lt;&lt; endl;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">// 再次从文件读取数据，并显示它</span></span><br><span class="line">   infile &gt;&gt; data; </span><br><span class="line">   cout &lt;&lt; data &lt;&lt; endl; </span><br><span class="line"> </span><br><span class="line">   <span class="comment">// 关闭打开的文件</span></span><br><span class="line">   infile.<span class="built_in">close</span>();</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/posts/550257364/1530415470052-16825272380674.png" alt="Alt text"><br><img src="/posts/550257364/1530415500862-16825272380675.png" alt="Alt text"></p><p><strong>字符串输出流</strong></p><blockquote><p>ostringstream表示一个字符串输出流</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*有一个形参的构造函数，表示打开方式*/</span></span><br><span class="line"><span class="comment">/*两个形参，第一个表示用这个字符串内容初始化，第二个形参表示打开方式*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sstream&gt;</span> </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	string test = <span class="string">&quot;-123 9.87 welcome to, 989, test!&quot;</span>;</span><br><span class="line">	istringstream iss;<span class="comment">//istringstream提供读 string 的功能</span></span><br><span class="line">	iss.<span class="built_in">str</span>(test);<span class="comment">//将 string 类型的 test 复制给 iss，返回 string对象</span></span><br><span class="line">	string s;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;按照空格读取字符串:&quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">while</span> (iss &gt;&gt; s)&#123;</span><br><span class="line">		cout &lt;&lt; s &lt;&lt; endl;<span class="comment">//按空格读取string</span></span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;*********************&quot;</span> &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line">	<span class="function">istringstream <span class="title">strm</span><span class="params">(test)</span></span>; </span><br><span class="line">	<span class="comment">//创建存储 test 的副本的 stringstream 对象</span></span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	<span class="type">float</span> f;</span><br><span class="line">	<span class="type">char</span> c;</span><br><span class="line">	<span class="type">char</span> buff[<span class="number">1024</span>];</span><br><span class="line"> </span><br><span class="line">	strm &gt;&gt; i;</span><br><span class="line">	cout &lt;&lt;<span class="string">&quot;读取int类型：&quot;</span>&lt;&lt; i &lt;&lt; endl;</span><br><span class="line">	strm &gt;&gt; f;</span><br><span class="line">	cout &lt;&lt;<span class="string">&quot;读取float类型：&quot;</span>&lt;&lt;f &lt;&lt; endl;</span><br><span class="line">	strm &gt;&gt; c;</span><br><span class="line">	cout &lt;&lt;<span class="string">&quot;读取char类型：&quot;</span>&lt;&lt; c &lt;&lt; endl;</span><br><span class="line">	strm &gt;&gt; buff;</span><br><span class="line">	cout &lt;&lt;<span class="string">&quot;读取buffer类型：&quot;</span>&lt;&lt; buff &lt;&lt; endl;</span><br><span class="line">	strm.<span class="built_in">ignore</span>(<span class="number">100</span>, <span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">	<span class="type">int</span> j;</span><br><span class="line">	strm &gt;&gt; j;</span><br><span class="line">	cout &lt;&lt;<span class="string">&quot;忽略‘，’读取int类型：&quot;</span>&lt;&lt; j &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="输入流"><a href="#输入流" class="headerlink" title="输入流"></a>输入流</h3><blockquote><p>从流中输入</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ifstream myFile;</span><br><span class="line"><span class="built_in">myFile</span>(<span class="string">&quot;filename&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="function">ifstream <span class="title">myFile</span><span class="params">(<span class="string">&quot;filename&quot;</span>)</span></span>;</span><br></pre></td></tr></table></figure><p><strong>&gt;&gt;</strong></p><blockquote><p>以空白符为分隔</p></blockquote><h4 id="输入流相关函数"><a href="#输入流相关函数" class="headerlink" title="输入流相关函数"></a>输入流相关函数</h4><p><strong>get()</strong></p><blockquote><p>单个读入，包含空白符</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">char</span> ch;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>((ch = cin.<span class="built_in">get</span>()) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		cout.<span class="built_in">put</span>(ch);</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>getline()</strong><br>getline(输入流,char *s,char ch);</p><blockquote><p>读取至分隔符，读取完后删除分隔符</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	string line;</span><br><span class="line">	<span class="type">char</span> t;</span><br><span class="line"></span><br><span class="line">	cin &gt;&gt; t;</span><br><span class="line">	<span class="built_in">getline</span>(cin,line,t);</span><br><span class="line">	cout &lt;&lt; line &lt;&lt; endl;</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>open()</strong></p><div class="table-container"><table><thead><tr><th style="text-align:center">格式</th><th style="text-align:left">功能</th></tr></thead><tbody><tr><td style="text-align:center">ios_base::in</td><td style="text-align:left">打开文件用于输入</td></tr><tr><td style="text-align:center">ios_base::binary</td><td style="text-align:left">以二进制文件打开</td></tr></tbody></table></div><p><strong>close()</strong></p><blockquote><p>关闭输入文件</p></blockquote><p><strong>read()</strong></p><blockquote><p>从文件中读字节到指定存储器；给出长度，遇文件结束或在文本模式遇到结束标识符，读入结束</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">SalaryInfo</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> id[<span class="number">10</span>];</span><br><span class="line">	<span class="type">char</span> salary[<span class="number">10</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	SalaryInfo employee1 = &#123;<span class="string">&#x27;60001&#x27;</span>,<span class="string">&#x27;8000&#x27;</span>&#125;;</span><br><span class="line">	<span class="function">ofstream <span class="title">os</span><span class="params">(<span class="string">&quot;Payroll.txt&quot;</span>,ios_base::out|ios_base::binary)</span></span>;</span><br><span class="line">	os.<span class="built_in">write</span>(<span class="built_in">reinterpret_cast</span>&lt;<span class="type">char</span> *&gt;(&amp; employee1),<span class="built_in">sizeof</span>(employee1));</span><br><span class="line">	os.<span class="built_in">close</span>();	</span><br><span class="line">	</span><br><span class="line">	<span class="function">ifstream <span class="title">is</span><span class="params">(<span class="string">&quot;Payroll.txt&quot;</span>,ios_base::in|ios_base::binary)</span></span>;</span><br><span class="line">	<span class="keyword">if</span>(is)</span><br><span class="line">	&#123;</span><br><span class="line">		SalaryInfo employee2;</span><br><span class="line">		is.<span class="built_in">read</span>(<span class="built_in">reinterpret_cast</span>&lt;<span class="type">char</span> *&gt;(&amp; employee2),<span class="built_in">sizeof</span>(employee2));</span><br><span class="line">		cout &lt;&lt; employee2.id &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; employee2.salary &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;Error&quot;</span> &lt;&lt; endl; </span><br><span class="line">	&#125;</span><br><span class="line">	is.<span class="built_in">close</span>();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>字符串输出流</strong></p><blockquote><p>字符串转换为数值</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;<span class="comment">//函数模板，出现&lt;内容&gt;的地方都用T代替 </span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> T <span class="title">fromString</span><span class="params">(<span class="type">const</span> string &amp;str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">istringstream <span class="title">is</span><span class="params">(str)</span></span>;</span><br><span class="line">	T v;</span><br><span class="line">	is &gt;&gt; v;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> v;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> v1 = <span class="built_in">fromString</span>&lt;<span class="type">int</span>&gt;(<span class="string">&quot;5&quot;</span>);</span><br><span class="line">	cout &lt;&lt; v1 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="type">double</span> v2 = <span class="built_in">fromString</span>&lt;<span class="type">double</span>&gt;(<span class="string">&quot;1.2&quot;</span>);</span><br><span class="line">	cout &lt;&lt; v2 &lt;&lt; endl;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*数值转字符串*/</span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> string <span class="title">toString</span><span class="params">(<span class="type">const</span> T &amp;v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ostringstream os;</span><br><span class="line">	os &lt;&lt; v;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> os.<span class="built_in">str</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	string str1 = <span class="built_in">toString</span>(<span class="number">5</span>);</span><br><span class="line">	cout &lt;&lt; str1 &lt;&lt; endl;</span><br><span class="line">	string str2 = <span class="built_in">toString</span>(<span class="number">1.2</span>);</span><br><span class="line">	cout &lt;&lt; str2 &lt;&lt; endl;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>seekg,tellg</strong></p><blockquote><p>在文件输入流中，保留着一个指向文件中下一个将读入数据的位置的内部指针，用<code>seekg</code>设置指针</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span><span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> values[] = &#123;<span class="number">3</span>,<span class="number">7</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">4</span>&#125;;</span><br><span class="line">	<span class="function">ofstream <span class="title">os</span><span class="params">(<span class="string">&quot;integers&quot;</span>,ios_base::out|ios_base::binary)</span></span>;</span><br><span class="line">	os.<span class="built_in">write</span>(<span class="built_in">reinterpret_cast</span>&lt;<span class="type">char</span>* &gt;(values),<span class="built_in">sizeof</span>(values));</span><br><span class="line">	os.<span class="built_in">close</span>();</span><br><span class="line">	</span><br><span class="line">	<span class="function">ifstream <span class="title">is</span><span class="params">(<span class="string">&quot;integers&quot;</span>,ios_base::in|ios_base::binary)</span></span>;</span><br><span class="line">	<span class="keyword">if</span>(is)</span><br><span class="line">	&#123;</span><br><span class="line">		is.<span class="built_in">seekg</span>(<span class="number">3</span>*<span class="built_in">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">		<span class="type">int</span> v;</span><br><span class="line">		is.<span class="built_in">read</span>(<span class="built_in">reinterpret_cast</span>&lt;<span class="type">char</span>*&gt;(&amp;v),<span class="built_in">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;4th is:&quot;</span> &lt;&lt; v &lt;&lt; endl;</span><br><span class="line"> 	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*5*/</span></span><br></pre></td></tr></table></figure></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------<i class="fa fa-hand-peace-o"></i>本文结束-------------</div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者 </strong>AmosTian</li><li class="post-copyright-link"><strong>本文链接 </strong><a href="https://amostian.github.io/posts/550257364/" title="5-数组、指针和字符串">https://amostian.github.io/posts/550257364/</a></li><li class="post-copyright-license"><strong>版权声明 </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" rel="tag"><i class="fa fa-tags"></i> 编程语言</a> <a href="/tags/%E7%BC%96%E8%AF%91%E5%9E%8B%E8%AF%AD%E8%A8%80/" rel="tag"><i class="fa fa-tags"></i> 编译型语言</a> <a href="/tags/C/" rel="tag"><i class="fa fa-tags"></i> C++</a></div><div class="post-nav"><div class="post-nav-item"><a href="/posts/3460157908/" rel="prev" title="仿真实验"><i class="fa fa-chevron-left"></i> 仿真实验</a></div><div class="post-nav-item"><a href="/posts/3301439751/" rel="next" title="5-指针">5-指针 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-%E6%95%B0%E7%BB%84"><span class="nav-text">2.1 数组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E5%90%8D%E4%BD%9C%E4%B8%BA%E5%BD%A2%E5%8F%82"><span class="nav-text">数组名作为形参</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-%E6%8C%87%E9%92%88"><span class="nav-text">2.2 指针</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-1-%E5%B8%B8%E9%87%8F%E6%8C%87%E9%92%88"><span class="nav-text">2.2.1 常量指针</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-2-%E6%8C%87%E9%92%88%E5%B8%B8%E9%87%8F"><span class="nav-text">2.2.2 指针常量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E3%80%81%E6%8C%87%E9%92%88%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-text">数组、指针与字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%87%E9%92%88"><span class="nav-text">指针</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8C%87%E9%92%88%E6%95%B0%E7%BB%84"><span class="nav-text">指针数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8C%87%E5%90%91%E5%87%BD%E6%95%B0%E7%9A%84%E6%8C%87%E9%92%88"><span class="nav-text">指向函数的指针</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E6%8C%87%E9%92%88"><span class="nav-text">对象指针</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#this%E6%8C%87%E9%92%88"><span class="nav-text">this指针</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8C%87%E5%90%91%E7%B1%BB%E7%9A%84%E9%9D%9E%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E7%9A%84%E6%8C%87%E9%92%88"><span class="nav-text">指向类的非静态成员的指针</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8C%87%E5%90%91%E7%B1%BB%E7%9A%84%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E7%9A%84%E6%8C%87%E9%92%88"><span class="nav-text">指向类的静态成员的指针</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E5%88%86%E9%85%8D%E5%86%85%E5%AD%98"><span class="nav-text">动态分配内存</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BB%BA%E7%AB%8B%EF%BC%8C%E5%88%A0%E9%99%A4%E5%A0%86%E5%AF%B9%E8%B1%A1-new-delete"><span class="nav-text">建立，删除堆对象:new,delete</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E3%80%81%E5%88%A0%E9%99%A4%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B%E5%AF%B9%E8%B1%A1"><span class="nav-text">创建、删除数组类型对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8vector%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1"><span class="nav-text">用vector创建数组对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%B1%E5%A4%8D%E5%88%B6%E4%B8%8E%E6%B5%85%E5%A4%8D%E5%88%B6"><span class="nav-text">深复制与浅复制</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-text">字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#string%E7%B1%BB"><span class="nav-text">string类</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%9A%84%E5%85%B1%E4%BA%AB%E4%B8%8E%E4%BF%9D%E6%8A%A4"><span class="nav-text">数据的共享与保护</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%87%E8%AF%86%E7%AC%A6%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%92%8C%E5%8F%AF%E8%A7%81%E6%80%A7"><span class="nav-text">标识符的作用域和可见性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%94%9F%E5%AD%98%E6%9C%9F"><span class="nav-text">对象的生存期</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E7%94%9F%E5%AD%98%E6%9C%9F"><span class="nav-text">静态生存期</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E9%9D%99%E6%80%81%E6%88%90%E5%91%98"><span class="nav-text">类的静态成员</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E7%94%9F%E5%AD%98%E6%9C%9F"><span class="nav-text">动态生存期</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E5%8F%8B%E5%85%83"><span class="nav-text">类的友元</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%8B%E5%85%83%E5%87%BD%E6%95%B0"><span class="nav-text">友元函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%8B%E5%85%83%E7%B1%BB"><span class="nav-text">友元类</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE%E7%9A%84%E4%BF%9D%E6%8A%A4"><span class="nav-text">共享数据的保护</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E5%AF%B9%E8%B1%A1"><span class="nav-text">常对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E5%AF%B9%E8%B1%A1%E6%88%90%E5%91%98"><span class="nav-text">常对象成员</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%E5%92%8C%E7%BC%96%E8%AF%91%E9%A2%84%E5%A4%84%E7%90%86%E6%8C%87%E4%BB%A4"><span class="nav-text">多文件结构和编译预处理指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#C-%E7%A8%8B%E5%BA%8F%E7%9A%84%E4%B8%80%E8%88%AC%E7%BB%84%E7%BB%87%E7%BB%93%E6%9E%84"><span class="nav-text">C++程序的一般组织结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%96%E9%83%A8%E5%8F%98%E9%87%8F%E5%92%8C%E5%A4%96%E9%83%A8%E5%87%BD%E6%95%B0"><span class="nav-text">外部变量和外部函数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A4%96%E9%83%A8%E5%8F%98%E9%87%8F"><span class="nav-text">外部变量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A4%96%E9%83%A8%E5%87%BD%E6%95%B0"><span class="nav-text">外部函数</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%87%E5%87%86C-%E5%BA%93"><span class="nav-text">标准C++库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%96%E8%AF%91%E9%A2%84%E5%A4%84%E7%90%86"><span class="nav-text">编译预处理</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#include%E6%8C%87%E4%BB%A4"><span class="nav-text">#include指令</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#definne%E5%92%8C-undef"><span class="nav-text">#definne和# undef</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E7%BC%96%E8%AF%91%E6%8C%87%E4%BB%A4"><span class="nav-text">条件编译指令</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#defined-%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="nav-text">defined 操作符</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%81%E7%B1%BB%E5%BA%93%E4%B8%8E%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="nav-text">流类库与输入输出</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#I-O%E6%B5%81%E7%B1%BB"><span class="nav-text">I&#x2F;O流类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%8F%92%E5%85%A5%E8%BF%90%E7%AE%97%E7%AC%A6%E5%92%8C%E6%93%8D%E7%BA%B5%E7%AC%A6"><span class="nav-text">使用插入运算符和操纵符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BE%93%E5%87%BA%E6%B5%81"><span class="nav-text">输出流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA%E6%B5%81%E5%AF%B9%E8%B1%A1"><span class="nav-text">构造文件输出流对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA%E6%B5%81%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0"><span class="nav-text">文件输出流成员函数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BE%93%E5%85%A5%E6%B5%81"><span class="nav-text">输入流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BE%93%E5%85%A5%E6%B5%81%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0"><span class="nav-text">输入流相关函数</span></a></li></ol></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="AmosTian" src="/images/avatar.png"><p class="site-author-name" itemprop="name">AmosTian</p><div class="site-description" itemprop="description">知道的越多，不知道的越多</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">360</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">58</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">74</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/AmosTian" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;AmosTian" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="https://blog.csdn.net/qq_40479037?type=blog" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_40479037?type&#x3D;blog" rel="noopener" target="_blank"><i class="fa fa-fw fa-crosshairs"></i>CSDN</a> </span><span class="links-of-author-item"><a href="mailto:17636679561@163.com" title="E-Mail → mailto:17636679561@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a></span></div></div><div id="days"></div><script>function show_date_time(){window.setTimeout("show_date_time()",1e3),BirthDay=new Date("01/27/2022 15:13:14"),today=new Date,timeold=today.getTime()-BirthDay.getTime(),sectimeold=timeold/1e3,secondsold=Math.floor(sectimeold),msPerDay=864e5,e_daysold=timeold/msPerDay,daysold=Math.floor(e_daysold),e_hrsold=24*(e_daysold-daysold),hrsold=setzero(Math.floor(e_hrsold)),e_minsold=60*(e_hrsold-hrsold),minsold=setzero(Math.floor(60*(e_hrsold-hrsold))),seconds=setzero(Math.floor(60*(e_minsold-minsold))),document.getElementById("days").innerHTML="已运行 "+daysold+" 天 "+hrsold+" 小时 "+minsold+" 分 "+seconds+" 秒"}function setzero(e){return e<10&&(e="0"+e),e}show_date_time()</script></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="fa fa-grav"></i> </span><span class="author" itemprop="copyrightHolder">AmosTian</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-area-chart"></i> </span><span class="post-meta-item-text">站点总字数 </span><span title="站点总字数">850.6k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span class="post-meta-item-text">站点阅读时长 &asymp;</span> <span title="站点阅读时长">35:36</span></div></div></footer></div><script color="0,0,0" opacity="0.5" zindex="-1" count="150" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="/js/local-search.js"></script><script>if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'neutral',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}</script><script>if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
          load: ['[tex]/mhchem'],
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }</script><script async src="/js/cursor/fireworks.js"></script><script src="/js/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!1,document.body.addEventListener("input",POWERMODE)</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"model":{"jsonPath":"live2d-widget-model-hijiki"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false});</script></body></html>